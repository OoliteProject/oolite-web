<div id="gallery">
<?php

$images = array(
	"Basic game" => array(
		"Main.jpg" => "Oolite's start screen includes an expansion pack manager and quick reference guides",
		"Tutorial.png" => "A tutorial introduces the basics of piloting, combat, and travel.",
		"Maraus.png" => "Oolite has over 2000 systems to explore. This is Maraus, a wealthy industrial world.",
		"Contracts.png" => "A route finder allows long journeys to be planned - great for transport contracts",
		"Station.png" => "Orbital stations provide facilities and protection to pilots",
		"Equipment.png" => "A wide range of equipment is available to increase your chances of survival."
		),
	"Expansion packs" => array(
		"NovaMining.jpg" => "Mining...my own business",
		"CrescentPlanet.jpg" => "Crescent Planet",
		"GriffThargoid.png" => "Thargoid warships",
		"CatII.png" => "A Cat Mark II launching a missile under heavy fire",
		"Kiota.png" => "A fight near a Kiota Manufacturing Station",
		"Dodec.png" => "The docking port of a Dodecahedron station",
		"Griffin.png" => "A Griffin light trader beginning docking approach",
		"RandomHits.png" => "Many expansion packs add extra careers - in this case, contract assassin",
		"TradePost.jpg" => "A freighter launches from a trade outpost",
		"another_commander-TheTraveller.png" => "The Traveller",
		"another-commander-oolite-1175.png" => "Near-collision experience",
		"another-commander-oolite-1208.png" => "Skimming those flames",
		"pleiadian20170312-oolite-012.png" => "Camo-coated my ride",
		"pleiadian20170312-oolite-014.png" => "Leaving the Torus",
		"another_comander-oolite-1085.png" => "Pinched my... aft",
		"another_commander-Cobra2X_01.png" => "Cobra-II X",
		"another_commander-iguana02.png" => "Long distance call",
		"another_commander-iguana04.png" => "Evading arrest",
		"another_commander-iguana05.png" => "Spread'em!",
		"another_commander-oolite-016.png" => "Travel in an orbit",
		"another_commander-oolite-1015.png" => "The Kiota Research Station",
		"another_commander-oolite-1029.png" => "Thargoid lurking in interstellar space",
		"another_commander-oolite-1159.png" => "Ice and dust highway",
		"another_commander-oolite-1169.png" => "Space sobrero",
		"another_commander-oolite-1209.png" => "Heroes emerge from flames",
		"another_commander-20160514-Ferdie01.jpg" => "Sunshine... not the movie",
		"another_commander-20160609-oolite_005.jpg" => "Jester's Dead, Yee-haw!",
		"another_commander-20160609-oolite_007.jpg" => "Spot-on, Commander!",
		"another_commander-20160816-kraitYo03.jpg" => "How to miss a sitting duck",
		"another_commander-20160816-kraitYo04.jpg" => "Krait in trouble",
		"another_commander-20160816-kraitYo07.jpg" => "Engaging near a GalCop station",
		"another_commander-20170627-combat19.jpg" => "Any...blast words?",
		"another_commander-20170718-EDHUD02.jpg" => "Grasp the rooster tail",
		"another_commander-20170718-EDHUD04.jpg" => "Bullseye",
		"another_commander-20170718-EDHUD05.jpg" => "Aft view monitor screen effect",
		"another_commander-20171108-kiota4SolarWith2Cobra.png" => "Hiding in the shadows",
		"another_commander-20171109-dogfightAsteroidField.png" => "Dogfight in the asteroid belt",
		"another_commander-20171201-oolite-004.png" => "Watch out for 'em rocks!",
		"another_commander-20171201-oolite-005.png" => "Hide 'n seek",
		"another_commander-20171201-oolite-010.png" => "Going Off Road!",
		"another_commander-20171201-oolite-014.png" => "Steady... Rock steady!",
		"another_commander-20171201-oolite-020.png" => "Asteroid storm",
		"another_commander-AnacondaDown03.jpg" => "",
		"another_commander-20171201-oolite-023.png" => "Rock am Ring festival",
		"another_commander-20171201-oolite-026.png" => "Hitchhiker's Guide to... Off-Roading",
		"another_commander-AnacondaDown01.jpg" => "Spoils of war",
		"another_commander-AnacondaDown02.jpg" => "Just blown an anaconda",
		"another_commander-AnacondaDown04.jpg" => "Loot... in space",
		"another_commander-Boa_Chase00.jpg" => "Boa's escort alerted",
		"another_commander-Boa_Chase01.jpg" => "Messing with a Boa",
		"another_commander-Boa_Chase02.jpg" => "Boa in distress",
		"another_commander-Boa_Chase03.jpg" => "Defending a Boa",
		"another_commander-earth_Like01.jpg" => "Earth-like system",
		"another_commander-stationApproach.jpg" => "Station Approach",
		"cody20160213-Ceerti.png" => "Ceerti - a revolting little planet",
		"cody20160217-Xeonar.png" => "Xeonar - scourged by evil disease",
		"cody20160415-Outbound.png" => "A journey begins",
		"cody20170319-Gebeti.png" => "Gebeti - fabled for its ancient Et banana plantations",
		"cody20170626-Rings-1.png" => "Confined in rings",
		"cody20170819-Ceraxete.png" => "Ceraxete - inhabited by fierce harmless slimy frogs",
		"cody20170924-Ribior.png" => "Ribior - noted for its mountain slugs",
		"devium20151110-interstellar.png" => "Interstellar jump hijack",
		"gsagostinho20160128-oolite.png" => "",
		"gsagostinho20170705-shot.png" => "Quedle system is cursed by killer edible talking treeoids",
		"gsagostinho20170711b-image.png" => "Coming home",
		"gsagostinho20170711-image.png" => "Planet with cityscape",
		"gsagostinho20170806-oolite-002.jpg" => "4x \"witch\"drive towards the eclipse",
		"gsagostinho20171106-oolite-007.png" => "The \"eclipsing\" Cobra Mk. IV",
		"norby20160517-StarDestroyerHoover.png" => "Star Destroyer Hoover",
		"norby20161125-consg.png" => "Constrictor caught on camera",
		"pagroove20160521-Cat3.png" => "Love'em marbles",
		"pagroove-ooplanet.png" => "Paint'em with magenta star light",
		"phkb20160518-approaching_dock.png" => "Abandoned Torus station approach",
		"phkb20161014-oolite-077.png" => "",
		"phkb20161014-oolite-078.png" => "Gas giant flyby",
		"phkb20161014-oolite-080.png" => "The Cobra Mk. I",
		"phkb20161014-oolite-087.png" => "Waxing crescent",
		"phkb20161024-oolite-102.png" => "Saturated",
		"phkb20161130-oolite-129.png" => "From dusk till dawn",
		"phkb20161130-oolite-130.png" => "Big brother is watching",
		"pleiadian20170401-forumimage.png" => "Mandelbrot was here",
		"pleiadian20170408b-forumimage.png" => "The Lord of the Rings",
		"pleiadian20170408-forumimage.png" => "Match that station's rotation!",
		"another_commander-20160421-combat14.jpg" => "Hostile work environment",
		"another_commander-20160421-combat15.jpg" => "Red alert",
		"another_commander-20160421-combat16.jpg" => "Law enforcement crossfire"
		)
	);

$meta = array(
	"NovaMining.jpg" => "Screenshot by another_commander with Zygo Cinematic Skies, Griff Ships, Zygo Explosions and other OXPs",
	"CrescentPlanet.jpg" => "Screenshot by Cody with CinematicSky&Nebulas, Farsun, and Povray Planets OXPs", // http://s1355.photobucket.com/user/Commander-Cody/media/Oolite/Crescent-2_zpsaf930f29.png.html
	"Maraus.png" => "Screenshot by Another_Commander",
	"GriffThargoid.png" => "Screenshot with CinematicSky&Nebulas and Griff's Ship set",
	"CatII.png" => "Cat Mark II from Random Hits",
	"Kiota.png" => "Wildships and Griff's Ship set",
	"RandomHits.png" => "Random Hits expansion pack",
	"TradePost.jpg" => "Your Ad Here! and Griff Boa"
	);

function image_randomiser($a,$b)
{
	return 2*(rand(1,2)-1.5);
}

foreach ($images as $header => $imageset) 
{
	print ("<h2 class='galleryhead'>$header</h2>\n");
	if (count($imageset) > 9)
	{
		print ("<p style=\"color: #aaa; margin: 0; margin-top: 0em; padding: 0em; font-size: 75%;\"><i><b>[Refresh page for a new set of random screenshots]</b></i></p>");
		uksort($imageset,"image_randomiser");
		$imageset = array_slice($imageset,0,9);
	}
	else if ($header != "Basic game")
	{
		uksort($imageset,"image_randomiser");
	}
	
	print ("<div class='galleryblock'>");
	$set = 0;
	foreach ($imageset as $image => $caption) 
	{
		$set++;
		print ("<div class='galleryitem'>");
		print ("<a href='".OO_NAV_BASE."/images/gallery/large/$image'><img src='".OO_NAV_BASE."/images/gallery/small/$image' alt=''");
		if (isset($meta[$image]))
		{
			print(" title=\"".htmlspecialchars($meta[$image])."\"");
		}
		print ("><span>".$caption."</span></a>");
		print ("</div>");
		if ($set % 3 == 0)
		{
			print ("<br class='gallerysep'>");
		}
	}
	print ("</div>");
	print ("</br></br>");
}

?>
</div>

