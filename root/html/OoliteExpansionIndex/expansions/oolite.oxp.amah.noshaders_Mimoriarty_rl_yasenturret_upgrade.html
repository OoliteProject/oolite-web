<html>
    <head>
        <title>Expansion buyable/sellable Yasen-N turrets.</title>
        <link rel="stylesheet" href="../style.css">
    </head>
    <body>
        <table border="0" width="100%">
            <tr>
                <td>Back to <a href='../index.html'>Index</a></td>
                <td align="right"><small>Page generated: Oct 11, 2023, 3:16:49 PM</small></td>
            </tr>
        </table>

        <h1>Expansion buyable/sellable Yasen-N turrets.</h1>

        <h2>Content</h2>
        <ul>
          <li><a href="#warnings">Warnings</a></li>
          <li><a href="#manifest">Manifest</a></li>
          <li><a href="#documentation">Documentation</a></li>
          <li><a href="#equipment">2 Equipment</a></li>
          <li><a href="#ships">0 Ships</a></li>
          <li><a href="#models">0 Models</a></li>
          <li><a href="#scripts">2 Scripts</a></li>
        </ul>

          <a name="warnings">
            <h2>Warnings</h2>
            <ol>
                <li>Tags mismatch between OXP Manifest and Expansion Manager at character position 0002 (RIGHT SQUARE BRACKET vs LATIN SMALL LETTER S)(&#39;[]&#39; vs &#39;[ships]&#39;)</li>
            </ol>
          </a>

        <a name="manifest">
        <h2>Manifest</h2>
            <table border="1">
                <tr>
                    <th></th>
                    <th>from Expansion Manager's OXP list</th>
                    <th>from Expansion Manifest</th>
                </tr>
                <tr>
                    <td>Description</td>
                    <td>Adds an upgrade path for the basic Yasen-N class ship by making the turret a buyable/sellable equipment. (Needs the Mimoriarty&#39;s RL ships and Shipstoragehelper</td>
                    <td>Adds an upgrade path for the basic Yasen-N class ship by making the turret a buyable/sellable equipment. (Needs the Mimoriarty&#39;s RL ships and Shipstoragehelper</td>
                </tr>
                <tr>
                    <td>Identifier</td>
                    <td>oolite.oxp.amah.noshaders_Mimoriarty_rl_yasenturret_upgrade</td>
                    <td>oolite.oxp.amah.noshaders_Mimoriarty_rl_yasenturret_upgrade</td>
                </tr>
                <tr>
                    <td>Title</td>
                    <td>buyable/sellable Yasen-N turrets.</td>
                    <td>buyable/sellable Yasen-N turrets.</td>
                </tr>
                <tr>
                    <td>Category</td>
                    <td>Equipment</td>
                    <td>Equipment</td>
                </tr>
                <tr>
                    <td>Author</td>
                    <td>phkb, Michael -Amah- Doering</td>
                    <td>phkb, Michael -Amah- Doering</td>
                </tr>
                <tr>
                    <td>Version</td>
                    <td>0.6</td>
                    <td>0.6</td>
                </tr>
                <tr>
                    <td>Tags</td>
                    <td></td>
                    <td>ships</td>
                </tr>
                <tr>
                    <td>Required Oolite Version</td>
                    <td></td>
                    <td></td>
                </tr>
                <tr>
                    <td>Maximum Oolite Version</td>
                    <td></td>
                    <td></td>
                </tr>
                <tr>
                    <td>Required Expansions</td>
                    <td>
                    </td>
                    <td>
                    </td>
                </tr>
                <tr>
                    <td>Optional Expansions</td>
                    <td>
                    </td>
                    <td>
                    </td>
                </tr>
                <tr>
                    <td>Conflict Expansions</td>
                    <td>
                    </td>
                    <td>
                    </td>
                </tr>
                <tr>
                    <td>Information URL</td>
                    <td><a target="_blank" href="http://wiki.alioth.net/index.php/No_Shaders_alternate_or_extra_ships_and_accessories">http://wiki.alioth.net/index.php/No_Shaders_alternate_or_extra_ships_and_accessories</a></td>
                    <td><a target="_blank" href="">n/a</a></td>
                </tr>
                <tr>
                    <td>Download URL</td>
                    <td><a target="_blank" href="https://wiki.alioth.net/img_auth.php/1/13/Oolite.oxp.amah.noshaders_Mimoriarty_rl_yasenturret_upgrade.oxz">https://wiki.alioth.net/img_auth.php/1/13/Oolite.oxp.amah.noshaders_Mimoriarty_rl_yasenturret_upgrade.oxz</a></td>
                    <td><a target="_blank" href="">n/a</a></td>
                </tr>
                <tr>
                    <td>License</td>
                    <td>CC-BY-NC-SA 4.0</td>
                    <td>CC-BY-NC-SA 4.0</td>
                </tr>
                <tr>
                    <td>File Size</td>
                    <td>n/a</td>
                </tr>
                <tr>
                    <td>Upload date</td>
                    <td>1610873237</td>
                </tr>
            </table>
                </a>

        <a name="documentation">
        <h2>Documentation</h2>
        <p>Also read <a href='http://wiki.alioth.net/index.php/buyable/sellable%20Yasen-N%20turrets.'>http://wiki.alioth.net/index.php/buyable/sellable%20Yasen-N%20turrets.</a></p>
        <h3>readme/</h3>
        <pre></pre>
        <h3>readme/Changelog.txt</h3>
        <pre>Buyable/sellable Turret for MiMoriaty Yasen N Advanced


v0.1			based on phkb&#39;s briliant shiprespray, needs ship storage helper
			adapted, messed up and mutilated for making turrets buyable by Amah
v0.2			fixed bug eating up credits when selling turret
v0.3			reduced price for the turret
v0.4			cleaned up, text updates, disabled cheating the turret setup with shiprespray.
v0.5			fixed bug when using phkb ship configuration and large cargobay
v0.5			fixed forgetting to change shipclass when buying/selling a turret

Needs: Radical Logistics ships &amp; Shipstorage helper installed.

License: CC-SA-40</pre>
        <h3>readme/shiprespray_readme.txt</h3>
        <pre>Ship Respray 1.1.0
by Nick Rogers

About this OXP
==============
This OXP provides a way to quickly switch the style of your ship, using whatever OXP player templates you have installed of the same class type. That is, if you are flying a Cobra Mark III, and you have Z_Groovy&#39;s Variety Packs installed, you can quickly and easily give your ship a new paint job, without having to mess about in the save game file.

There are a couple of variations for the Cobra Mark III, Cobra Mark I and the Python that come with Oolite by default, but not that many. For this OXP to do something really useful you need to have some extra ship OXP&#39;s installed. For instance:
	http://wiki.alioth.net/index.php/Griff_Industries
	http://wiki.alioth.net/index.php/Staer9%27s_Shipset
	http://wiki.alioth.net/index.php/No_Shaders_alternate_or_extra_ships_and_accessories#Dertien.27s_Griff_repaint_Variety
	http://wiki.alioth.net/index.php/Deepspace_Ships
You can get a lot of additional shipsets from the download manager inside Oolite.
	
Once this OXP is installed a menu will appear on the ship outfitting screen, labelled &quot;Ship Respray&quot;. When you select this, a new screen will appear, listing all the available resprays for your ship. Select one of these, and you can then see what the respray will look like on your ship. Some ship models use the &quot;entityPersonality&quot; to adjust the look of the ship. You can select a random personality by selecting &quot;Change personality&quot;. 

Once you have selected a model, and found a personality look-and-feel you like, to go ahead with the paint job select &quot;Purchase this respray&quot; from the menu. The amount of time it will take to do the respray is showing on the menu item, and can be anywhere from 24 to 60 hours, depending on the size of the vessel.

This OXP uses the ShipStorageHelper to update the players ship to the selected model.

This OXP is slightly different to the &quot;Respray for Griffs&quot; OXP by Capt Murphy, as this will work with OXP&#39;s other than Griffs, and in no-shader mode.

Licence
=======
This work is licensed under the Creative Commons Attribution-Noncommercial-Share Alike 4.0 Unported License. To view a copy of this license, visit http://creativecommons.org/licenses/by-nc-sa/4.0/

Image from https://icons8.com/

Version History
===============
1.2.0
- Added overlay background image to initial interface screen.

1.1.3
- Added a missing semi-colon in the manifest file.
- Added routine to use 1.83/4 code to check for big GUI HUD&#39;s.

1.1.2
- Fixed shipdata.plist entries for alternate Cobra Mk3&#39;s having reduced max speed and thrust.

1.1.1
- Added check for &quot;allo_big_gui&quot; HUD&#39;s

1.1.0
- Added menu option to turn on/off view of ship data keys
- Improvements to the auto selection of menu items.

1.0.3 
- Removed ship keys from screen interfaces

1.0.2
- Added some extra shipdata.plist and shipyard.plist entries so the player can choose from the built-in variations of the Cobra Mk III, Cobra Mk I, and the Python.
- Fixed a bug where the current page index was not being reset when opening the respray interface.

1.0.1
- For Oolite 1.82 and later, added an &quot;installation_time&quot; of 1 second to the equipment item, so opening the respray screen doesn&#39;t take any time.
- For Oolite 1.80, changed the cost of the equipment item to zero, so only 10 minutes of time is taken up when opening the initial page.
- Added a mass-based installation time calculation to the end of the process. So, respraying a Boa takes longer than respraying an Adder.
- The &quot;Purchase this respray&quot; option now also includes the installation time.
- Fixed a bug where doing a respray, buying a new ship and doing another respray could end up with a confused menu.
- Code cleanup

1.0.0
- Initial release</pre>
        </a>

        <a name="equipment">          
        <h2>Equipment</h2>
            <table>
                <tr>
                    <th>Name</th>
                    <th>Visible</th>
                    <th>Cost [deci-credits]</th>
                    <th>Tech-Level</th>
                </tr>
                <tr>
                    <td><a href="../equipment/EQ_YASEN-TURRET.html">Yasen-N Turret</a></td>
                    <td>yes</td>
                    <td align="right">0</td>
                    <td align="center">13+</td>
                </tr>
                <tr>
                    <td><a href="../equipment/EQ_YASEN-TURRET_REMOVE.html">sell Yasen-N Turret</a></td>
                    <td>yes</td>
                    <td align="right">0</td>
                    <td align="center">13+</td>
                </tr>
            </table>
        </a>

        <a name="ships">    
        <h2>Ships</h2>
            This expansion declares no ships. This may be related to warnings.
        </a>

        <a name="models">    
        <h2>Models</h2>
            This expansion declares no models. This may be related to warnings.
        </a>

        <a name="scripts">    
        <h2>Scripts</h2>
            <table>
                <tr>
                    <th>Path</th>
                </tr>
                <tr>
                    <td valign="top">Scripts/yasenturret-buysell.js</td>
                    <td><pre>&quot;use strict&quot;;
this.name        = &quot;yasenturret-buysell&quot;;
this.author      = &quot;phkb, adapted for yasen-n Amah&quot;;
this.copyright   = &quot;2015 phkb&quot;;
this.description = &quot;Allows user buy/sell a turret for the yasen-N&quot;;
this.licence     = &quot;CC BY-NC-SA 4.0&quot;;

this._yasenshiptype = &quot;yasen-n-adv&quot;;	// the shiptype to up/dowgrade
this._yasenshipname = &quot;Yasen-N &#39;Advanced&#39;&quot;;	// the shiptype to up/dowgrade
this._data = [];			// storage array of ship data keys
this._selectedItem = &quot;&quot;;		// currently selected item from the main list
this._selectedIndex = 0;		// index of the currently selected item
this._personality = 0;			// current entityPersonality setting
this._displayType = 0;			// respray gui display mode 0 = main list, 1 = selected item
this._lastchoice = null;		// last item chosen from the list
this._curpage = 0;				// current page being shown
this._pagesize = 16;			// max number of entries on a page
this._lastsubchoice = &quot;&quot;;		// last item chosen from the selected item display
this._showDetails = false;		// when on, displays the datakey on the list and on the selected item page
this._baseTime = 48;			// base time, using cobra mk3 as a reference
this._bigGuiHUD = [&quot;XenonHUD.plist&quot;]; 	// until there is a property we can check, I&#39;ll be listing HUD&#39;s that have the allow_big_gui property set here


//-------------------------------------------------------------------------------------------------------------
this.playerBoughtEquipment = function(equipment) {

	var buy = false;
	var sell = false;

	if (equipment == &quot;EQ_YASEN-TURRET&quot;) {
		player.ship.removeEquipment(&quot;EQ_YASEN-TURRET&quot;);
		// for 1.82 and later, refund the credits at this point - if the player buys the respray it will be deducted later
		//player.credits += 1; //refund
		this._yasenshiptype = &quot;yasen-n-adv&quot;;
		this._yasenshipname = &quot;Yasen-N &#39;Advanced&#39;&quot;;
		buy = true; 
		}

	if (equipment == &quot;EQ_YASEN-TURRET_REMOVE&quot;) {
		player.ship.removeEquipment(&quot;EQ_YASEN-TURRET_REMOVE&quot;);
		// for 1.82 and later, refund the credits at this point - if the player buys the respray it will be deducted later
		//player.credits += 1; //refund
		this._yasenshiptype = &quot;yasen-n&quot;;
		this._yasenshipname = &quot;Yasen-N&quot;;
		sell = true;
		}

	if (buy == true || sell == true) {
		this.$compileData();
		// pick a random personality to start with
		this._personality = this.$rand(32768) - 1;
		// reset the menu before displaying
		this._displayType = 0;
		this._curpage = 0;
		this._selectedItem = &quot;&quot;;
		this._selectedIndex = 0;
		this.$showPage();
	}
}

//-------------------------------------------------------------------------------------------------------------
// get a list of all datakeys avaiable for the players current ship class type (ie. &quot;Cobra Mark III&quot;)
this.$compileData = function() {

	this._data = [];

	// get a list of all ship keys that have a role of &quot;player&quot; (ie. these are playable ships, not NPC ships)
	var shipKeys = Ship.keysForRole(this._yasenshiptype);
	var freq = &quot;&quot;;
	// loop through the list
	for (var i = 0; i &lt; shipKeys.length; i++) {
		// get the shipdata entry for this key
		var shipdata = Ship.shipDataForKey(shipKeys[i]);

		// add it to the array if it&#39;s not there already
		if (this.$itemIsInArray(shipKeys[i], this._data) == false) {
			this._data.push(shipKeys[i]);
		}
	}
	// sort the array (basic alpha sort)
	this._data.sort();

}

//-------------------------------------------------------------------------------------------------------------
this.playerBoughtNewShip = function(ship, price) {
	// recompile the list whenever the player buys a new ship
	this.$compileData();
}

//=============================================================================================================
// screen interfaces

//-------------------------------------------------------------------------------------------------------------
this.$showPage = function() {

	var curChoices = {};

	if (this.$isBigGuiActive() == true) {
		this._pagesize = 23;
	} else {
		this._pagesize = 16;
	}

	if (this._displayType == 0) {

		var min = (this._curpage * this._pagesize);
		var max = this._curpage * this._pagesize + this._pagesize;
		if (max &gt;= this._data.length) max = this._data.length;

		for (var i = min; i &lt; max; i++) {
		 if (this._yasenshiptype == &quot;yasen-n-adv&quot;) {
			curChoices[&quot;01_ITEM_&quot; + (i &lt; 10 ? &quot;0&quot; : &quot;&quot;) + i + &quot;~&quot; + this._data[i]] = {text:player.ship.shipClassName + &quot; Advanced turret setup &quot;+ (i + 1).toString() +
			(this._showDetails == true ? &quot; (&quot; + this._data[i] + &quot;)&quot; : &quot;&quot;), color:&quot;orangeColor&quot;, alignment:&quot;LEFT&quot;};
		 } else {
			curChoices[&quot;01_ITEM_&quot; + (i &lt; 10 ? &quot;0&quot; : &quot;&quot;) + i + &quot;~&quot; + this._data[i]] = {text:player.ship.shipClassName + &quot; - Basic model&quot; +
			(this._showDetails == true ? &quot; (&quot; + this._data[i] + &quot;)&quot; : &quot;&quot;), color:&quot;orangeColor&quot;, alignment:&quot;LEFT&quot;};
		 }
		}

		if (max - min &lt; this._pagesize) {
			for (var i = (this._pagesize - (max - min)); i &gt; 0; i--) {
				curChoices[&quot;02_SPACER_&quot; + (i &lt; 10 ? &quot;0&quot; : &quot;&quot;) + i] = &quot;&quot;;
			}
		}

		curChoices[&quot;99_EXIT&quot;] = {text:&quot;Exit&quot;, color:&quot;yellowColor&quot;};

		var def = &quot;99_EXIT&quot;;
		if (this._yasenshiptype == &quot;yasen-n-adv&quot;) {
			var opts = {
				screenID: &quot;Turret Outfitter&quot;,
				title: &quot;Arkadi&#39;s &quot; + player.ship.shipClassName + &quot; Turrets LTD.&quot;,
				allowInterrupt: true,
				//overlay: {name:&quot;paint.png&quot;, height:546},
				exitScreen: &quot;GUI_SCREEN_EQUIP_SHIP&quot;,
				choices: curChoices,
				initialChoicesKey: this._lastchoice?this._lastchoice:def,
				message: &quot;Select a turret setup&quot;
			};
		} else {
			var opts = {
				screenID: &quot;Turret Outfitter&quot;,
				title: &quot;Arkadi&#39;s &quot; + player.ship.shipClassName + &quot; Turrets LTD.&quot;,
				allowInterrupt: true,
				//overlay: {name:&quot;paint.png&quot;, height:546},
				exitScreen: &quot;GUI_SCREEN_EQUIP_SHIP&quot;,
				choices: curChoices,
				initialChoicesKey: this._lastchoice?this._lastchoice:def,
				message: &quot;Remove turrets...&quot;
			};
		}
	}

	if (this._displayType == 1) {

		var calc = Math.floor((player.ship.mass / 214737.6875) * this._baseTime);
		if (calc &lt; 24) calc = 24;

		var def = &quot;98_CLOSE&quot;;

		if (this._yasenshiptype == &quot;yasen-n-adv&quot;) {
			if (player.credits &gt; 99999) { // does the player have enough cash?
				curChoices[&quot;02_SELECT&quot;] = {text:&quot;Purchase this turret (100000 Cr, &quot; + calc + &quot; hours)&quot;, color:&quot;yellowColor&quot;};
			} else {
				curChoices[&quot;02_SELECT&quot;] = {text:&quot;Not enough money - You need 100000 Cr to purchase this turret&quot;, color:&quot;darkGrayColor&quot;, unselectable:true};
			};
		} else {
			curChoices[&quot;02_SELECT&quot;] = {text:&quot;Sell the Turret ( 31337 Cr refund, &quot; + calc + &quot; hours)&quot;, color:&quot;yellowColor&quot;};
		}

		curChoices[&quot;98_CLOSE&quot;] = {text:&quot;Close&quot;, color:&quot;yellowColor&quot;};
		var opts = {
			screenID: &quot;Turret outfitter&quot;,
			title: &quot;Arkadi&#39;s &quot; + player.ship.shipClassName + &quot; Turrets LTD.&quot;,
			model:&quot;[&quot; + this._selectedItem + &quot;]&quot;,
			modelPersonality: this._personality,
			allowInterrupt: true,
			choices: curChoices,
			initialChoicesKey: this._lastsubchoice?this._lastsubchoice:def,
			message: player.ship.shipClassName + &quot; turret setup &quot; + (this._selectedIndex + 1).toString() + (this._showDetails == true ? &quot; (&quot; + this._selectedItem + &quot;)&quot; : &quot;&quot;)
		};

	}
	mission.runScreen(opts, this.$selectScreenHandler, this);

}

//-------------------------------------------------------------------------------------------------------------
this.$selectScreenHandler = function(choice) {

	if (choice.indexOf(&quot;~&quot;) &gt;= 0) {
		this._displayType = 1;
		this._selectedItem = choice.substring(choice.indexOf(&quot;~&quot;) + 1);
		this._selectedIndex = parseInt(choice.substring(8, 10));
		this._lastchoice = choice;
		this._lastsubchoice = null;

	} else if (choice == &quot;02_SELECT&quot;) {
		// need code to recreate player ship, transferring all cargo and equipment
		this.$addturretShip(this._selectedItem, this._personality);
		choice = &quot;99_EXIT&quot;;
	} else if (choice == &quot;96_PREV&quot;) {
		this._curpage -= 1;
		if (this._curpage &gt; 0) {
			this._lastchoice = choice;
		} else {
			this._lastchoice = &quot;97_NEXT&quot;;
		}
	} else if (choice == &quot;98_CLOSE&quot;) {
		this._displayType = 0;
	}

	if (choice != &quot;99_EXIT&quot;) {
		this.$showPage();
	}
}

//-------------------------------------------------------------------------------------------------------------
// do the change, using ShipStorageHelper
this.$addturretShip = function(dataKey, personality) {

	var p = player.ship;
	var playershipname = p.shipUniqueName;

	var hud = p.hud;

	//Do we have a Largecargobay
	var largecargobay = p.canAwardEquipment(&quot;EQ_CARGO_BAY&quot;);

	// first, store all equipment and cargo the player might have
	var shipstr = worldScripts[&quot;Ship_Storage_Helper.js&quot;].storeCurrentShip();

	// change the datakey to the new one
	var data = JSON.parse(shipstr);
	data[1] = dataKey; // apply the data key to the ship
	data[13] = personality; // apply the selected personality to the ship
	shipstr = JSON.stringify(data);

	// restore the players ship
	worldScripts[&quot;Ship_Storage_Helper.js&quot;].restoreStoredShip(shipstr);

	// restore some things that the storage helper doesn&#39;t replace
	p.shipUniqueName = playershipname;
	p.shipClassName = this._yasenshipname;
	p.hud = hud;

	// email system is installed ?
	var w = worldScripts.EmailSystem;

	if (this._yasenshiptype == &quot;yasen-n-adv&quot;) {
		// remove large cargo bay capacity if present
		if (!largecargobay){
			p.cargoSpaceCapacity = p.cargoSpaceCapacity-15;
			}

		// charge the player
		player.credits -= 100000;

		// send a buy email if the email system is installed
		if (w) {
			var ga = worldScripts.GalCopAdminServices;
			w.$createEmail({sender:expandDescription(&quot;[purchase-maintenance-sender]&quot;),
				subject:&quot;Your &quot; + p.shipClassName + &quot; Turret- setup&quot;,
				date:global.clock.seconds,
				message:expandDescription(&quot;[turretbuy_email]&quot;, {shipclass:p.shipClassName}),
				expiryDays:ga._defaultExpiryDays}
			);
		}

	} else {
		//refund player
		player.credits += 31337;	//a refund for 1337 captains

		// send a sell email if the email system is installed
		if (w) {
			var ga = worldScripts.GalCopAdminServices;
			w.$createEmail({sender:expandDescription(&quot;[purchase-maintenance-sender]&quot;),
				subject:&quot;Your &quot; + p.shipClassName + &quot; Turret removal&quot;,
				date:global.clock.seconds,
				message:expandDescription(&quot;[turretsell_email]&quot;, {shipclass:p.shipClassName}),
				expiryDays:ga._defaultExpiryDays}
			);
		}

	}


	// work out how much install time is required
	// using cobra mass as the benchmark
	var install = Math.floor((p.mass / 214737.6875) * this._baseTime);
	if (install &lt; 24) install = 24;
	install = install * 60 * 60;

	global.clock.addSeconds(install);

	// if the station dock control is installed, tell it to check for launched ships
	if (worldScripts.StationDockControl) {
		var w = worldScripts.StationDockControl;
		if (w._disable == false) {
			w.$checkForLaunchedShips();
		}
	}

	this._displayType = 0;
	this._lastchoice = null;

}
//=============================================================================================================
// helper functions

//-------------------------------------------------------------------------------------------------------------
// return a random number between 1 and max
this.$rand = function(max) {
	return Math.floor((Math.random() * max) + 1)
}

//-------------------------------------------------------------------------------------------------------------
// checks if a given element is in the array
this.$itemIsInArray = function(element, array) {
	var found = false;
	if (array != null &amp;&amp; array.length &gt; 0) {
		for (var i = 0; i &lt; array.length; i++) {
			if (array[i] == element) found = true;
		}
	}
	return found;
}

//-------------------------------------------------------------------------------------------------------------
// returns true if a HUD with allowBigGUI is enabled, otherwise false
this.$isBigGuiActive = function() {
	if (oolite.compareVersion(&quot;1.83&quot;) &lt; 0) {
		return player.ship.hudAllowsBigGui;
	} else {
		if (this._bigGuiHUD.indexOf(player.ship.hud) &gt;= 0) {
			return true;
		} else {
			return false;
		}
	}
}
</pre></td>
                </tr>
                <tr>
                    <td valign="top">Scripts/yasenturret-conditions.js</td>
                    <td><pre>&quot;use strict&quot;;

this.name		= &quot;yasenturret-conditions&quot;;
this.author		= &quot;amah&quot;;
this.copyright		= &quot;This script is hereby placed in the public domain.&quot;;
this.version		= &quot;1.0&quot;;


this.allowAwardEquipment = function(equipment, ship, context)
{
	if (context != &quot;purchase&quot;) return false;
	return true;
}
</pre></td>
                </tr>
            </table>
        </a>
    </body>
</html>
