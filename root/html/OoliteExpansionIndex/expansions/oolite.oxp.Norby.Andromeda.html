<html>
    <head>
        <title>Expansion Andromeda</title>
        <link rel="stylesheet" href="../style.css">
    </head>
    <body>
        <table border="0" width="100%">
            <tr>
                <td>Back to <a href='../index.html'>Index</a></td>
                <td align="right"><small>Page generated: Oct 11, 2023, 3:16:48 PM</small></td>
            </tr>
        </table>

        <h1>Expansion Andromeda</h1>

        <h2>Content</h2>
        <ul>
          
          <li><a href="#manifest">Manifest</a></li>
          <li><a href="#documentation">Documentation</a></li>
          <li><a href="#equipment">0 Equipment</a></li>
          <li><a href="#ships">7 Ships</a></li>
          <li><a href="#models">0 Models</a></li>
          <li><a href="#scripts">2 Scripts</a></li>
        </ul>


        <a name="manifest">
        <h2>Manifest</h2>
            <table border="1">
                <tr>
                    <th></th>
                    <th>from Expansion Manager's OXP list</th>
                    <th>from Expansion Manifest</th>
                </tr>
                <tr>
                    <td>Description</td>
                    <td>The famous Andromeda spaceship is a strong mobile base with huge cargo capacity.</td>
                    <td>The famous Andromeda spaceship is a strong mobile base with huge cargo capacity.</td>
                </tr>
                <tr>
                    <td>Identifier</td>
                    <td>oolite.oxp.Norby.Andromeda</td>
                    <td>oolite.oxp.Norby.Andromeda</td>
                </tr>
                <tr>
                    <td>Title</td>
                    <td>Andromeda</td>
                    <td>Andromeda</td>
                </tr>
                <tr>
                    <td>Category</td>
                    <td>Ships</td>
                    <td>Ships</td>
                </tr>
                <tr>
                    <td>Author</td>
                    <td>Norby</td>
                    <td>Norby</td>
                </tr>
                <tr>
                    <td>Version</td>
                    <td>1.5</td>
                    <td>1.5</td>
                </tr>
                <tr>
                    <td>Tags</td>
                    <td></td>
                    <td></td>
                </tr>
                <tr>
                    <td>Required Oolite Version</td>
                    <td></td>
                    <td></td>
                </tr>
                <tr>
                    <td>Maximum Oolite Version</td>
                    <td></td>
                    <td></td>
                </tr>
                <tr>
                    <td>Required Expansions</td>
                    <td>
                    </td>
                    <td>
                    </td>
                </tr>
                <tr>
                    <td>Optional Expansions</td>
                    <td>
                            <li>oolite.oxp.Thargoid.Bigships:1.02</li>
                    </td>
                    <td>
                            <li>oolite.oxp.Thargoid.Bigships:1.02</li>
                    </td>
                </tr>
                <tr>
                    <td>Conflict Expansions</td>
                    <td>
                    </td>
                    <td>
                    </td>
                </tr>
                <tr>
                    <td>Information URL</td>
                    <td><a target="_blank" href="http://wiki.alioth.net/index.php/Andromeda">http://wiki.alioth.net/index.php/Andromeda</a></td>
                    <td><a target="_blank" href="">n/a</a></td>
                </tr>
                <tr>
                    <td>Download URL</td>
                    <td><a target="_blank" href="https://wiki.alioth.net/img_auth.php/8/8f/Andromeda_1.5.oxz">https://wiki.alioth.net/img_auth.php/8/8f/Andromeda_1.5.oxz</a></td>
                    <td><a target="_blank" href="">n/a</a></td>
                </tr>
                <tr>
                    <td>License</td>
                    <td>CC BY-NC-SA 4</td>
                    <td>CC BY-NC-SA 4</td>
                </tr>
                <tr>
                    <td>File Size</td>
                    <td>n/a</td>
                </tr>
                <tr>
                    <td>Upload date</td>
                    <td>1610873369</td>
                </tr>
            </table>
                </a>

        <a name="documentation">
        <h2>Documentation</h2>
        <p>Also read <a href='http://wiki.alioth.net/index.php/Andromeda'>http://wiki.alioth.net/index.php/Andromeda</a></p>
        <h3>Andromeda_readme.txt</h3>
        <pre>Andromeda OXP

The Andromeda spaceship (http://en.wikipedia.org/wiki/Andromeda_Ascendant) is arrived into the Ooniverse.

This hull is as large as a station (795 x 358 x 1368m) due to the huge crew and cargo capacity. Can not fit into standard docking ports, you must use Shift+C to connect into a Station or target the station and await until your automatically launched CargoShip is arrive into the dock.

Has additional 50ly fuel in reserves. The main tank can not store more than 7ly but will be refilled after every consumed 1 ly when a message display the remaining reserve fuel.

Reserves will be refilled when you put a target lock on a station and stop within 5 km.
Refill costs 3 credits for each ly fuel.

Due to the large reserves this ship is ideal to reach very far planets with FTL drives (need FarPlanets OXP) to avoid many refuel stops during a long trip (for example to Sedna in Lave).


Instructions:

In Oolite v1.79 or later do not unzip the .oxz file, just move into the AddOns folder of your Oolite installation.
In Oolite v1.77 make an Andromeda.oxp subfolder in your AddOns folder and unzip the .oxz file into the newly created subfolder.

There is a savegame in the package, copy into your oolite-saves directory if you want a test flight.


Recommended OXPs:

You should install BigShips OXP to see trader Andromedas.

If you install HardShips OXP and Shield Equalizer and Capacitors OXP then this ship will get exceptionally huge shield capacitors.

Gravity Scanner with Large Dish in Telescope OXP can detect targets from huge distances if you turn off your weapons and works far from bases also due to this ship is as large as a station.

Also capable to hold a powerful weapon with OMGLaser OXP.

FarPlanets OXP give good reasons to use the fuel reserves.


License:

The 3D model comes from the andromedamod of Sins of a Solar Empire:
http://andromedamod.webs.com
http://www.moddb.com/mods/andromedamod
http://www.mediafire.com/download.php?jzzdnk04mfz

CargoShip is equal with Hammerhead&#39;s cargoSled made by Thargoid in Aquatics OXP.

This work is licensed under the Creative Commons Attribution-NonCommercial-ShareAlike License version 4.0.
If you are re-using any piece of this OXP, please let me know by sending an e-mail to norbylite@gmail.com.


Changelog:
 2015.01.03. v1.5  Fixed a harmless error message in the log, thanks to heir.
 2014.12.23. v1.4  Docking via CargoShip.
 2014.12.23. v1.3  Ship chance is reduced in shipyard and in space.
 2014.06.09. v1.2  Fuel reserves added.
                   Test code removed which awarded an Andromeda to the player.
 2014.06.06. v1.1  Normal map and BigTrader role added, stats tweaked.
 2014.06.05. v1.0  First release.
</pre>
        </a>

        <a name="equipment">          
        <h2>Equipment</h2>
            This expansion declares no equipment. 
        </a>

        <a name="ships">    
        <h2>Ships</h2>
            <table>
                <tr>
                    <th>Name</th>
                </tr>
                <tr>
                    <td><a href="../ships/andromeda.html">andromeda</a></td>
                </tr>
                <tr>
                    <td><a href="../ships/andromeda-CargoShip.html">CargoShip</a></td>
                </tr>
                <tr>
                    <td><a href="../ships/andromeda-acepirate.html">andromeda-acepirate</a></td>
                </tr>
                <tr>
                    <td><a href="../ships/andromeda-bigtrader.html">andromeda-bigtrader</a></td>
                </tr>
                <tr>
                    <td><a href="../ships/andromeda-pirate.html">andromeda-pirate</a></td>
                </tr>
                <tr>
                    <td><a href="../ships/andromeda-player.html">andromeda-player</a></td>
                </tr>
                <tr>
                    <td><a href="../ships/andromeda-template.html">Andromeda</a></td>
                </tr>
            </table>
        </a>

        <a name="models">    
        <h2>Models</h2>
            This expansion declares no models. 
        </a>

        <a name="scripts">    
        <h2>Scripts</h2>
            <table>
                <tr>
                    <th>Path</th>
                </tr>
                <tr>
                    <td valign="top">Config/script.js</td>
                    <td><pre>&quot;use strict&quot;;
this.name        = &quot;andromeda&quot;;
this.author      = &quot;Norby&quot;;
this.copyright   = &quot;2014 Norbert Nagy&quot;;
this.licence     = &quot;CC BY-NC-SA 4.0&quot;;
this.description = &quot;Create an Andromeda spaceship next to main station.&quot;;
this.version     = &quot;1.4&quot;;

//customizable properties
this.$AndromedaMaxFuelReserve = 50; //in light years
this.$AndromedaFuelCost = 3; //credits for each light year fuel
this.$AndromedaReFuelDistance = 5000; //m far from the main station

//internal properties, should not touch
this.$AndromedaCargoShip = null; //store the created CargoShip ship during docking
this.$AndromedaFuelReserve = 0;
this.$AndromedaShip = null; //store the created sunskimmer ship to prevent recreates
this.$AndromedaTimer = null;

//world script events

this.startUp = function() {	
//	player.replaceShip(&quot;andromeda-player&quot;, 0); //debug: player will start in an Andromeda
	this.$AndromedaFuelReserve = missionVariables.$AndromedaFuelReserve;
	if( !this.$AndromedaFuelReserve ) this.$AndromedaFuelReserve = this.$AndromedaMaxFuelReserve;
	this.$AndromedaSoundRefuel = new SoundSource;
	this.$AndromedaSoundRefuel.sound = &quot;buy.ogg&quot;; //refuel sound
	this.$AndromedaSoundRefuel.loop = false;
	this.$AndromedaSoundRefuel.repeatCount = 1;	
	this.$AndromedaTimer = new Timer(this, this.$Andromeda_Timed.bind(this), 2, 2);
}

this.playerWillSaveGame = function(message) {
        missionVariables.$AndromedaFuelReserve = this.$AndromedaFuelReserve;
}

this.shipCollided = this.shipScoopedOther = function(otherShip) {
	if(player.ship.dataKey == &quot;andromeda-player&quot; &amp;&amp; otherShip
		&amp;&amp; otherShip == this.$AndromedaCargoShip ) { //scoop back
		player.consoleMessage(&quot;CargoShip is scooped back&quot;, 5);
		this.$AndromedaCargoShip = null;
		otherShip.remove(true);
	}
}

//Andromeda functions
this.$Andromeda_GetStation = function(p) {
	var s = null;
	if( this.$Andromeda_isStation(p.target) ) {
		s = p.target;
	} else if( p.checkScanner ) { //much faster than filteredEntities, need Oolite 1.79
		var targets = p.checkScanner(true);
		if( targets &amp;&amp; targets.length &gt; 0 )
			for( var i = 0; !s &amp;&amp; i &lt; targets.length; i++ ) {
				var t = targets[i];
				if( this.$Andromeda_isStation( t ) ) s = t;
			}
	} else { //before Oolite 1.79
		var targets = system.filteredEntities(this,
			this.$Andromeda_isStation, p, p.scannerRange);
		if( targets.length &gt; 0 ) s = targets[0];
	}
	return(s);
}

this.$Andromeda_isStation = function(entity) {
	return (entity &amp;&amp; entity.isValid &amp;&amp; entity.isStation
		&amp;&amp; entity.target != player.ship
		&amp;&amp; entity.dataKey.indexOf(&quot;carrier&quot;) == -1 );
}

this.$Andromeda_LaunchCargoShip = function(p) {
	var s = p.spawnOne(&quot;[andromeda-CargoShip]&quot;);
	if( s &amp;&amp; s.isValid ) {
		this.$AndromedaCargoShip = s;
		s.target = this.$Andromeda_GetStation(p);
		var msg = &quot;&quot;;
		if( !s.target ) {
			msg = &quot;CargoShip is not launched due to no friendly station nearby&quot;;
			s.remove(true);
		} else {
			msg = &quot;CargoShip is going to &quot;+s.target.name;
			s.position = p.position.add(p.vectorForward.multiply(600))
				.add(p.vectorUp.multiply(-100)); //starting position
			s.orientation = p.orientation;
			s.velocity = p.velocity.add(p.vectorForward.multiply(200)); //initial push
			p.target = s;
		}
		if(p == player.ship) player.consoleMessage(msg, 5);
	}
}

this.$Andromeda_Timed = function() {
	var p = player.ship;
	if( !p || !p.isValid ) return;
	
	var m = system.mainStation;
	if( m &amp;&amp; m.isValid &amp;&amp; ( !this.$AndromedaShip || !this.$AndromedaShip.isValid ) ) { //delayed create
		this.$AndromedaShip = system.addShips(&quot;andromeda&quot;, 1, m.position, 500000)[0]; //sunskimmer
//		this.$AndromedaShip.setAI(&quot;nullAI.plist&quot;);//debug
	}

	if(p.dataKey == &quot;andromeda-player&quot;) {
		if( p.fuel &lt;= 6 ) { //refuel from reserves
			if( this.$AndromedaFuelReserve &gt; 0 ) {
				p.fuel += 1;
				this.$AndromedaFuelReserve -= 1;
				if( this.$AndromedaFuelReserve &lt;= 0 ) {
					player.consoleMessage(&quot;Your fuel reserves are empty, &quot;
						+&quot;you should target a station and stop within &quot;
						+(this.$AndromedaReFuelDistance/1000)
						+&quot;km for refuel.&quot;, 10);
				} else player.consoleMessage(this.$AndromedaFuelReserve
					+&quot; ly fuel left in reserves.&quot;, 10);
			}
		}
		var t = p.target;
		var c = this.$AndromedaCargoShip;
//		log(this.name, &quot;station:&quot;+this.$Andromeda_isStation( t )+t+c);//debug
		if( c &amp;&amp; c.isValid ) {
			if( !this.$Andromeda_isStation(c.target) )
				c.target = this.$Andromeda_GetStation(p);
			if( c.position.distanceTo(p.position) &gt; p.scannerRange )
				c = this.$AndromedaCargoShip = null;
		}
		if( this.$Andromeda_isStation( t ) ) {
			m = t; //else main station
			if( c &amp;&amp; c.target != t ) c.target = t;
			if( !p.missilesOnline &amp;&amp; !c )
				this.$Andromeda_LaunchCargoShip(p);
		}
//		log(this.name, &quot;station:&quot;+this.$Andromeda_isStation( t )+t+c+&quot; ct&quot;+c.target);//debug
		
		if( m &amp;&amp; m.isValid &amp;&amp; p.speed &lt; 0.1 //stop near a main station for refuel
			&amp;&amp; this.$AndromedaFuelReserve &lt; this.$AndromedaMaxFuelReserve ) {
			var mdist = m.position.distanceTo(p.position) - m.collisionRadius;

			//player.consoleMessage(mdist,1);//debug
			if( mdist &lt; this.$AndromedaReFuelDistance ) {
				var maxcost = this.$AndromedaMaxFuelReserve * this.$AndromedaFuelCost;
				if( player.credits &gt;= maxcost ) {
					var f = this.$AndromedaMaxFuelReserve - this.$AndromedaFuelReserve;
					var cr = f * this.$AndromedaFuelCost;
					this.$AndromedaFuelReserve = this.$AndromedaMaxFuelReserve; //up to full
					player.credits -= cr; //cost of the refill
					this.$AndromedaSoundRefuel.play(); //refuel sound
					player.consoleMessage(&quot;Payed &quot;+cr+&quot; credits for &quot;+f+&quot; ly reserve fuel.&quot;, 10);
				} else {
					player.consoleMessage(&quot;You must have at least &quot;+maxcost
						+&quot; credits before you can get reserve fuel.&quot;, 10);
				}
			}
		}
	}
}
</pre></td>
                </tr>
                <tr>
                    <td valign="top">Scripts/andromeda-CargoShip.js</td>
                    <td><pre>&quot;use strict&quot;;
this.name	= &quot;andromeda-CargoShip&quot;;
this.author	= &quot;Norby&quot;;
this.copyright	= &quot;2014 Norby&quot;;
this.description= &quot;Ship script for andromeda-CargoShip&quot;;
this.version	= &quot;1.4&quot;;
this.licence	= &quot;CC BY-NC-SA 4.0&quot;;

//ship script events
this.shipCollided = function(otherShip) {
	//prevent destruction during scooping back to andromeda
	if(otherShip = player.ship) this.ship.energy = this.ship.maxEnergy;
}

this.shipDied = function() {
	var w = worldScripts.andromeda;
	if(this.ship == w.$AndromedaCargoShip)
		w.$AndromedaCargoShip = null;
}

this.shipWasScooped = function(scooper) {
	var w = worldScripts.andromeda;
	if(this.ship == w.$AndromedaCargoShip)
		w.$AndromedaCargoShip = null;
}

this.shipWillDockWithStation = function(station) {
	var w = worldScripts.andromeda;
	if(this.ship == w.$AndromedaCargoShip) {
		w.$AndromedaCargoShip = null;
		player.ship.target = null;
		station.dockPlayer();
	}
}

</pre></td>
                </tr>
            </table>
        </a>
    </body>
</html>
