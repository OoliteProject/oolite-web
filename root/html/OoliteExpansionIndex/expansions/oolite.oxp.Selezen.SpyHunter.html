<html>
    <head>
        <title>Expansion Spy Hunter</title>
        <link rel="stylesheet" href="../style.css">
    </head>
    <body>
        <table border="0" width="100%">
            <tr>
                <td>Back to <a href='../index.html'>Index</a></td>
                <td align="right"><small>Page generated: Oct 11, 2023, 3:16:49 PM</small></td>
            </tr>
        </table>

        <h1>Expansion Spy Hunter</h1>

        <h2>Content</h2>
        <ul>
          <li><a href="#warnings">Warnings</a></li>
          <li><a href="#manifest">Manifest</a></li>
          <li><a href="#documentation">Documentation</a></li>
          <li><a href="#equipment">0 Equipment</a></li>
          <li><a href="#ships">3 Ships</a></li>
          <li><a href="#models">0 Models</a></li>
          <li><a href="#scripts">1 Scripts</a></li>
        </ul>

          <a name="warnings">
            <h2>Warnings</h2>
            <ol>
                <li>Information URL mismatch between OXP Manifest and Expansion Manager string length at character position 0</li>
            </ol>
          </a>

        <a name="manifest">
        <h2>Manifest</h2>
            <table border="1">
                <tr>
                    <th></th>
                    <th>from Expansion Manager's OXP list</th>
                    <th>from Expansion Manifest</th>
                </tr>
                <tr>
                    <td>Description</td>
                    <td>Adds the Spy Hunter mission to galaxy 1.</td>
                    <td>Adds the Spy Hunter mission to galaxy 1.</td>
                </tr>
                <tr>
                    <td>Identifier</td>
                    <td>oolite.oxp.Selezen.SpyHunter</td>
                    <td>oolite.oxp.Selezen.SpyHunter</td>
                </tr>
                <tr>
                    <td>Title</td>
                    <td>Spy Hunter</td>
                    <td>Spy Hunter</td>
                </tr>
                <tr>
                    <td>Category</td>
                    <td>Missions</td>
                    <td>Missions</td>
                </tr>
                <tr>
                    <td>Author</td>
                    <td>Dave Hughes</td>
                    <td>Dave Hughes</td>
                </tr>
                <tr>
                    <td>Version</td>
                    <td>1.3</td>
                    <td>1.3</td>
                </tr>
                <tr>
                    <td>Tags</td>
                    <td></td>
                    <td></td>
                </tr>
                <tr>
                    <td>Required Oolite Version</td>
                    <td></td>
                    <td></td>
                </tr>
                <tr>
                    <td>Maximum Oolite Version</td>
                    <td></td>
                    <td></td>
                </tr>
                <tr>
                    <td>Required Expansions</td>
                    <td>
                    </td>
                    <td>
                    </td>
                </tr>
                <tr>
                    <td>Optional Expansions</td>
                    <td>
                    </td>
                    <td>
                    </td>
                </tr>
                <tr>
                    <td>Conflict Expansions</td>
                    <td>
                    </td>
                    <td>
                    </td>
                </tr>
                <tr>
                    <td>Information URL</td>
                    <td><a target="_blank" href=""></a></td>
                    <td><a target="_blank" href="">n/a</a></td>
                </tr>
                <tr>
                    <td>Download URL</td>
                    <td><a target="_blank" href="https://wiki.alioth.net/img_auth.php/e/e7/SpyHunter.oxz">https://wiki.alioth.net/img_auth.php/e/e7/SpyHunter.oxz</a></td>
                    <td><a target="_blank" href="">n/a</a></td>
                </tr>
                <tr>
                    <td>License</td>
                    <td>CC-BY-ND 4.0</td>
                    <td>CC-BY-ND 4.0</td>
                </tr>
                <tr>
                    <td>File Size</td>
                    <td>n/a</td>
                </tr>
                <tr>
                    <td>Upload date</td>
                    <td>1610873503</td>
                </tr>
            </table>
                </a>

        <a name="documentation">
        <h2>Documentation</h2>
        <p>Also read <a href='http://wiki.alioth.net/index.php/Spy%20Hunter'>http://wiki.alioth.net/index.php/Spy%20Hunter</a></p>
        <h3>readme.txt</h3>
        <pre>Spy Hunter
----------
by Dave &quot;Selezen&quot; Hughes
an addon for Oolite by Giles Williams.
Based on &quot;Elite&quot; by Ian Bell and David Braben

Maintained by Nick &quot;phkb&quot; Rogers.

Overview
--------
Spy Hunter is an addon mission pack for Oolite.  It is a mission for those ranked Dangerous or above, and is triggered by arriving at Inines in Galaxy 1 (map 000) at any of the relevant ranks.

About Version 1.2
-----------------
Apart from the new ship model, and a small addition (adding some additional text to the manifest screen when the mission is complete but you haven&#39;t received your reward), no functional changes have been made.

About Version 1.1
-----------------
This is my first attempt at a mission expansion, and was written using samples of other OXP packs for reference. It is a fairly simple mission, although the difficulty of the enemy craft has not been tested.  As I have no functionality to test OXPs on my version of Oolite, I will rely on feedback from the good users to apply any tweaks or fixes.  I have tested the meshes and textures, and they are working fine, but I can&#39;t test the scripting or actual mission generation due to the limitations of the Windows version of Oolite.

I&#39;ve even included a sample savegame file (which I hope will be compatible with the Mac versions) to place you in a position to get to Inines to start the mission.  You will be of Dangerous rank.  My idea of including this is mainly to enable people to bug test it if they like...

If you are a fan of the strict ruleset, you may not like this expansion.  It adds more depth to the Oolite experience and, in my opinion, raises a few questions about the universe in which Oolite (and Elite) are set.  I would say more, but I may ruin the twist in the tale if I say too much.

I hope you enjoy the expansion, and let me know if you have any questions or queries.  You can find me on the oolite forums at http://aegidian.org/bb (under the username Selezen) or via email at decker@hughesd.co.uk.

Thanks for playing!

Dave, 12/07/2005

PS: watch out for the Tionisla Orbital Graveyard, coming soon from the Oolite forum&#39;s Gravedigger Group!!

License
-------
This OXP is released under the Creative Commons - Attribution - No Derivatives 4.0 International License. To view a copy of this license visit https://creativecommons.org/license/by-nd

Version History
---------------
Version 1.1
- Added mission destinations on Galaxtic Map
- Made mission clash proof

Version 1.2
- Upgraded plist script to Javascript.
- Updated ship model to use a variation of Selezen&#39;s Imperial Courier, updated to use JS AI.
- Converted XML-type plist files to OpenStep format.
- Updated sample save file to 1.82 compatibility level.
- Tweaked the manifest screen mission text for when the target is destroyed.
- Set minimum Oolite version to 1.82.
- Corrected a couple of spelling mistakes.
- Added a licence.

Version 1.3
- Small tweaks to shipdata.plist for compatibility.</pre>
        </a>

        <a name="equipment">          
        <h2>Equipment</h2>
            This expansion declares no equipment. This may be related to warnings.
        </a>

        <a name="ships">    
        <h2>Ships</h2>
            <table>
                <tr>
                    <th>Name</th>
                </tr>
                <tr>
                    <td><a href="../ships/sh_iceng_port.html">Spy Courier Engine</a></td>
                </tr>
                <tr>
                    <td><a href="../ships/sh_iceng_stbd.html">Spy Courier Engine</a></td>
                </tr>
                <tr>
                    <td><a href="../ships/sh_impcourier.html">Spy Courier</a></td>
                </tr>
            </table>
        </a>

        <a name="models">    
        <h2>Models</h2>
            This expansion declares no models. This may be related to warnings.
        </a>

        <a name="scripts">    
        <h2>Scripts</h2>
            <table>
                <tr>
                    <th>Path</th>
                </tr>
                <tr>
                    <td valign="top">Config/script.js</td>
                    <td><pre>&quot;use strict&quot;;
this.name        = &quot;SpyHunter&quot;;
this.author      = &quot;Selezen&quot;;
this.copyright   = &quot;2016 Dave &#39;Selezen&#39; Hughes&quot;;
this.description = &quot;Main script file for Spy Hunter mission&quot;;

//-------------------------------------------------------------------------------------------------------------
this.missionScreenOpportunity = function() {
	if (galaxyNumber == 0 &amp;&amp; player.ship.dockedStation.isMainStation &amp;&amp; player.score &gt; 512) {
		// set up mission
		if (system.ID == 158 &amp;&amp; !missionVariables.spyhunter) {
			mission.runScreen({
				screenID:&quot;spyhunter_screen_1&quot;,
				titleKey: &quot;spy_hunter_mission_title&quot;,
				messageKey: &quot;spy_hunter_Inines_orders&quot;,
				exitScreen: &quot;GUI_SCREEN_STATUS&quot;
			});
			missionVariables.spyhunter = &quot;STAGE1&quot;;
			mission.markSystem({system:164, name:&quot;spyhunter&quot;});
			mission.setInstructionsKey(&quot;em1_sh_header1&quot;, this.name);
			return;
		}
		// stage 1 complete - setup stage 2
		if (system.ID == 164 &amp;&amp; missionVariables.spyhunter == &quot;STAGE1&quot;) {
			mission.runScreen({
				screenID:&quot;spyhunter_screen_2&quot;,
				titleKey: &quot;spy_hunter_mission_title&quot;,
				messageKey: &quot;spy_hunter_Ribilebi_briefing&quot;,
				exitScreen: &quot;GUI_SCREEN_STATUS&quot;
			});
			missionVariables.spyhunter = &quot;STAGE2&quot;;
			player.credits += 1000;
			mission.unmarkSystem({system:164, name:&quot;spyhunter&quot;});
			mission.markSystem({system:51, name:&quot;spyhunter&quot;});
			mission.setInstructionsKey(&quot;em1_sh_header2&quot;, this.name);
			return;
		}
		// stage 2 complete - setup stage 3
		if (system.ID == 51 &amp;&amp; missionVariables.spyhunter == &quot;STAGE2&quot;) {
			mission.runScreen({
				screenID:&quot;spyhunter_screen_3&quot;,
				titleKey: &quot;spy_hunter_mission_title&quot;,
				messageKey: &quot;spy_hunter_Alaza_briefing&quot;,
				exitScreen: &quot;GUI_SCREEN_STATUS&quot;
			});
			missionVariables.spyhunter = &quot;STAGE3&quot;;
			mission.unmarkSystem({system:51, name:&quot;spyhunter&quot;});
			mission.markSystem({system:102, name:&quot;spyhunter&quot;});
			mission.setInstructionsKey(&quot;em1_sh_header3&quot;, this.name);
			return;
		}
		// stage 2 complete - setup stage 3
		if (system.ID == 102 &amp;&amp; missionVariables.spyhunter == &quot;STAGE3&quot;) {
			mission.runScreen({
				screenID:&quot;spyhunter_screen_4&quot;,
				titleKey: &quot;spy_hunter_mission_title&quot;,
				messageKey: &quot;spy_hunter_Beraanxe_briefing&quot;,
				exitScreen: &quot;GUI_SCREEN_STATUS&quot;
			});
			missionVariables.spyhunter = &quot;STAGE4&quot;;
			mission.unmarkSystem({system:102, name:&quot;spyhunter&quot;});
			mission.markSystem({system:126, name:&quot;spyhunter&quot;});
			mission.setInstructionsKey(&quot;em1_sh_header4&quot;, this.name);
			return;
		}
		// stage 4 complete - show final message
		if (system.ID == 126 &amp;&amp; missionVariables.spyhunter == &quot;STAGE5&quot;) {
			mission.runScreen({
				screenID:&quot;spyhunter_screen_6&quot;,
				titleKey: &quot;spy_hunter_mission_title&quot;,
				messageKey: &quot;spy_hunter_Anerbe_briefing&quot;,
				exitScreen: &quot;GUI_SCREEN_STATUS&quot;
			});
			missionVariables.spyhunter = &quot;MISSION_COMPLETE&quot;;
			player.credits += 4000;
			mission.unmarkSystem({system:126, name:&quot;spyhunter&quot;});
			mission.setInstructionsKey(null, this.name);
			return;
		}
	}
}

//-------------------------------------------------------------------------------------------------------------
this.systemWillPopulate = function() {
	if (missionVariables.spyhunter == &quot;STAGE4&quot; &amp;&amp; system.ID == 126 &amp;&amp; galaxyNumber == 0 &amp;&amp; system.countShipsWithRole(&quot;spyhunter_impcourier&quot;) == 0) {
		var position = Vector3D(0, 0, 0.1).fromCoordinateSystem(&quot;wpu&quot;);
		// add base with populator
		system.setPopulator(&quot;spy hunter&quot;, {
			callback: function(pos) {
				var sb = system.addShips(&quot;spyhunter_impcourier&quot;, 1, pos);
				if (sb.length &gt; 0) {
					// monkey patch if necessary
					if (sb[0].script.shipDied) {
						sb[0].script.$sh_ovr_shipDied = sb[0].script.shipDied;
					}
					// add our shipDied event to the spy&#39;s ship
					sb[0].script.shipDied = this.$spyHunter_shipDied;
				} else {
					log(this.name, &quot;!!ERROR: Spy Courier not spawned!&quot;);
				}
			}.bind(this),
			location:&quot;COORDINATES&quot;,
			coordinates:position});
	}
}

//-------------------------------------------------------------------------------------------------------------
this.$updateManifestText = function() {
	mission.setInstructionsKey(&quot;em1_sh_header5&quot;, this.name);
}

//-------------------------------------------------------------------------------------------------------------
this.$spyHunter_shipDied = function(whom, why) {
	if (this.ship.script.$sh_ovr_shipDied) this.ship.script.$sh_ovr_shipDied(whom, why);
	if (missionVariables.spyhunter == &quot;STAGE4&quot;) {
		missionVariables.spyhunter = &quot;STAGE5&quot;;
		worldScripts.SpyHunter.$updateManifestText();
	}
}</pre></td>
                </tr>
            </table>
        </a>
    </body>
</html>
