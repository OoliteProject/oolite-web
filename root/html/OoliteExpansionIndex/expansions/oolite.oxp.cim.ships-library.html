<html>
    <head>
        <title>Expansion Ship&#39;s Library</title>
        <link rel="stylesheet" href="../style.css">
    </head>
    <body>
        <table border="0" width="100%">
            <tr>
                <td>Back to <a href='../index.html'>Index</a></td>
                <td align="right"><small>Page generated: Oct 11, 2023, 3:16:49 PM</small></td>
            </tr>
        </table>

        <h1>Expansion Ship&#39;s Library</h1>

        <h2>Content</h2>
        <ul>
          <li><a href="#warnings">Warnings</a></li>
          <li><a href="#manifest">Manifest</a></li>
          <li><a href="#documentation">Documentation</a></li>
          <li><a href="#equipment">1 Equipment</a></li>
          <li><a href="#ships">0 Ships</a></li>
          <li><a href="#models">0 Models</a></li>
          <li><a href="#scripts">2 Scripts</a></li>
        </ul>

          <a name="warnings">
            <h2>Warnings</h2>
            <ol>
                <li>Information URL mismatch between OXP Manifest and Expansion Manager string length at character position 0</li>
            </ol>
          </a>

        <a name="manifest">
        <h2>Manifest</h2>
            <table border="1">
                <tr>
                    <th></th>
                    <th>from Expansion Manager's OXP list</th>
                    <th>from Expansion Manifest</th>
                </tr>
                <tr>
                    <td>Description</td>
                    <td>An e-reader for your ship which can read various books while docked - or with a purchasable upgrade, also while in flight. It comes with a ship&#39;s manual as an initial book, with other books available as separate expansion packs.</td>
                    <td>An e-reader for your ship which can read various books while docked - or with a purchasable upgrade, also while in flight. It comes with a ship&#39;s manual as an initial book, with other books available as separate expansion packs.</td>
                </tr>
                <tr>
                    <td>Identifier</td>
                    <td>oolite.oxp.cim.ships-library</td>
                    <td>oolite.oxp.cim.ships-library</td>
                </tr>
                <tr>
                    <td>Title</td>
                    <td>Ship&#39;s Library</td>
                    <td>Ship&#39;s Library</td>
                </tr>
                <tr>
                    <td>Category</td>
                    <td>Equipment</td>
                    <td>Equipment</td>
                </tr>
                <tr>
                    <td>Author</td>
                    <td>cim</td>
                    <td>cim</td>
                </tr>
                <tr>
                    <td>Version</td>
                    <td>0.8</td>
                    <td>0.8</td>
                </tr>
                <tr>
                    <td>Tags</td>
                    <td></td>
                    <td></td>
                </tr>
                <tr>
                    <td>Required Oolite Version</td>
                    <td></td>
                    <td></td>
                </tr>
                <tr>
                    <td>Maximum Oolite Version</td>
                    <td></td>
                    <td></td>
                </tr>
                <tr>
                    <td>Required Expansions</td>
                    <td>
                    </td>
                    <td>
                    </td>
                </tr>
                <tr>
                    <td>Optional Expansions</td>
                    <td>
                    </td>
                    <td>
                    </td>
                </tr>
                <tr>
                    <td>Conflict Expansions</td>
                    <td>
                    </td>
                    <td>
                    </td>
                </tr>
                <tr>
                    <td>Information URL</td>
                    <td><a target="_blank" href=""></a></td>
                    <td><a target="_blank" href="">n/a</a></td>
                </tr>
                <tr>
                    <td>Download URL</td>
                    <td><a target="_blank" href="https://cim.sotl.org.uk/games/files/oolite/Ships_Library_0.8.oxz">https://cim.sotl.org.uk/games/files/oolite/Ships_Library_0.8.oxz</a></td>
                    <td><a target="_blank" href="http://compsoc.dur.ac.uk/~cim/oolite/Ships_Library_0.8.oxz">http://compsoc.dur.ac.uk/~cim/oolite/Ships_Library_0.8.oxz</a></td>
                </tr>
                <tr>
                    <td>License</td>
                    <td>GPL v2+ / CC-BY-NC-SA 3.0</td>
                    <td>GPL v2+ / CC-BY-NC-SA 3.0</td>
                </tr>
                <tr>
                    <td>File Size</td>
                    <td>n/a</td>
                </tr>
                <tr>
                    <td>Upload date</td>
                    <td>1389541337</td>
                </tr>
            </table>
                </a>

        <a name="documentation">
        <h2>Documentation</h2>
        <p>Also read <a href='http://wiki.alioth.net/index.php/Ship&#39;s%20Library'>http://wiki.alioth.net/index.php/Ship&#39;s%20Library</a></p>
        </a>

        <a name="equipment">          
        <h2>Equipment</h2>
            <table>
                <tr>
                    <th>Name</th>
                    <th>Visible</th>
                    <th>Cost [deci-credits]</th>
                    <th>Tech-Level</th>
                </tr>
                <tr>
                    <td><a href="../equipment/EQ_SHIPS_LIBRARY.html">Ship&#39;s Library Flight Interface</a></td>
                    <td>yes</td>
                    <td align="right">2000</td>
                    <td align="center">5+</td>
                </tr>
            </table>
        </a>

        <a name="ships">    
        <h2>Ships</h2>
            This expansion declares no ships. This may be related to warnings.
        </a>

        <a name="models">    
        <h2>Models</h2>
            This expansion declares no models. This may be related to warnings.
        </a>

        <a name="scripts">    
        <h2>Scripts</h2>
            <table>
                <tr>
                    <th>Path</th>
                </tr>
                <tr>
                    <td valign="top">Scripts/ingame-manual.js</td>
                    <td><pre>this.author      = &quot;cim&quot;; 
this.copyright   = &quot;� 2011-2014 cim.&quot;; 
this.licence = &quot;CC-BY-SA 3.0&quot;;
this.version     = &quot;0.8&quot;; 
this.name = &quot;Ships Library&quot;;
this.description = &quot;An e-book library readable on the F4 screen&quot;;

/* Public */
this._registerBook = function(key,title,contents) {
	this.$books[key] = {title: title, contents: contents};
}

this._unregisterBook = function(key) {
	if (key == &quot;ingame-manual&quot;) {
		return false; // can&#39;t remove this one
	}
	if (this.$currentBook == key) {
		if (mission.screenID == &quot;ships-library&quot;) {
			// book is currently loaded and mission screen active
			return false;
		}
		this._setBook(&quot;ingame-manual&quot;);
	}
	delete this.$books[key];
	return true;
}

this.startUp = function() {
	delete this.startUp;

	this.$fcbM = false;
	this.$hudHidden = false;
	this.$manualActive = false;
	this.$currentBook = false;
	this.$spaceWidth = defaultFont.measureString(&quot; &quot;);

	// settings for mission screen reading
	this.$chapter = 0;
	this.$offset = 0;
	this.$msStore = &quot;offset&quot;;
	this.$msRows = 15; 
	this.$msCols = 32; 

	// settings for MFD in-flight reading
	this.$mfdChapter = 0;
	this.$mfdOffset = 0;
	this.$mfdStore = &quot;miniOffset&quot;;
	this.$mfdRows = 10; 
	this.$mfdCols = 14.75; 
	
	this.$mfdMode = 0;
	this.$mfdOn = false;

	// initialise
	this.$minblock = 3;
	this.$chaptersperpage = 20;

	this.$books = new Object;
	this._registerIngameManual();
	this.$mode = &quot;firstrun&quot;;

	if (missionVariables.ships_library_bookmark) {
		this.$bookmark = JSON.parse(missionVariables.ships_library_bookmark);
	} else {
		this.$bookmark = {&quot;ingame-manual&quot;:[0,0,0,0]};
	}

	this._setBook(&quot;ingame-manual&quot;);
	

}

this.startUpComplete = function() {
	this._initInterface(system.mainStation);
	this._initInterface(player.ship.dockedStation);
}


/* Private and handlers */

this.playerWillSaveGame = function() {
	missionVariables.ships_library_bookmark = JSON.stringify(this.$bookmark);
}

this.shipDockedWithStation = function(station) {
	this._initInterface(station);
}

this._initInterface = function(station) {
	station.setInterface(this.name,{
		title:expandMissionText(&quot;ships-library-title&quot;),
		category:expandDescription(&quot;[interfaces-category-ship-systems]&quot;),
		summary:expandMissionText(&quot;ships-library-summary&quot;),
		callback:this._showLibrary.bind(this)
	});
}

this._registerIngameManual = function() {
	var contents = [
		{level: 0, key: &quot;ingame-manual-frontpage&quot;, params:[this._getTip], opts:{model:&quot;[&quot;+player.ship.dataKey+&quot;]&quot;, spinModel:false}},
		{level: 0, key: &quot;ingame-manual-welcome&quot;},
		{level: 0, key: &quot;ingame-manual-controls&quot;},
		{level: 1, key: &quot;ingame-manual-ship-systems&quot;},
		{level: 2, key: &quot;ingame-manual-ship-systems-status&quot;, backgrounds: [&quot;ingame-manual-f5.png&quot;,&quot;&quot;]},
		{level: 2, key: &quot;ingame-manual-ship-systems-manifest&quot;, backgrounds: [&quot;ingame-manual-f5f5.png&quot;,&quot;&quot;]},
		{level: 2, key: &quot;ingame-manual-ship-systems-src&quot;, backgrounds: [&quot;ingame-manual-f6.png&quot;,&quot;&quot;]},
		{level: 2, key: &quot;ingame-manual-ship-systems-lrc&quot;, backgrounds: [&quot;ingame-manual-f6f6.png&quot;,&quot;&quot;]},
		{level: 2, key: &quot;ingame-manual-ship-systems-planet&quot;, backgrounds: [&quot;ingame-manual-f7.png&quot;,&quot;&quot;]},
		{level: 2, key: &quot;ingame-manual-ship-systems-commodity&quot;,params:[function(){return player.ship.cargoSpaceCapacity;}], backgrounds: [&quot;ingame-manual-f8.png&quot;,&quot;&quot;]},
		{level: 1, key: &quot;ingame-manual-station-systems&quot;},
		{level: 2, key: &quot;ingame-manual-station-systems-launch&quot;, backgrounds: [&quot;ingame-manual-f1.png&quot;]},
		{level: 2, key: &quot;ingame-manual-station-systems-equipment&quot;, backgrounds: [&quot;ingame-manual-f3.png&quot;,&quot;&quot;]},
		{level: 2, key: &quot;ingame-manual-station-systems-shipyard&quot;, backgrounds: [&quot;ingame-manual-f3f3.png&quot;,&quot;&quot;]},
		{level: 2, key: &quot;ingame-manual-station-systems-interfaces&quot;, backgrounds: [&quot;ingame-manual-f4.png&quot;,&quot;&quot;]},
		{level: 1, key: &quot;ingame-manual-inflight&quot;},
		{level: 2, key: &quot;ingame-manual-inflight-view&quot;},
		{level: 2, key: &quot;ingame-manual-inflight-hud&quot;,params:[function(){return Math.max(1,Math.floor(player.ship.maxEnergy/64));}], backgrounds: [&quot;ingame-manual-hud.png&quot;]},
		{level: 3, key: &quot;ingame-manual-inflight-hud-scanner&quot;, backgrounds: [&quot;ingame-manual-hud.png&quot;]},
		{level: 2, key: &quot;ingame-manual-inflight-flight&quot;},
		{level: 2, key: &quot;ingame-manual-inflight-docking&quot;, backgrounds: [&quot;ingame-manual-dock0.png&quot;,&quot;ingame-manual-dock1.png&quot;,&quot;ingame-manual-dock2.png&quot;,&quot;ingame-manual-dock3.png&quot;,&quot;ingame-manual-dock4.png&quot;]},
		{level: 2, key: &quot;ingame-manual-inflight-navigation&quot;,params:[function(){if (player.ship.hasHyperspaceMotor) { return expandDescription(&quot;You have already been introduced to the short range chart for selecting a witchspace destination. Provided the destination is within range, you have sufficient fuel, and you are sufficiently clear of large objects for safety reasons, you can activate the witchdrive by pressing &#39;[oolite_key_hyperspace]&#39;. The drive will take &quot;+player.ship.hyperspaceSpinTime+&quot; seconds to power up and prepare for the jump. During this time it is recommended to maintain level flight. Modern drives are considerably more reliable than their predecessors in this regard, but extreme manoeuvres can still cause drive failures occasionally.\n\n&quot;);} else {return &quot;&quot;}},function(){if(player.ship.hasHyperspaceMotor) { return &quot;If you are out of fuel&quot;;} else {return &quot;As your ship does not have a witchdrive fitted&quot;}}]},
		{level: 2, key: &quot;ingame-manual-inflight-combat&quot;},
		{level: 3, key: &quot;ingame-manual-inflight-combat-laser&quot;, params:[function(){var m=player.ship.weaponFacings;return (m&amp;1)+((m&amp;2)/2)+((m&amp;4)/4)+((m&amp;8)/8);}], backgrounds: [&quot;ingame-manual-laser0.png&quot;]},
		{level: 3, key: &quot;ingame-manual-inflight-combat-missile&quot;, params:[function(){return player.ship.missileCapacity;}], backgrounds: [&quot;ingame-manual-missile0.png&quot;]},
		{level: 0, key: &quot;ingame-manual-equipment&quot;},
		{level: 1, key: &quot;ingame-manual-equipment-standard&quot;},
		{level: 2, key: &quot;ingame-manual-equipment-standard-hull&quot;},
		{level: 2, key: &quot;ingame-manual-equipment-standard-generators&quot;},
		{level: 2, key: &quot;ingame-manual-equipment-standard-capacitors&quot;, params:[function(){return Math.ceil(player.ship.maxEnergy/64);}]},
		{level: 2, key: &quot;ingame-manual-equipment-standard-support&quot;},
		{level: 2, key: &quot;ingame-manual-equipment-standard-crew&quot;},
		{level: 2, key: &quot;ingame-manual-equipment-standard-engines&quot;},
		{level: 2, key: &quot;ingame-manual-equipment-standard-shields&quot;},
		{level: 2, key: &quot;ingame-manual-equipment-standard-sensors&quot;},
		{level: 2, key: &quot;ingame-manual-equipment-standard-cargo&quot;},
		{level: 2, key: &quot;ingame-manual-equipment-standard-witchdrive&quot;},
		{level: 1, key: &quot;ingame-manual-equipment-trading&quot;},
		{level: 2, key: &quot;ingame-manual-equipment-trading-cargo&quot;},
		{level: 2, key: &quot;ingame-manual-equipment-trading-scoops&quot;, backgrounds: [&quot;ingame-manual-scoops0.png&quot;,&quot;ingame-manual-scoops1.png&quot;]},
		{level: 2, key: &quot;ingame-manual-equipment-trading-heat&quot;, backgrounds: [&quot;ingame-manual-heat.png&quot;]},
		{level: 2, key: &quot;ingame-manual-equipment-trading-passenger&quot;},
		{level: 2, key: &quot;ingame-manual-equipment-trading-ana&quot;, backgrounds: [&quot;ingame-manual-ana.png&quot;]},
		{level: 2, key: &quot;ingame-manual-equipment-trading-asc&quot;, backgrounds: [&quot;ingame-manual-asc.png&quot;]},
		{level: 2, key: &quot;ingame-manual-equipment-trading-docking&quot;},
		{level: 2, key: &quot;ingame-manual-equipment-trading-galactic&quot;},
		{level: 1, key: &quot;ingame-manual-equipment-combat&quot;},
		{level: 2, key: &quot;ingame-manual-equipment-combat-lasers&quot;, backgrounds: [&quot;ingame-manual-laser1.png&quot;]},
		{level: 3, key: &quot;ingame-manual-equipment-combat-lasers-pulse&quot;},
		{level: 3, key: &quot;ingame-manual-equipment-combat-lasers-beam&quot;},
		{level: 3, key: &quot;ingame-manual-equipment-combat-lasers-mining&quot;},
		{level: 3, key: &quot;ingame-manual-equipment-combat-lasers-military&quot;},
		{level: 2, key: &quot;ingame-manual-equipment-combat-pylons&quot;, backgrounds: [&quot;ingame-manual-pylons0.png&quot;]}, 
		{level: 3, key: &quot;ingame-manual-equipment-combat-pylons-missile&quot;, backgrounds: [&quot;ingame-manual-missile1.png&quot;]},
		{level: 3, key: &quot;ingame-manual-equipment-combat-pylons-hardhead&quot;, opts:{model:&quot;[ecm-proof-missile]&quot;}},
		{level: 3, key: &quot;ingame-manual-equipment-combat-pylons-qcm&quot;, opts:{model:&quot;[qbomb]&quot;}},
		{level: 2, key: &quot;ingame-manual-equipment-combat-ecm&quot;},
		{level: 2, key: &quot;ingame-manual-equipment-combat-mts&quot;, backgrounds: [&quot;ingame-manual-pylons1.png&quot;]},
		{level: 2, key: &quot;ingame-manual-equipment-combat-escape&quot;, opts:{model:&quot;[escape-capsule]&quot;}},
		{level: 2, key: &quot;ingame-manual-equipment-combat-eeu&quot;},
		{level: 2, key: &quot;ingame-manual-equipment-combat-tsme&quot;},
		{level: 2, key: &quot;ingame-manual-equipment-combat-inject&quot;, backgrounds: [&quot;ingame-manual-inject.png&quot;]},
		{level: 2, key: &quot;ingame-manual-equipment-combat-wormhole&quot;, backgrounds: [&quot;ingame-manual-wormhole.png&quot;]},
		{level: 2, key: &quot;ingame-manual-equipment-combat-ste&quot;, backgrounds: [&quot;ingame-manual-ste.png&quot;]},
		{level: 2, key: &quot;ingame-manual-equipment-combat-its&quot;},
		{level: 2, key: &quot;ingame-manual-equipment-combat-shield&quot;},
		{level: 1, key: &quot;ingame-manual-equipment-extra&quot;},
		{level: 2, key: &quot;ingame-manual-equipment-extra-displays&quot;},
		{level: 0, key: &quot;ingame-manual-sociology&quot;},
		{level: 1, key: &quot;ingame-manual-sociology-galcop&quot;},
		{level: 2, key: &quot;ingame-manual-sociology-galcop-facilities&quot;, backgrounds: [&quot;ingame-manual-station.png&quot;]},
		{level: 2, key: &quot;ingame-manual-sociology-galcop-legal&quot;, backgrounds: [&quot;ingame-manual-police0.png&quot;,&quot;ingame-manual-police1.png&quot;,&quot;ingame-manual-police0.png&quot;]},
		{level: 2, key: &quot;ingame-manual-sociology-galcop-combat&quot;, backgrounds: [&quot;ingame-manual-combat0.png&quot;]},
		{level: 1, key: &quot;ingame-manual-sociology-pilots&quot;},
		{level: 2, key: &quot;ingame-manual-sociology-pilots-traders&quot;, backgrounds: [&quot;ingame-manual-shiptrader.png&quot;]},
		{level: 2, key: &quot;ingame-manual-sociology-pilots-hunters&quot;, backgrounds: [&quot;ingame-manual-shiphunter.png&quot;]},
		{level: 2, key: &quot;ingame-manual-sociology-pilots-pirates&quot;, backgrounds: [&quot;ingame-manual-shippirate.png&quot;]},
		{level: 2, key: &quot;ingame-manual-sociology-pilots-miners&quot;, backgrounds: [&quot;ingame-manual-shipminer.png&quot;]},
		{level: 2, key: &quot;ingame-manual-sociology-pilots-military&quot;},
		{level: 2, key: &quot;ingame-manual-sociology-pilots-deep&quot;},
		{level: 2, key: &quot;ingame-manual-sociology-pilots-salvage&quot;},
		{level: 1, key: &quot;ingame-manual-sociology-govt&quot;},
		{level: 2, key: &quot;ingame-manual-sociology-govt-corp&quot;},
		{level: 2, key: &quot;ingame-manual-sociology-govt-demo&quot;},
		{level: 2, key: &quot;ingame-manual-sociology-govt-conf&quot;},
		{level: 2, key: &quot;ingame-manual-sociology-govt-comm&quot;},
		{level: 2, key: &quot;ingame-manual-sociology-govt-dict&quot;},
		{level: 2, key: &quot;ingame-manual-sociology-govt-mult&quot;},
		{level: 2, key: &quot;ingame-manual-sociology-govt-feud&quot;},
		{level: 2, key: &quot;ingame-manual-sociology-govt-anar&quot;},
		{level: 1, key: &quot;ingame-manual-sociology-econ&quot;},
		{level: 2, key: &quot;ingame-manual-sociology-econ-agri&quot;},
		{level: 2, key: &quot;ingame-manual-sociology-econ-ind&quot;},
		{level: 1, key: &quot;ingame-manual-sociology-species&quot;},
		{level: 1, key: &quot;ingame-manual-sociology-thargoids&quot;},
		{level: 1, key: &quot;ingame-manual-sociology-history&quot;},
		{level: 2, key: &quot;ingame-manual-sociology-history-before&quot;},
		{level: 2, key: &quot;ingame-manual-sociology-history-eight&quot;},
		{level: 2, key: &quot;ingame-manual-sociology-history-interspecies&quot;},
		{level: 2, key: &quot;ingame-manual-sociology-history-founding&quot;},
		{level: 2, key: &quot;ingame-manual-sociology-history-thargoids&quot;},
		{level: 2, key: &quot;ingame-manual-sociology-history-modern&quot;},
		{level: 0, key: &quot;ingame-manual-ships&quot;},
		{level: 1, key: &quot;ingame-manual-ships-adder&quot;, opts:{model:&quot;[adder]&quot;}},
		{level: 1, key: &quot;ingame-manual-ships-anaconda&quot;, opts:{model:&quot;[anaconda]&quot;}},
		{level: 1, key: &quot;ingame-manual-ships-asp&quot;, opts:{model:&quot;[asp]&quot;}},
		{level: 1, key: &quot;ingame-manual-ships-boa&quot;, opts:{model:&quot;[boa]&quot;}},
		{level: 1, key: &quot;ingame-manual-ships-boa2&quot;, opts:{model:&quot;[boa-mk2]&quot;}},
		{level: 1, key: &quot;ingame-manual-ships-cobra&quot;, opts:{model:&quot;[cobramk1]&quot;}},
		{level: 1, key: &quot;ingame-manual-ships-cobra3&quot;, opts:{model:&quot;[cobra3-trader]&quot;}},
		{level: 1, key: &quot;ingame-manual-ships-fdl&quot;, opts:{model:&quot;[ferdelance]&quot;}},
		{level: 1, key: &quot;ingame-manual-ships-gecko&quot;, opts:{model:&quot;[gecko]&quot;}},
		{level: 1, key: &quot;ingame-manual-ships-krait&quot;, opts:{model:&quot;[krait]&quot;}},
		{level: 1, key: &quot;ingame-manual-ships-mamba&quot;, opts:{model:&quot;[mamba]&quot;}},
		{level: 1, key: &quot;ingame-manual-ships-moray&quot;, opts:{model:&quot;[moray]&quot;}},
		{level: 1, key: &quot;ingame-manual-ships-shuttle&quot;, opts:{model:&quot;[shuttle]&quot;}},
		{level: 1, key: &quot;ingame-manual-ships-python&quot;, opts:{model:&quot;[python]&quot;}},			
		{level: 1, key: &quot;ingame-manual-ships-sidewinder&quot;, opts:{model:&quot;[sidewinder]&quot;}},
		{level: 1, key: &quot;ingame-manual-ships-transporter&quot;, opts:{model:&quot;[transporter-miner]&quot;}},
		{level: 1, key: &quot;ingame-manual-ships-viper&quot;, opts:{model:&quot;[viper]&quot;}},
		{level: 1, key: &quot;ingame-manual-ships-interceptor&quot;, opts:{model:&quot;[viper-interceptor]&quot;}},
		{level: 1, key: &quot;ingame-manual-ships-worm&quot;, opts:{model:&quot;[worm]&quot;}},
		{level: 1, key: &quot;ingame-manual-ships-thargoid&quot;, opts:{model:&quot;[thargoid]&quot;}},
		{level: 1, key: &quot;ingame-manual-ships-tharglet&quot;, opts:{model:&quot;[tharglet]&quot;}},
		{level: 0, key: &quot;ingame-manual-end&quot;} // temp entry
	];

	this._registerBook(&quot;ingame-manual&quot;,expandMissionText(&quot;ingame-manual-title&quot;),contents);

}

this._setBook = function(key) {
	if (!this.$books[key]) {
		return;
	}
	this.$contents = this.$books[key].contents;
	if (!this.$fcb) {
		this.$fcb = addFrameCallback(this._precalculateOffsets.bind(this));
	}
	
	if (this.$bookmark[key]) {
		while (this.$bookmark[key].length &lt; 4)
		{
			this.$bookmark[key].push(0);
		}
		this.$chapter = this.$bookmark[key][0];
		this.$offset = this.$bookmark[key][1];
		this.$mfdChapter = this.$bookmark[key][2];
		this.$mfdOffset = this.$bookmark[key][3];
	}	else {
		this.$chapter = 0;
		this.$offset = 0;
		this.$mfdChapter = 0;
		this.$mfdOffset = 0;
		this.$bookmark[key] = [0,0,0,0];
	}
	this.$currentBook = key;
	
	// reset MFD if active
	this.$mfdOn = false;
	this.$mfdMode = 0;
	this._hideMFD();

}

this._getBookListAlpha = function() {
	var keys = Object.keys(this.$books);
	keys.sort(function(a,b) {
		return this.$books[a].title.localeCompare(this.$books[b].title);
	}.bind(this));
	return keys;
}

/** Mission screen management **/

this._showLibrary = function() {
	this.$mode = &quot;firstrun&quot;;
	// init and enter loop
	this._showManual();
}

this._showManual = function() {
	this.$hudHidden = player.ship.hudHidden;
	this.$manualActive = true;
	player.ship.hudHidden = true;
	if (this.$mode == &quot;firstrun&quot;) {
		if (Object.keys(this.$books).length &gt; 1) {
			this.$mode = &quot;book&quot;;
			this.$offset = 0;
		} else {
			this.$mode = &quot;read&quot;;
		}
	}
	if (this.$mode == &quot;contents&quot;) {
		this._showChapterList();
	} else if (this.$mode == &quot;read&quot;) {
		this._showPage();
	} else if (this.$mode == &quot;book&quot;) {
		this._showBookList();
	}
}

this.guiScreenChanged = function(to, from) {
	if (from == &quot;GUI_SCREEN_MISSION&quot; &amp;&amp; this.$manualActive) {
		this.$manualActive = false;
		player.ship.hudHidden = this.$hudHidden;
		if (this.$fcbM) {
			removeFrameCallback(this.$fcbM);
			delete this.$fcbM;
		}
	}
}

this._showBookList = function() {
	var blank = {unselectable:true, text:&quot;&quot;};
	var listchoices = new Object;
	if (this.$offset &gt;= this.$chaptersperpage) {
		listchoices[&quot;51_BOOK_BACK&quot;] = {
			text:expandMissionText(&quot;ships-library-contents-back&quot;),
			alignment:&quot;LEFT&quot;,
			color:&quot;orangeColor&quot;
		}
	} else {
		listchoices[&quot;51_BOOK_BACK&quot;] = blank;
	}
	listchoices[&quot;53_SPACER&quot;] = blank;
	var books = this._getBookListAlpha();
	var start = this.$offset-(this.$offset%this.$chaptersperpage);
	for (var i=start; i&lt;start+this.$chaptersperpage; i++) {
		istr = String(i);
		if (i &lt; 10) {
			istr = &quot;0&quot;+String(i);
		}
		if (books.length &gt; i) {
			listchoices[&quot;55_BOOK_SELECT_&quot;+istr+&quot;_&quot;+books[i]] = {
				text:this.$books[books[i]].title,
				alignment:&quot;LEFT&quot;
			}
		} else {
			listchoices[&quot;55_BOOK_SELECT_&quot;+istr+&quot;_&quot;] = blank;
		}
	}
	listchoices[&quot;57_SPACER&quot;] = blank;
	if (start+this.$chaptersperpage &lt; books.length) {
		listchoices[&quot;59_BOOK_FORWARD&quot;] = {
			text:expandMissionText(&quot;ships-library-contents-forward&quot;),
			alignment:&quot;RIGHT&quot;,
			color:&quot;orangeColor&quot;
		}
	} else {
		listchoices[&quot;59_CONTENTS_FORWARD&quot;] = blank;
	}
	for (var i=24;i&lt;26;i++) {
		listchoices[&quot;98_SPACER&quot;+i] = blank;
	}
	//		listchoices[&quot;50_BOOK&quot;] = expandMissionText(&quot;ships-library-changebook&quot;);
	listchoices[&quot;99_EXIT&quot;] = expandMissionText(&quot;ships-library-exit&quot;);

	mission.runScreen({
		screenID: &quot;ships-library&quot;,
		titleKey: &quot;ships-library-bookselect&quot;,
		allowInterrupt: true,
		exitScreen: &quot;GUI_SCREEN_INTERFACES&quot;,
		choices: listchoices,
		initialChoicesKey: this.$lastchoice?this.$lastchoice:&quot;55_CONTENTS_SELECT_&quot;+this.$offset
	},this._manualHandler,this);

}

this._showChapterList = function() {
	// 0 = back in list (?)
	// 2-11 = chapter headings (read chapter)
	// 13 = forward in list (?)
	// 20 = exit
	var blank = {unselectable:true, text:&quot;&quot;};
	var listchoices = new Object;
	if (this.$chapter &gt;= this.$chaptersperpage) {
		listchoices[&quot;11_CONTENTS_BACK&quot;] = {
			text:expandMissionText(&quot;ships-library-contents-back&quot;),
			alignment:&quot;LEFT&quot;,
			color:&quot;orangeColor&quot;
		}
	} else {
		listchoices[&quot;11_CONTENTS_BACK&quot;] = blank;
	}
	listchoices[&quot;13_SPACER&quot;] = blank;
	var start = this.$chapter-(this.$chapter%this.$chaptersperpage);
	for (var i=start; i&lt;start+this.$chaptersperpage; i++) {
		istr = String(i);
		if (i &lt; 10) {
			istr = &quot;0&quot;+String(i);
		}
		if (this.$contents.length &gt; i) {
			var indent = &quot;&quot;;
			if (this.$contents[i].level &gt; 0) {
				indent += Array(this.$contents[i].level+1).join(&quot;... &quot;);
			}
			listchoices[&quot;15_CONTENTS_SELECT_&quot;+istr] = {
				text:indent+expandMissionText(this.$contents[i].key+&quot;-title&quot;),
				alignment:&quot;LEFT&quot;
			}
		} else {
			listchoices[&quot;15_CONTENTS_SELECT_&quot;+istr] = blank;
		}
	}
	listchoices[&quot;17_SPACER&quot;] = blank;
	if (start+this.$chaptersperpage &lt; this.$contents.length) {
		listchoices[&quot;19_CONTENTS_FORWARD&quot;] = {
			text:expandMissionText(&quot;ships-library-contents-forward&quot;),
			alignment:&quot;RIGHT&quot;,
			color:&quot;orangeColor&quot;
		}
	} else {
		listchoices[&quot;19_CONTENTS_FORWARD&quot;] = blank;
	}
	for (var i=24;i&lt;25;i++) {
		listchoices[&quot;48_SPACER&quot;+i] = blank;
	}
	listchoices[&quot;50_BOOK&quot;] = expandMissionText(&quot;ships-library-changebook&quot;);
	listchoices[&quot;99_EXIT&quot;] = expandMissionText(&quot;ships-library-exit&quot;);

	mission.runScreen({
		screenID: &quot;ships-library&quot;,
		titleKey: &quot;ships-library-chapterselect&quot;,
		allowInterrupt: true,
		exitScreen: &quot;GUI_SCREEN_INTERFACES&quot;,
		choices: listchoices,
		initialChoicesKey: this.$lastchoice?this.$lastchoice:&quot;15_CONTENTS_SELECT_&quot;+this.$chapter
	},this._manualHandler,this);

}


this._showPage = function() {
	var chapter = this.$contents[this.$chapter];

	var text = this._textFromOffset(this.$chapter,this.$offset,this.$msStore,this.$msRows,this.$msCols);
	
	var opts = {
		screenID: &quot;ships-library&quot;,
		titleKey: chapter.key+&quot;-title&quot;,
		allowInterrupt: true,
		exitScreen: &quot;GUI_SCREEN_INTERFACES&quot;,
		choices: {
			&quot;01_PREV&quot;:expandMissionText(&quot;ships-library-page-back&quot;),
			&quot;09_NEXT&quot;:expandMissionText(&quot;ships-library-page-next&quot;),
			&quot;10_CONTENTS&quot;:expandMissionText(&quot;ships-library-contents&quot;),
			&quot;99_EXIT&quot;:expandMissionText(&quot;ships-library-exit&quot;),
		},
		initialChoicesKey: this.$lastchoice?this.$lastchoice:&quot;09_NEXT&quot;,
		message: text
	};
	if (chapter.opts) {
		var extras = Object.keys(chapter.opts)
		for (var k=0;k&lt;extras.length;k++) {
			opts[extras[k]] = chapter.opts[extras[k]];
		}
	}
	if (chapter.backgrounds) {
		var page = this._pageOfOffset(chapter,this.$offset,this.$msStore);
		if (page &lt; chapter.backgrounds.length) {
			var backg = chapter.backgrounds[page];
		} else {
			var backg = chapter.backgrounds[chapter.backgrounds.length-1];
		}
		if (backg != &quot;&quot;) {
			opts.background = backg;
		}
	}

	mission.runScreen(opts,this._manualHandler,this);
	this.$fcbM = addFrameCallback(this._moveShip.bind(this));

}

this._moveShip = function(delta) {
	if (mission.displayModel) {
		if (mission.displayModel.position.y &gt;= -1) {
			mission.displayModel.position = new Vector3D(0,-mission.displayModel.position.z/2.5,mission.displayModel.position.z*2.5);
		}
	}
}

this._setBookmark = function() {
	this.$bookmark[this.$currentBook][0] = this.$chapter;		
	this.$bookmark[this.$currentBook][1] = this.$offset;		
	this.$bookmark[this.$currentBook][2] = this.$mfdChapter;		
	this.$bookmark[this.$currentBook][3] = this.$mfdOffset;		
}

this._manualHandler = function(choice) {
	//		log(this.name,choice);
	delete this.$lastchoice;
	if (!choice) {
		return; // launched while reading?
	} else if (choice == &quot;01_PREV&quot;) {
		if (this.$offset == 0) {
			if (this.$chapter == 0) {
				this.$mode = &quot;contents&quot;;
			} else {
				this.$mode = &quot;read&quot;;
				this.$chapter--;
				this.$offset = this._lastPageOffset(this.$chapter,this.$msStore);
				this._setBookmark();
			}
		} else {
			this.$mode = &quot;read&quot;;
			this.$offset = this._previousOffset(this.$chapter,this.$offset,this.$msStore,this.$msRows,this.$msCols);
			this._setBookmark();
		}
		this.$lastchoice = choice;
	} else if (choice == &quot;05_READ&quot;) {
		this.$mode = &quot;read&quot;;
	} else if (choice == &quot;09_NEXT&quot;) {
		this.$offset = this._nextOffset(this.$chapter,this.$offset,this.$msStore,this.$msRows,this.$msCols);
		if (this.$offset == -1) {
			this.$offset = 0;
			this.$chapter++;
			if (this.$chapter &gt;= this.$contents.length) {
				this.$mode = &quot;contents&quot;;
				this.$chapter = 0;
			} else {
				this._setBookmark();
				this.$mode = &quot;read&quot;;
			}
		} else {
			this._setBookmark();
		}
	} else if (choice == &quot;10_CONTENTS&quot;) {
		this.$mode = &quot;contents&quot;;
		this.$offset = 0;
	} else if (choice == &quot;11_CONTENTS_BACK&quot;) {
		this.$mode = &quot;contents&quot;;
		this.$offset = 0;
		this.$chapter -= 1+(this.$chapter%this.$chaptersperpage);
		this.$lastchoice = choice;
	} else if (choice.match(/^15_CONTENTS_SELECT_/)) {
		this.$chapter = parseInt(choice.slice(19),10);
		this.$offset = 0;
		this._setBookmark();
		this.$mode = &quot;read&quot;;
	} else if (choice == &quot;19_CONTENTS_FORWARD&quot;) {
		this.$mode = &quot;contents&quot;;
		this.$offset = 0;
		this.$chapter += this.$chaptersperpage-(this.$chapter%this.$chaptersperpage);
		this.$lastchoice = choice;
	} else if (choice == &quot;50_BOOK&quot;) {
		this.$mode = &quot;book&quot;;
		this.$offset = 0;
	} else if (choice == &quot;51_BOOK_BACK&quot;) {
		this.$offset -= this.$chaptersperpage;
	} else if (choice == &quot;59_BOOK_FORWARD&quot;) {
		this.$offset += this.$chaptersperpage;
	} else if (choice.match(/^55_BOOK_SELECT_/)) {
		this._setBook(choice.slice(18));
		this.$mode = &quot;read&quot;;
	}

	// 01_PREV: reduce offset to prev page, or last page of prev chapter
	// 05_READ: switch to read mode at current chapter + offset
	// 09_NEXT: advance offset to next page, or next chapter if no more
	// 10_CONTENTS: switch to contents mode at current chapter, zero offset
	// 11_CONTENTS_BACK: up one page in chapter list
	// 15_CONTENTS_SELECT_[0-9]: switch to read mode in chapter at offset
	// 19_CONTENTS_FORWARD: down one page in chapter list
	// 99_EXIT: quit


	if (choice != &quot;99_EXIT&quot;) {
		this._showManual();
	}
}

/** MFD functions **/

this._equipPressMode = function()
{
	this.$mfdMode = (this.$mfdMode + 1) % 5;
	player.consoleMessage(expandDescription(&quot;[ships-library-mfd-mode][ships-library-mfd-mode&quot;+this.$mfdMode+&quot;]&quot;));
}

this._equipPressActivate = function()
{
	if (player.ship.multiFunctionDisplays == 0)
	{
		player.consoleMessage(expandDescription(&quot;[ships-library-mfd-unavailable]&quot;));
		return;
	}
	if (this.$mfdMode == 0) // power
	{
		this.$mfdOn = !this.$mfdOn;
		if (this.$mfdOn)
		{
			// out of range value picks first free MFD, if there is one
			player.ship.setMultiFunctionDisplay(player.ship.multiFunctionDisplays,&quot;ships-library&quot;)
			player.consoleMessage(expandDescription(&quot;[ships-library-mfd-on]&quot;));
		}
	}
	else if (this.$mfdMode == 1) // next page
	{
		this.$mfdOffset = this._nextOffset(this.$mfdChapter,this.$mfdOffset,this.$mfdStore,this.$mfdRows,this.$mfdCols);
		if (this.$mfdOffset == -1) {
			this.$mfdOffset = 0;
			this.$mfdChapter++;
			if (this.$mfdChapter &gt;= this.$contents.length) {
				this.$mfdChapter = 0;
			} else {
				this._setBookmark();
			}
		} else {
			this._setBookmark();
		}
	}
	else if (this.$mfdMode == 2) // prev page
	{
		if (this.$mfdOffset == 0) {
			if (this.$mfdChapter == 0) {
				this.$mfdChapter = this.$contents.length-1;
			} else {
				this.$mfdChapter--;
				this.$mfdOffset = this._lastPageOffset(this.$mfdChapter,this.$mfdStore);
				this._setBookmark();
			}
		} else {
			this.$mfdOffset = this._previousOffset(this.$mfdChapter,this.$mfdOffset,this.$mfdStore,this.$mfdRows,this.$mfdCols);
			this._setBookmark();
		}
	}
	else if (this.$mfdMode == 3) // next chapter
	{
		this.$mfdOffset = 0;
		this.$mfdChapter++;
		if (this.$mfdChapter &gt;= this.$contents.length) {
			this.$mfdChapter = 0;
		}
	}
	else if (this.$mfdMode == 4) // next chapter
	{
		this.$mfdOffset = 0;
		this.$mfdChapter--;
		if (this.$mfdChapter &lt; 0) {
			this.$mfdChapter = this.$contents.length-1;
		}
	}

	if (this.$mfdOn)
	{
		this._showMFD();
	}
	else
	{
		this._hideMFD();
	}
}

this._showMFD = function()
{
	var text = this._textFromOffset(this.$mfdChapter,this.$mfdOffset,this.$mfdStore,this.$mfdRows,this.$mfdCols);
	text = this._mfdBreak(text);
	player.ship.setMultiFunctionText(&quot;ships-library&quot;,text);
}

this._hideMFD = function()
{
	player.ship.setMultiFunctionText(&quot;ships-library&quot;);
}

this._mfdBreak = function(text)
{
	if (text == String.fromCharCode(30))
	{
		return &quot;---image unavailable---&quot;;
	}
	var linewidth = this.$mfdCols;
	var lines = [];
	var paras = text.split(&quot;\n&quot;);
	
	var pl = paras.length;
	for (var i=0;i&lt;pl;i++) {
		var accum = &quot;&quot;;
		var words = paras[i].split(&quot; &quot;);
		var widthuse = 0;
		var wl = words.length;
		for (var j=0;j&lt;wl;j++) {
			var word = (accum==&quot;&quot;?&quot;&quot;:&quot; &quot;)+words[j];
			var wordwidth = defaultFont.measureString(word);
			if (widthuse+wordwidth &lt; linewidth) {
				accum += word;
				widthuse+=wordwidth;
			} else {
				lines.push(accum);
				accum = word.slice(1);
				widthuse = wordwidth - this.$spaceWidth;
			}
		}
		lines.push(accum);
	}
	return lines.join(&quot;\n&quot;);
}


/** Utility functions **/

this._blockFromOffset = function(chapternum,offset,lines,linewidth) {
	//		log(this.name,&quot;Calculating block: &quot;+key+&quot;,&quot;+offset);
	var pagebreak = String.fromCharCode(30);
//	var lines = this.$rows;
//	var linewidth = this.$cols;
	
	var fulltext = this._getText(chapternum);
	
	var text = fulltext.slice(offset,offset+(lines*linewidth*4));
	var paras = text.split(&quot;\n&quot;);
	var accum = &quot;&quot;;
	var lineuse = 0;
	var pl = paras.length;
	for (var i=0;i&lt;pl;i++) {
		var words = paras[i].split(&quot; &quot;);
		var widthuse = 0;
		var wl = words.length;
		for (var j=0;j&lt;wl;j++) {
			if (words[j] == pagebreak) {
				lineuse = lines;
				accum += pagebreak+&quot;\n&quot;;
				break; // page break character
			}
			var word = (j==0?&quot;&quot;:&quot; &quot;)+words[j];
			var wordwidth = defaultFont.measureString(word);
			if (widthuse+wordwidth &lt; linewidth) {
				accum += word;
				widthuse+=wordwidth;
			} else {
				widthuse=0;
				lineuse++;
				if (lineuse &gt;= lines) {
					accum += &quot;\n&quot;;
					break;
				} else {
					accum += word;
					if (j==0)
					{
						widthuse+=wordwidth;
					}
					else
					{
						widthuse+=wordwidth - this.$spaceWidth;
					}
				}
			}
		}
		if (lineuse &gt;= lines) {
			break;
		}
		lineuse++;
		accum += &quot;\n&quot;;
		if (lineuse &gt;= lines) {
			break;
		}
	}

	if (lineuse &lt; this.$minblock &amp;&amp; lines == this.$msRows) {
		this.$short = true;
	} else {
		this.$short = false;
	}
	//		log(this.name,&quot;Calculated block: &quot;+key+&quot;,&quot;+offset);
	return accum;
}

// offset calculation can be fairly slow for large text blocks
// this calculates it in the background a page at a time
// while the player is docked and frame rate is less crucial
this._precalculateOffsets = function() {
	if (!player.ship || !player.ship.docked) {
		return;
	}
	for (var i=0;i&lt;this.$contents.length;i++) {
		if (this._precalculateOffset(i)) {
			return;
		}
	}
	removeFrameCallback(this.$fcb);
	delete this.$fcb;
}

this._precalculateOffset = function(chapternum) {
	var chapter = this.$contents[chapternum];
	if (chapter.offsets &amp;&amp; chapter.miniOffsets) {
		return false;
	}
	if (!chapter._offsets) {
		chapter._offsets = [0];
	}
	if (!chapter._miniOffsets) {
		chapter._miniOffsets = [0];
	}

	var fulltext = this._getText(chapternum);
	var offset = chapter._offsets[chapter._offsets.length-1];
	var block = this._blockFromOffset(chapternum,offset,this.$msRows,this.$msCols);
	offset += block.length;
	if (offset &lt; fulltext.length) {
		// add next block
		chapter._offsets.push(offset);
	} else {
		// done
		if (this.$short &amp;&amp; chapter._offsets.length &gt; 1) {
			chapter._offsets.pop(); // merge last block into previous
		}
		chapter._offsets.push(-1);
		chapter.offsets = chapter._offsets;
		delete chapter._offsets;
	}

	offset = chapter._miniOffsets[chapter._miniOffsets.length-1];
	block = this._blockFromOffset(chapternum,offset,this.$mfdRows,this.$mfdCols);
	offset += block.length;
	if (offset &lt; fulltext.length) {
		// add next block
		chapter._miniOffsets.push(offset);
	} else {
		// done
		if (this.$short &amp;&amp; chapter._miniOffsets.length &gt; 1) {
			chapter._miniOffsets.pop(); // merge last block into previous
		}
		chapter._miniOffsets.push(-1);
		chapter.miniOffsets = chapter._miniOffsets;
		delete chapter._miniOffsets;
	}


	return true;
}


this._calculateOffsets = function(chapternum,rows,cols) {
	var offsets = new Array;
	var fulltext = this._getText(chapternum);

	var offset = 0;
	this.$short = false;
	while (offset &lt; fulltext.length &amp;&amp; !this.$short) {
		offsets.push(offset);
		var block = this._blockFromOffset(chapternum,offset,rows,cols);
		offset += block.length;
	}
	if (this.$short &amp;&amp; offsets.length &gt; 1) {
		offsets.pop(); // merge last block into previous
	}

	offsets.push(-1);

	return offsets;
}


this._textFromOffset = function(chapternum,fromoffset,otype,rows,cols) {
	var fulltext = this._getText(chapternum);

	var tooffset = this._nextOffset(chapternum,fromoffset,otype,rows,cols);
	if (tooffset == -1) {
		var slice = fulltext.slice(fromoffset);
	} else {
		var slice = fulltext.slice(fromoffset,tooffset);
	}
	return slice.trim();
}

this._getText = function(chapternum) {
	var chapter = this.$contents[chapternum];
	var params = new Object;
	params[&quot;ships-library-page-break&quot;] = String.fromCharCode(30)+&quot;\n&quot;;
	if (!chapter.params) {
		return expandMissionText(chapter.key+&quot;-text&quot;,params);
	} else {
		for (var i=0;i&lt;chapter.params.length;i++) {
			params[&quot;ships_library_param_&quot;+i] = chapter.params[i]();
		}
		return expandMissionText(chapter.key+&quot;-text&quot;,params);
	}
}

this._pageOfOffset = function(chapter,offset,otype) {
	// only call this function when chapter.offsets must have been
	// calculated already

	for (var i=0;i&lt;chapter[otype].length;i++) {
		if (offset &lt;= chapter[otype][i]) {
			return i;
		}
	}
	return chapter[otype].length;
}

this._nextOffset = function(chapternum,fromoffset,otype,rows,cols) {
	var chapter = this.$contents[chapternum];
	if (!chapter[otype]) {
		chapter[otype] = this._calculateOffsets(chapternum,rows,cols);
		delete chapter._offsets;
	}

	for (var i=0;i&lt;chapter[otype].length;i++) {
		if (fromoffset &lt;= chapter[otype][i]) {
			if (i==chapter[otype].length-1) {
				return -1;
			}
			return chapter[otype][i+1];
		}
	}
	return -1;
}

this._previousOffset = function(chapternum,fromoffset,otype,rows,cols) {
	var offcount = 0;
	do {
		var next = this._nextOffset(chapternum,offcount,otype,rows,cols);
		if (next &lt; fromoffset) {
			offcount = next;
		}
	} while (next &lt; fromoffset);
	return offcount;
}

this._lastPageOffset = function(chapternum,otype,rows,cols) {
	var offcount = 0;
	do {
		var next = this._nextOffset(chapternum,offcount,otype,rows,cols);
		if (next != -1) {
			offcount = next;
		}
	} while (next != -1);
	return offcount;
}

this._getTip = function() {
	var numtips = 12;


	var tipn = (clock.days-2084004) % numtips;
	if (tipn &lt;= 9) {
		var tips = &quot;00&quot;+tipn.toString();
	} else if (tipn &lt;= 99) {
		var tips = &quot;0&quot;+tipn.toString();
	} else {
		var tips = tipn.toString();
	}
	return expandMissionText(&quot;ingame-manual-tip-&quot;+tips);
}</pre></td>
                </tr>
                <tr>
                    <td valign="top">Scripts/ships_library_mfd.js</td>
                    <td><pre>this.author      = &quot;cim&quot;; 
this.copyright   = &quot;� 2011-2014 cim.&quot;; 
this.licence = &quot;CC-BY-SA 3.0&quot;;
this.version     = &quot;0.8&quot;; 
this.name = &quot;Ships Library equipment script&quot;;

this.activated = function() {
		worldScripts[&quot;Ships Library&quot;]._equipPressActivate.bind(worldScripts[&quot;Ships Library&quot;])();
}

this.mode = function() {
		worldScripts[&quot;Ships Library&quot;]._equipPressMode.bind(worldScripts[&quot;Ships Library&quot;])();
}
</pre></td>
                </tr>
            </table>
        </a>
    </body>
</html>
