<html>
    <head>
        <title>Expansion Swarm</title>
        <link rel="stylesheet" href="../style.css">
    </head>
    <body>
        <table border="0" width="100%">
            <tr>
                <td>Back to <a href='../index.html'>Index</a></td>
                <td align="right"><small>Page generated: Oct 11, 2023, 3:16:49 PM</small></td>
            </tr>
        </table>

        <h1>Expansion Swarm</h1>

        <h2>Content</h2>
        <ul>
          <li><a href="#warnings">Warnings</a></li>
          <li><a href="#manifest">Manifest</a></li>
          <li><a href="#documentation">Documentation</a></li>
          <li><a href="#equipment">1 Equipment</a></li>
          <li><a href="#ships">6 Ships</a></li>
          <li><a href="#models">0 Models</a></li>
          <li><a href="#scripts">3 Scripts</a></li>
        </ul>

          <a name="warnings">
            <h2>Warnings</h2>
            <ol>
                <li>Tags mismatch between OXP Manifest and Expansion Manager at character position 0002 (RIGHT SQUARE BRACKET vs LATIN SMALL LETTER S)(&#39;[]&#39; vs &#39;[ships]&#39;)</li>
            </ol>
          </a>

        <a name="manifest">
        <h2>Manifest</h2>
            <table border="1">
                <tr>
                    <th></th>
                    <th>from Expansion Manager's OXP list</th>
                    <th>from Expansion Manifest</th>
                </tr>
                <tr>
                    <td>Description</td>
                    <td>A new variant on the Thargoid mothership and Thargons, introducing a swarming mentality. Somewhat more of a challenge than the vanilla versions.</td>
                    <td>A new variant on the Thargoid mothership and Thargons, introducing a swarming mentality. Somewhat more of a challenge than the vanilla versions.</td>
                </tr>
                <tr>
                    <td>Identifier</td>
                    <td>oolite.oxp.Thargoid.Swarm</td>
                    <td>oolite.oxp.Thargoid.Swarm</td>
                </tr>
                <tr>
                    <td>Title</td>
                    <td>Swarm</td>
                    <td>Swarm</td>
                </tr>
                <tr>
                    <td>Category</td>
                    <td>Ships</td>
                    <td>Ships</td>
                </tr>
                <tr>
                    <td>Author</td>
                    <td>Thargoid</td>
                    <td>Thargoid</td>
                </tr>
                <tr>
                    <td>Version</td>
                    <td>1.03</td>
                    <td>1.03</td>
                </tr>
                <tr>
                    <td>Tags</td>
                    <td></td>
                    <td>ships</td>
                </tr>
                <tr>
                    <td>Required Oolite Version</td>
                    <td></td>
                    <td></td>
                </tr>
                <tr>
                    <td>Maximum Oolite Version</td>
                    <td></td>
                    <td></td>
                </tr>
                <tr>
                    <td>Required Expansions</td>
                    <td>
                    </td>
                    <td>
                    </td>
                </tr>
                <tr>
                    <td>Optional Expansions</td>
                    <td>
                    </td>
                    <td>
                    </td>
                </tr>
                <tr>
                    <td>Conflict Expansions</td>
                    <td>
                    </td>
                    <td>
                    </td>
                </tr>
                <tr>
                    <td>Information URL</td>
                    <td><a target="_blank" href="http://wiki.alioth.net/index.php/Swarm_OXP">http://wiki.alioth.net/index.php/Swarm_OXP</a></td>
                    <td><a target="_blank" href="">n/a</a></td>
                </tr>
                <tr>
                    <td>Download URL</td>
                    <td><a target="_blank" href="https://wiki.alioth.net/img_auth.php/a/ac/Swarm_1.03.oxz">https://wiki.alioth.net/img_auth.php/a/ac/Swarm_1.03.oxz</a></td>
                    <td><a target="_blank" href="">n/a</a></td>
                </tr>
                <tr>
                    <td>License</td>
                    <td>Creative Commons Attribution - Non-Commercial - Share Alike 3.0 license with clauses - see readme file</td>
                    <td>Creative Commons Attribution - Non-Commercial - Share Alike 3.0 license with clauses - see readme file</td>
                </tr>
                <tr>
                    <td>File Size</td>
                    <td>n/a</td>
                </tr>
                <tr>
                    <td>Upload date</td>
                    <td>1610873408</td>
                </tr>
            </table>
                </a>

        <a name="documentation">
        <h2>Documentation</h2>
        <p>Also read <a href='http://wiki.alioth.net/index.php/Swarm'>http://wiki.alioth.net/index.php/Swarm</a></p>
        <h3>Swarm v1.03 Readme &amp; License.txt</h3>
        <pre>Swarm OXP by Thargoid.

Urgent Notification to Civilian Commanders

Recent military intelligence and combat encounters have identified a new and potentially worrying evolution in Thargoid technology It appears that the recent appearance of space-borne &quot;wasp-like&quot; creatures within Galcop space (see the report by K. Wolf et al - Galcop Science Network #359-1701) has not gone unnoticed by our alien adversaries, who have also seemingly encountered them and their hive &quot;stations&quot;.

As a result of this, a new type of Thargoid combat craft has now been sighted which has been nicknamed the Swarmer. Similar in design to their familiar octagonal motherships, these new vessels are distinguished byexternal protrusions used to carry small drone craft. These secondary vehicles seem to have replaced the conventional &quot;Thargon&quot; robot fighters, but if anything are more of a threat. Whilst they appear slightly weaker in individual weapon power, they are far more numerous with reports of up to 16 being released by a single mother vessel. But the most worrying aspect is that the craft appear to have taken the wasp swarming mentality, with co-ordinated attacks on individual vessels within a target fleet being reported. 

One notable encounter with three of the mother vessels took all of the skill, bravery and cutting edge military technology of an entire wing of specialised Raptor anti-Thargoid destroyers to counter and repulse. Sadly this was not without losses of several of our brave heroes, leading to the decision to issue this wideband warning to civilian ships.

The increased numbers of the drone craft combined with their small size and faster speed has led to this new type of mother vessel being classification as an extreme threat to civilian and all but the most powerful of Galcop craft. We strongly suggest that discretion is the better part of valour in case of an encounter, and a wise Commander should consider using his fuel injectors rather than his weaponry to survive. However if combat is undertaken, notification to the local Galcop Intelligence directorate at the system main station should be made to assist in countering this terrible new threat.

Fleet Major J deLance.
Galcop Intelligence.

--------------------------------------------------------------
Authors note:

Currently there is a minor glitch in trunk v1.76 (and earlier) which stops thargons triggering a ship script event when it is fired. To avoid this the swarming Thargons are currently scanClass CLASS_MISSILE. This gives a false alert to certain OXPs which automatically try and deal with missiles (and may spam the screen when the ships launch their drones).

The fix for this has been scheduled for inclusion into trunk 1.76.1, at which point I&#39;ll adjust the OXP to suit and raise the minimum requirements.

For tough guys, try spawning role &quot;swarm_squadron&quot;, or for a real challenge, &quot;swarm_invasion&quot; 

--------------------------------------------------------------

License:

This OXP is released under the Creative Commons Attribution - Non-Commercial - Share Alike 3.0 license with the following clauses:

* Whilst you are free (and encouraged) to re-use any of the scripting, models or texturing in this OXP, the usage must be distinct from that within this OXP. Unique identifiers such as (but not limited to) unique shipdata.plist entity keys, mission variables, script names (this.name), equipment identity strings (EQ_), description list arrays and entity roles must not be re-used without prior agreement.
* rebundling of this OXP within another distribution is permitted as long as it is unchanged. The following derivates however are permitted and except from the above:
	* the conversion of files between XML and openStep.
	* the merging of files with other files of the same type from other OXPs.
* Even though it is not compulsory, if you are re-using any sizable or recognisable piece of this OXP, please let me know :)

--------------------------------------------------------------

Instructions:

Unzip the file, and then move the folder &quot;Swarm 1.03.oxp&quot; to the AddOns directory of your Oolite installation, and also the enclosed zip file of bigShips oxp on which this OXP relies. Then start the game up and the ships should be added. 

Version history:

11/01/2012 (v1.00) - First release, version 1.00
11/01/2012 (v1.01) - Two minor small script tweaks.
22/01/2012 (v1.02) - Hard-coded this.weaveX and this.weaveY scaling values in script, due to NaN problem for Switeck.
29/01/2012 (v1.03) - Added correct isNaN check.

--------------------------------------------------------------

Acknowledgements:

This OXP came about from a pub chat with ClymAngus (probably an event that should be banned under the Geneva Convention). It also re-uses some code originally supplied to Killer Wolf for his Wasps OXP.

With thanks also to Ironfist, Switeck and Cmdr. Maegil for test pilot duties.</pre>
        </a>

        <a name="equipment">          
        <h2>Equipment</h2>
            <table>
                <tr>
                    <th>Name</th>
                    <th>Visible</th>
                    <th>Cost [deci-credits]</th>
                    <th>Tech-Level</th>
                </tr>
                <tr>
                    <td><a href="../equipment/EQ_SWARM_MISSILE.html">Thargon</a></td>
                    <td>yes</td>
                    <td align="right">1000</td>
                    <td align="center">101+</td>
                </tr>
            </table>
        </a>

        <a name="ships">    
        <h2>Ships</h2>
            <table>
                <tr>
                    <th>Name</th>
                </tr>
                <tr>
                    <td><a href="../ships/swarm_dummyThargon.html">swarm_dummyThargon</a></td>
                </tr>
                <tr>
                    <td><a href="../ships/swarm_invasion.html">swarm_invasion</a></td>
                </tr>
                <tr>
                    <td><a href="../ships/swarm_seeker.html">Unidentified Sphere</a></td>
                </tr>
                <tr>
                    <td><a href="../ships/swarm_squadron.html">swarm_squadron</a></td>
                </tr>
                <tr>
                    <td><a href="../ships/swarm_thargoid.html">Thargoid Mothership</a></td>
                </tr>
                <tr>
                    <td><a href="../ships/swarm_thargon.html">Thargoid Swarm</a></td>
                </tr>
            </table>
        </a>

        <a name="models">    
        <h2>Models</h2>
            This expansion declares no models. This may be related to warnings.
        </a>

        <a name="scripts">    
        <h2>Scripts</h2>
            <table>
                <tr>
                    <th>Path</th>
                </tr>
                <tr>
                    <td valign="top">Scripts/swarm_seeker.js</td>
                    <td><pre>this.name           = &quot;swarm_seeker&quot;;
this.author         = &quot;Thargoid&quot;;
this.copyright		= &quot;Creative Commons: attribution, non-commercial, sharealike with clauses - see readme.txt&quot;;
this.description    = &quot;Ship script for the Thargoid swarm seeker&quot;;
this.version        = &quot;1.03&quot;;
&quot;use strict&quot;;

this.shipSpawned = function()
	{ 	
	this.spawnedTime = clock.absoluteSeconds;
	function targetShips(entity) {return entity.isShip &amp;&amp; entity.isValid &amp;&amp; entity.isCloaked &amp;&amp; !entity.hasRole(&quot;thargoid&quot;) &amp;&amp; entity.scanClass !== &quot;CLASS_THARGOID&quot; &amp;&amp; !entity.isThargoid}; 
	this.cloakedShips = system.filteredEntities(this, targetShips, this.ship, 25600); 
	
	if(this.cloakedShips.length === 0)
		{ 
		this.ship.explode();
		return;
		}
	
	this.victim = this.cloakedShips[0];
	this.callbackID = addFrameCallback(this.trackVictim.bind(this)); 
	};
	
this.trackVictim = function()
	{
	if(!this.victim || !this.victim.isValid || (clock.absoluteSeconds - this.spawnedTime &gt; 120))
		{
		this.stopCallback();
		this.ship.explode();
		return;
		}
		
	var targetVector = this.victim.position.subtract(this.ship.position).direction();
	var angle = this.ship.heading.angleTo(targetVector);
	var cross = this.ship.heading.cross(targetVector).direction();
	this.ship.orientation = this.ship.orientation.rotate(cross, -angle);	
	this.ship.desiredSpeed = this.ship.maxSpeed;
	
	if(this.ship &amp;&amp; this.victim &amp;&amp; (this.ship.position.distanceTo(this.victim.position) &lt; 25))
		{
		if(this.victim &amp;&amp; this.victim.isValid &amp;&amp; this.victim.equipmentStatus(&quot;EQ_CLOAKING_DEVICE&quot;, &quot;EQUIPMENT_OK&quot;))
			{
			if(Math.random() &gt; 0.9)
				{ this.victim.setEquipmentStatus(&quot;EQ_CLOAKING_DEVICE&quot;, &quot;EQUIPMENT_DAMAGED&quot;); }
			else
				{
				this.victim.removeEquipment(&quot;EQ_CLOAKING_DEVICE&quot;);
				this.victim.awardEquipment(&quot;EQ_CLOAKING_DEVICE&quot;);
				}
			}	
		this.stopCallback(); 
		}
	};

this.shipDied = this.stopCallback = function()
	{
	if(this.callbackID &amp;&amp; isValidFrameCallback(this.callbackID)) 
		{ removeFrameCallback(this.callbackID); } 
	delete this.callbackID;
	};
	
this.shipHitByECM = function(pulse)
	{
	if(Math.random() &lt; ((pulse+1)/100))
		{ 
		this.stopCallback();
		this.ship.explode();
		}
	};</pre></td>
                </tr>
                <tr>
                    <td valign="top">Scripts/swarm_thargoid.js</td>
                    <td><pre>this.name           = &quot;swarm_thargoid&quot;;
this.author         = &quot;Thargoid&quot;;
this.copyright		= &quot;Creative Commons: attribution, non-commercial, sharealike with clauses - see readme.txt&quot;;
this.description    = &quot;Ship script for the Thargoid swarm mothership&quot;;
this.version        = &quot;1.03&quot;;
&quot;use strict&quot;;

this.spawnedAsEscort = function()
	{ this.ship.switchAI(&quot;swarm_thargoidAI.plist&quot;); };

this.shipSpawned = function()
	{
	if (player.score &gt; 512)
		{ this.ship.awardEquipment(&quot;EQ_SHIELD_BOOSTER&quot;); }
	if (player.score &gt; 1024)
		{ this.ship.awardEquipment(&quot;EQ_ENERGY_UNIT&quot;); }
	if (player.score &gt; 2560)
		{ this.ship.awardEquipment(&quot;EQ_SHIELD_ENHANCER&quot;); }
	if (player.score &gt; 4000)
		{ this.ship.awardEquipment(&quot;EQ_NAVAL_ENERGY_UNIT&quot;); }
	if (player.score &gt; 6399)
		{ this.ship.awardEquipment(&quot;EQ_NAVAL_SHIELD_BOOSTER&quot;); }
	
	if(this.ship.scriptInfo.missileRole) // missileRole should be defined in shipdata.plist
		{ this.missileRole = this.ship.scriptInfo.missileRole; }
	else
		{ this.missileRole = &quot;EQ_THARGON&quot;; } // default to standard thargon if not
	
	this.ship.awardEquipment(&quot;EQ_MISSILE_REMOVAL&quot;); // remove all spawning missiles and restock with selected ones.
	var addCounter = 0; 
	for(addCounter = 0; addCounter &lt; this.ship.missileCapacity;addCounter++)
		{ this.ship.awardEquipment(this.missileRole); }
	
	this.swarmGroup = new ShipGroup(&quot;Alien Swarm&quot;, this.ship);
	this.ship.group = this.swarmGroup;
	this.swarmGroup.leader = this.ship;
	this.lastBlink = 0;
	this.lastSeek = 0;
	this.seekerCount = 3;
	};
	
this.shipFiredMissile = function(missile, target)
	{	
	if(!this.ship.isValid || this.ship.subEntities.length === 0) { return; } // if we&#39;ve run out of sub-ents before we run out of missiles, or the ship has been destroyed
	
	var subCounter = this.ship.subEntities.length - 1; // Set counter to number of sub-ents minus 1 (as entity array goes up from zero)
	for(subCounter = this.ship.subEntities.length - 1; subCounter &gt;= 0; subCounter--)
		{
		if(this.ship.subEntities[subCounter].hasRole(missile.primaryRole)) // if the sub-ent is the same as the missile being fired
			{
			missile.position = this.localToGlobal(this.ship.subEntities[subCounter].position); // move the fired missile to the sub-ent position
			missile.orientation = this.ship.subEntities[subCounter].orientation.multiply(this.ship.orientation); // point the missile in the right direction
			missile.desiredSpeed = missile.maxSpeed;
			missile.group = this.swarmGroup;
			this.ship.subEntities[subCounter].remove(); // remove the sub-ent version of the missile
			break; // come out of the loop, as we&#39;ve done our swap
			}
		}
	};
	
this.localToGlobal = function(position)
	{ // sub-ent position is relative to mother, but for swapping we need the absolute global position
	let orientation = this.ship.orientation;
	return this.ship.position.add(position.rotateBy(orientation));
	};

this.shipTakingDamage = function(amount, fromEntity, damageType)
	{
	if(this.ship.missiles.length === 0 &amp;&amp; this.ship.subEntities.length === 0) // if we&#39;re all out of missiles and any sub-entities, bail out.
		{ return; }
	
	this.missileSubs = 0;
	var subCounter = this.ship.subEntities.length - 1; // Set counter to number of sub-ents minus 1 (as entity array goes up from zero)
	for(subCounter = this.ship.subEntities.length - 1; subCounter &gt;= 0; subCounter--)
		{
		if(this.ship.subEntities[subCounter].hasRole(this.missileRole)) // if the sub-ent is a missile, count it
			{ this.missileSubs++; }
		}
	
	if(this.missileSubs === 0 &amp;&amp; this.ship.subEntities.length === 0) // if we&#39;re all out of missiles and missile sub-entities, bail out.
		{ return; }
	
	if(this.missileSubs &lt; this.ship.missiles.length) // if we&#39;ve got more missiles than sub-entity missiles
		{
		this.ship.awardEquipment(&quot;EQ_MISSILE_REMOVAL&quot;); // get rid of all missiles
		if(this.missileSubs &gt; 0)
			{
			var missileCounter = 0; 
			for(missileCounter = 0;missileCounter&lt;this.missileSubs;missileCounter++) // restock with the correct number of selected missile
				{ this.ship.awardEquipment(this.missileRole); }
			}
		return;	
		}
		
	if(this.missileSubs &gt; this.ship.missiles.length) // if we&#39;ve got less missiles than sub-entity missiles
		{
		this.difference = this.missileSubs - this.ship.missiles.length;
		var removeCounter = 0; 
		for(removeCounter = 0;removeCounter&lt;this.difference;removeCounter++) // loop through however many subs we need to remove
				{
				var subCounter = this.ship.subEntities.length - 1; // Set counter to number of sub-ents minus 1 (as entity array goes up from zero)
				for(subCounter = this.ship.subEntities.length - 1; subCounter &gt;= 0; subCounter--)
					{
					if(this.ship.subEntities[subCounter].hasRole(this.missileRole)) // if the sub-ent is a missile, remove it
						{ 
						this.ship.subEntities[subCounter].remove(); 
						break;
						}
					}
				}
		return;	
		}	
	};	
	
this.shipEnergyIsLow = function()
	{ 
	this.starburst();	
	this.blink();	
	};
	
this.shipDied = function()
	{ this.ship.commsMessage(expandDescription(&quot;[thargoid_curses]&quot;)); };

this.starburst = function()
	{
	if(this.ship.missiles.length === 0) { return; }
	
	var missileCounter = this.ship.missiles.length; 
	for(missileCounter = this.ship.missiles.length; missileCounter &gt; 0; missileCounter--) // restock with the correct number of selected missile
		{ this.ship.fireMissile(); }	
	};
	
this.blink = function()
	{
	if(clock.absoluteSeconds - this.lastBlink &lt; 30) { return; }
	this.lastBlink = clock.absoluteSeconds;
	var xDistance = ((Math.random() * 2) - 1) * 5000;
	var yDistance = ((Math.random() * 2) - 1) * 5000;
	var zDistance = ((Math.random() * 2) - 1) * 5000;	
	this.ship.position = this.ship.position.add([xDistance, yDistance, zDistance]);	
	};
	
this.validateTarget = function()
	{
	if(this.ship.target &amp;&amp; !this.ship.target.isThargoid &amp;&amp; !this.ship.target.hasRole(&quot;thargoid&quot;) &amp;&amp; !this.ship.target.hasRole(&quot;EQ_SWARM_MISSILE&quot;))
		{ this.ship.reactToAIMessage(&quot;TARGET_VALID&quot;); }
	else
		{ this.ship.reactToAIMessage(&quot;TARGET_INVALID&quot;); }
	};	
	
this.scanForTarget = function()
	{
	if(this.ship.target &amp;&amp; this.ship.target.isValid &amp;&amp; this.ship.AIState === &quot;ATTACK_SHIP&quot; &amp;&amp; Math.random() &gt; 0.1) { return; }
	
	function targetShips(entity) {return entity.isShip &amp;&amp; !entity.isCloaked &amp;&amp; !entity.hasRole(&quot;thargoid&quot;) &amp;&amp; entity.scanClass !== &quot;CLASS_THARGOID&quot; &amp;&amp; !entity.isThargoid}; 
	function primaryShips(entity) {return !entity.isStation &amp;&amp; entity.isPiloted}; 
	function secondaryShips(entity) {return !entity.isPiloted || entity.isStation }; 
	let allShips = system.filteredEntities(this, targetShips, this.ship, 25600); 
	this.primaryArray = allShips.filter(primaryShips);
	this.secondaryArray = allShips.filter(secondaryShips);
	
	if(this.primaryArray.length &gt; 0)
		{
		this.targetNumber = Math.floor(Math.random() * this.primaryArray.length);
		if(this.targetNumber &gt; this.primaryArray.length)
			{ this.targetNumber = 0; }
		this.ship.target = this.primaryArray[this.targetNumber];
        this.ship.reactToAIMessage(&quot;TARGET_FOUND&quot;);
		}
	else
		{
		if(this.secondaryArray.length &gt; 0)
			{
			this.targetNumber = Math.floor(Math.random() * this.secondaryArray.length);
			if(this.targetNumber &gt; this.secondaryArray.length)
				{ this.targetNumber = 0; }
			this.ship.target = this.secondaryArray[this.targetNumber];
			this.ship.reactToAIMessage(&quot;TARGET_FOUND&quot;);
			}
		else
			{ this.ship.reactToAIMessage(&quot;NOTHING_FOUND&quot;); }
		}
	};
	
this.startWeave = function()
	{
	if(this.callbackID) { return; }
	
	this.weaveTime = clock.absoluteSeconds;
	this.phase = Math.random() * 2 * Math.PI;
	this.callbackID = addFrameCallback(this.performWeave.bind(this));
	};
	
this.stopWeave = function()
	{ 
	if(this.callbackID &amp;&amp; isValidFrameCallback(this.callbackID)) 
		{ removeFrameCallback(this.callbackID); } 
	delete this.callbackID;
	};
	
this.performWeave = function()
	{
	if(!this.ship.isValid || this.ship.AIState !== &quot;ATTACK_SHIP&quot;) 
		{ 
		this.stopWeave(); 
		return;
		}
	
	var xOffset = (2.5 * this.ship.speed/this.ship.maxSpeed) * Math.sin(clock.absoluteSeconds - this.weaveTime);
	var yOffset = (2.5 * this.ship.speed/this.ship.maxSpeed) * Math.sin(this.phase + clock.absoluteSeconds - this.weaveTime);

	if(isNaN(xOffset)) 
		{ 
		log(this.name, &quot;Swarm OXP - xOffset is NaN. Please report&quot;);
		xOffset = (2.5 * ((2 * Math.random()) - 1));
		};
		
	if(isNaN(yOffset)) 
		{ 
		log(this.name, &quot;Swarm OXP - yOffset is NaN. Please report&quot;);
		yOffset = (2.5 * ((2 * Math.random()) - 1));
		};	
	
	this.ship.position = this.ship.position.add([xOffset, yOffset, 0]);	
	};
	
this.shipBeingAttackedByCloaked = function()
	{
	if(this.seekerCount === 0 || (clock.absoluteSeconds - this.lastSeek &lt; 10)) { return; }
	
	this.lastSeek = clock.absoluteSeconds;
	this.seekerCount--;
	this.ship.spawnOne(&quot;swarm_seeker&quot;);
	};</pre></td>
                </tr>
                <tr>
                    <td valign="top">Scripts/swarm_thargon.js</td>
                    <td><pre>this.name           = &quot;swarm_tharglet&quot;;
this.author         = &quot;Thargoid&quot;;
this.copyright		= &quot;Creative Commons: attribution, non-commercial, sharealike with clauses - see readme.txt&quot;;
this.description    = &quot;Ship script for the Thargoid swarm tharglet&quot;;
this.version        = &quot;1.03&quot;;
&quot;use strict&quot;;

this.shipSpawned = function()
	{
	if (player.score &gt; 512)
		{ this.ship.awardEquipment(&quot;EQ_SHIELD_BOOSTER&quot;); }
	if (player.score &gt; 2560)
		{ this.ship.awardEquipment(&quot;EQ_ENERGY_UNIT&quot;); }
	if (player.score &gt; 6399)
		{ this.ship.awardEquipment(&quot;EQ_SHIELD_ENHANCER&quot;); }
	};
	
this.validateTarget = function()
	{
	if(this.ship.target &amp;&amp; this.ship.target.scanClass != &quot;CLASS_THARGOID&quot; &amp;&amp; !this.ship.target.hasRole(&quot;thargoid&quot;) &amp;&amp; !this.ship.target.hasRole(&quot;EQ_SWARM_MISSILE&quot;))
		{ this.ship.reactToAIMessage(&quot;TARGET_VALID&quot;); }
	else
		{ this.ship.reactToAIMessage(&quot;TARGET_INVALID&quot;); }
	};</pre></td>
                </tr>
            </table>
        </a>
    </body>
</html>
