<html>
    <head>
        <title>Expansion Trident Down</title>
        <link rel="stylesheet" href="../style.css">
    </head>
    <body>
        <table border="0" width="100%">
            <tr>
                <td>Back to <a href='../index.html'>Index</a></td>
                <td align="right"><small>Page generated: Oct 11, 2023, 3:16:49 PM</small></td>
            </tr>
        </table>

        <h1>Expansion Trident Down</h1>

        <h2>Content</h2>
        <ul>
          <li><a href="#warnings">Warnings</a></li>
          <li><a href="#manifest">Manifest</a></li>
          <li><a href="#documentation">Documentation</a></li>
          <li><a href="#equipment">4 Equipment</a></li>
          <li><a href="#ships">67 Ships</a></li>
          <li><a href="#models">0 Models</a></li>
          <li><a href="#scripts">10 Scripts</a></li>
        </ul>

          <a name="warnings">
            <h2>Warnings</h2>
            <ol>
                <li>Found XML equipment list</li>
                <li>XML script list found</li>
            </ol>
          </a>

        <a name="manifest">
        <h2>Manifest</h2>
            <table border="1">
                <tr>
                    <th></th>
                    <th>from Expansion Manager's OXP list</th>
                    <th>from Expansion Manifest</th>
                </tr>
                <tr>
                    <td>Description</td>
                    <td>Contains a series of Galaxy 4 missions investigating a vicious attack on a Trident Shuttle. Depends on Commies, Executive Spaceways and Saleza Aeronautics.</td>
                    <td>Contains a series of Galaxy 4 missions investigating a vicious attack on a Trident Shuttle. Depends on Commies, Executive Spaceways and Saleza Aeronautics.</td>
                </tr>
                <tr>
                    <td>Identifier</td>
                    <td>oolite.oxp.Ramirez.TridentDown</td>
                    <td>oolite.oxp.Ramirez.TridentDown</td>
                </tr>
                <tr>
                    <td>Title</td>
                    <td>Trident Down</td>
                    <td>Trident Down</td>
                </tr>
                <tr>
                    <td>Category</td>
                    <td>Missions</td>
                    <td>Missions</td>
                </tr>
                <tr>
                    <td>Author</td>
                    <td>Ramirez</td>
                    <td>Ramirez</td>
                </tr>
                <tr>
                    <td>Version</td>
                    <td>2.5.2</td>
                    <td>2.5.2</td>
                </tr>
                <tr>
                    <td>Tags</td>
                    <td></td>
                    <td></td>
                </tr>
                <tr>
                    <td>Required Oolite Version</td>
                    <td></td>
                    <td></td>
                </tr>
                <tr>
                    <td>Maximum Oolite Version</td>
                    <td></td>
                    <td></td>
                </tr>
                <tr>
                    <td>Required Expansions</td>
                    <td>
                            <li>oolite.oxp.DrNil.Commies:2.11</li>
                            <li>oolite.oxp.Ramirez.ExecutiveSpaceWays:2.4</li>
                            <li>oolite.oxp.Ramirez.SalezaAeronautics:2.3</li>
                    </td>
                    <td>
                            <li>oolite.oxp.DrNil.Commies:2.11</li>
                            <li>oolite.oxp.Ramirez.ExecutiveSpaceWays:2.4</li>
                            <li>oolite.oxp.Ramirez.SalezaAeronautics:2.3</li>
                    </td>
                </tr>
                <tr>
                    <td>Optional Expansions</td>
                    <td>
                    </td>
                    <td>
                    </td>
                </tr>
                <tr>
                    <td>Conflict Expansions</td>
                    <td>
                    </td>
                    <td>
                    </td>
                </tr>
                <tr>
                    <td>Information URL</td>
                    <td><a target="_blank" href="http://wiki.alioth.net/index.php/Trident_Down">http://wiki.alioth.net/index.php/Trident_Down</a></td>
                    <td><a target="_blank" href="">n/a</a></td>
                </tr>
                <tr>
                    <td>Download URL</td>
                    <td><a target="_blank" href="https://wiki.alioth.net/img_auth.php/8/85/Trident_Down_2.5.2.oxz">https://wiki.alioth.net/img_auth.php/8/85/Trident_Down_2.5.2.oxz</a></td>
                    <td><a target="_blank" href="">n/a</a></td>
                </tr>
                <tr>
                    <td>License</td>
                    <td>CC BY-NC-SA 3</td>
                    <td>CC BY-NC-SA 3</td>
                </tr>
                <tr>
                    <td>File Size</td>
                    <td>n/a</td>
                </tr>
                <tr>
                    <td>Upload date</td>
                    <td>1610873352</td>
                </tr>
            </table>
                </a>

        <a name="documentation">
        <h2>Documentation</h2>
        <p>Also read <a href='http://wiki.alioth.net/index.php/Trident%20Down'>http://wiki.alioth.net/index.php/Trident%20Down</a></p>
        <h3>Trident Down readme.rtf</h3>
        <pre>{\rtf1\ansi\ansicpg1252\cocoartf949\cocoasubrtf540
{\fonttbl\f0\fswiss\fcharset0 Helvetica;}
{\colortbl;\red255\green255\blue255;}
\paperw11900\paperh16840\margl1440\margr1440\vieww27720\viewh14760\viewkind0
\pard\tx566\tx1133\tx1700\tx2267\tx2834\tx3401\tx3968\tx4535\tx5102\tx5669\tx6236\tx6803\ql\qnatural\pardirnatural

\f0\fs24 \cf0 Trident Down\
------------------\
\
A Mission OXP for Giles Williams&#39; Oolite\
\
v2.5.2\
\
Ramirez, December 2013\
\
Trident Down takes place in Galaxy 4 and builds on some of the fiction behind my earlier Executive SpaceWays OXP.  It consists of a large number of non-linear missions involving plenty of intrigue, combat and basic problem-solving.  All in all there are nine different ways of completing the mission, not all of which result in a successful outcome.\
\
The mission will begin once the player docks in Galaxy 4 with an Elite rating greater than Dangerous.\
\
Installation Requirements\
-----------------------------------\
Trident Down requires at least Oolite v1.77 to run properly.\
\
In addition to the items contained within the Trident Down package itself, to avoid too much unnecessary duplication this version of the mission makes use of ships or elements of ships (models, AIs or shipdata) from the following OXPs and so requires them to be installed:\
\
* Executive SpaceWays and Saleza Aeronautics (Ramirez)\
* Commies (Dr Nil)\
\
Make sure to download the latest versions available for each of these OXPs; they can be found via the Elite Wiki.\
\
Installation Recommendations\
-----------------------------------------\
This mission involves quite a lot of travelling and so for those who wish to speed up the proceedings I can recommend making use of my Fuel Tank OXP.  It is not usually essential to the mission, however, and note that most of the major news updates will only be received at main space stations.  Make sure you dock every now and then to check for updates.\
\
Hints &amp; Tips\
----------------\
* While the mission screens will provide you with most of the relevant information, you will occasionally be contacted during flight, so keep any eye on your comms logs (especially when exiting witchspace) for any urgent messages.  Remember you can use the tilde (~) key to show the most recent messages\
* The status of the mission and your current objectives are displayed on the manifest screen (F5 x 2).\
* Some of the planet descriptions have been altered and so may provide you with additional clues on where to go next.\
* Occasionally you be offered special weapons for use in the mission.  These will appear as special entries to purchase for free on the F3 equipment screen.\
* As things progress your instructions will become less detailed, and you will have to work out exactly what you need to do. \
* In this mission set, failure is often an option and in fact, some of the more interesting events only take place when things don&#39;t go to plan.  Wait and see how things turn out before reaching for a saved game.\
* When saving a game, it&#39;s generally best to do so before jumping into a mission critical destination.\
\
Replays\
-----------\
If you&#39;ve completed the mission in one way you may like to try out some of the other options.  To go back to the initial branching point of the mission, edit your save game as follows:\
* delete the &#39;mission_trident_down_completed&#39; variable, which will currently be set to &#39;TRUE&#39;\
* modify the &#39;mission_trident_down&#39; variable to &quot;REPLAY&quot;\
If you&#39;d like to go back to a different point and want to avoid spoilers by looking at the script, send me a PM via the Oolite Bulletin Board.\
\
Acknowledgments\
-------------------------\
In addition to the other OXPs listed above, this mission makes use of the following:\
\
* Minesweepers and battlebots from Assassins by LittleBear\
* Ad board models and textures from Your Ad Here and also models and textures based on the Pi-42 Convenience Store from Oo-Haul, both by Dr Nil\
* iNews logo from Deposed by Cmdr. Wombat (never got round to making my own!)\
* Casino models, textures and AI from HoOpy Casino by Murgh\
* NuViper and Mussurana models by Aegidean\
* Adder Mk2 model by Ramon\
* Bandy-Bandy Courier model by Murgh  \
* Models and textures from Gritty Coriolis\
* Thanks also to Griff for the use of his trading post from Busy Ports and generally to any authors from whom I&#39;ve cribbed little bits of script\
\
Testing\
----------\
This OXP has been tested on Oolite v1.75.3 using a Mac installed with OS X 10.5.8.\
\
Thanks to Hoopy, LittleBear, j f gearing, FSOneblin, Screet, Thargoid, Lestradae, Kaks, GrahamIC and Mauiby de Fug for help in identifying bugs.  Big thanks to Eric Walch for the help with the javascript in the move to v1.0.  \
\
Version History\
---------------------\
\
\pard\tx566\tx1133\tx1700\tx2267\tx2834\tx3401\tx3968\tx4535\tx5102\tx5669\tx6236\tx6803\li2060\fi-2060\ql\qnatural\pardirnatural
\cf0 v2.5.2 11/12/13		Improved reliability of correct Jenssen ship appearance in Ergeso\
\
v2.5.1 18/10/13		Fixed bug that prevents Bodarenko mission from continuing\
				Corrected radio messages that were giving incorrect player instructions\
\
v2.5 28/01/13		Compatibility fixes for Oolite v1.77\
				Improved Bellatrix missile launch and escape AIs \
				Replaced some NPC military lasers with beam lasers for better balance\
				Fixed problem with transit station not becoming main station when required\
				Fixed bomb countdown overrunning when player ship not present\
				Improved reliability of ESW beacon and tweaked AIs of ESW fleet ships\
				Added a Playfair nav-buoy in Cebitiza to help player navigation\
				New script for EMP bomb\
				Various corrections to missiontext typos\
				Slight adjustments to the Suslov hunt\
\pard\tx566\tx1133\tx1700\tx2267\tx2834\tx3401\tx3968\tx4535\tx5102\tx5669\tx6236\tx6803\ql\qnatural\pardirnatural
\cf0 			\
\
v2.4 27/04/12		Improved Delaney set piece for better game balancing\
\
v2.3 19/04/12		Fixed an early looping mission screen bug\
				Improved the Batkov set piece to provide clearer instructions to the player and reduce risk of target crashing into the planet\
				Improved the Bodarenko set piece to provide more guidance to players, an alternative failure state and better AI for the target ship\
				Suppressed the native Nova mission while Trident Down is running\
			\
\
v2.2 07/01/12		Fixed a problem with the radio mine not not being available and improved the mechanisms for its use in the Bodarenko set-piece\
				Fixed alignment of nav buoys with custom stations; moved planetinfo overrides into the main script.\
\
v2.1 22/08/11		Added use of HoOpy Casino script where that OXP is present; fixed problem with missing dock at Raceedat station\
				Improved the Delaney set-piece to use hyperspace functions added in Oolite v1.75  \
\
v2.0.3 31/12/10		Further minor fixes\
\
v2.0.2 17/10/10		Additional fixes\
\
v2.0.1 27/09/10		Applied some minor corrections and bugfixes.\
\
v2.0 04/07/10		Full translation into javascript for compatibility with Oolite v1.74\
				Incorporated most of the additional ship models into the Trident Down OXP package; only Executive SpaceWays, Saleza Aeronautics and Commies are required as external dependencies.\
				Modified various elements to use improved script techniques\
\
v1.5	07/06/10		Improved dependencies with external OXPs, some fixes to mission text\
\
v1.4 30/10/09		Fixed problems with mission text, minor script errors and missing model issues\
\
v1.3	30/04/09		Fixed a bug with frag particles, which should stop them appearing randomly when not required\
\
v1.2	19/01/09		Fixed bugs which made some mission-specific ships/stations appear in other systems, and corrected some minor script errors\
\
v1.1	25/11/08		Minor fixes for compatibility with Oolite v1.72 and some redundant resources removed\
\
v1.0	24/06/08		Introduced compatibility with Oolite v1.71.2, minor fixes and general reliability improvements\
\
v0.6	04/03/08		Raised starting requirements from Competent to Dangerous, improved enemy AI, added some further mini-quests, and modified reward amounts to provide more balance\
\
v0.5	08/01/08		Various fixes to minor script errors, improved bomber and escort AI\
\
v0.4	29/09/07		Full release with all story threads completed\
\
v0.3	21/06/07		Corrected various bits and pieces in the plists, including some AI routines\
\
v0.2	19/06/07		Second version released with many more stages added\
\
v0.1	12/04/07		Initial version released\
\
}</pre>
        </a>

        <a name="equipment">          
        <h2>Equipment</h2>
            <table>
                <tr>
                    <th>Name</th>
                    <th>Visible</th>
                    <th>Cost [deci-credits]</th>
                    <th>Tech-Level</th>
                </tr>
                <tr>
                    <td><a href="../equipment/EQ_DISRUPTOR_MISSILE.html">**MVD CLASSIFIED**</a></td>
                    <td>yes</td>
                    <td align="right">0</td>
                    <td align="center">3+</td>
                </tr>
                <tr>
                    <td><a href="../equipment/EQ_ESWBEACON_MINE.html">**ESW SECURITY RESTRICTED**</a></td>
                    <td>yes</td>
                    <td align="right">0</td>
                    <td align="center">1+</td>
                </tr>
                <tr>
                    <td><a href="../equipment/EQ_MISSION_EMP_MINE.html">**ATU CLASSIFIED**</a></td>
                    <td>yes</td>
                    <td align="right">0</td>
                    <td align="center">3+</td>
                </tr>
                <tr>
                    <td><a href="../equipment/EQ_RADIO_MINE.html">**ATU CLASSIFIED**</a></td>
                    <td>yes</td>
                    <td align="right">0</td>
                    <td align="center">3+</td>
                </tr>
            </table>
        </a>

        <a name="ships">    
        <h2>Ships</h2>
            <table>
                <tr>
                    <th>Name</th>
                </tr>
                <tr>
                    <td><a href="../ships/ATU.html">ATU Viper MkII</a></td>
                </tr>
                <tr>
                    <td><a href="../ships/ATU-leader.html">ATU Viper MkII</a></td>
                </tr>
                <tr>
                    <td><a href="../ships/abandoned-escape-pod.html">Escape Capsule</a></td>
                </tr>
                <tr>
                    <td><a href="../ships/ambassador-pod.html">Escape Capsule</a></td>
                </tr>
                <tr>
                    <td><a href="../ships/ambassador-ship.html">Prisoner Transport DK-332</a></td>
                </tr>
                <tr>
                    <td><a href="../ships/batkov-shuttle.html">Yuri Batkov</a></td>
                </tr>
                <tr>
                    <td><a href="../ships/bb1_leafspike2.html">Thorn Prototype Shielding Component</a></td>
                </tr>
                <tr>
                    <td><a href="../ships/bb1_mainhull2.html">Thorn Prototype</a></td>
                </tr>
                <tr>
                    <td><a href="../ships/bellatrixturret.html">Ball Turret</a></td>
                </tr>
                <tr>
                    <td><a href="../ships/bigship_turret.html">Ball Turret</a></td>
                </tr>
                <tr>
                    <td><a href="../ships/bodarenko-ship.html">Colonel Bodarenko</a></td>
                </tr>
                <tr>
                    <td><a href="../ships/commstation.html">Communications Station</a></td>
                </tr>
                <tr>
                    <td><a href="../ships/delaney-ship.html">Timon Delaney</a></td>
                </tr>
                <tr>
                    <td><a href="../ships/disruptor-missile.html">Disruptor Missile</a></td>
                </tr>
                <tr>
                    <td><a href="../ships/dock.html">Docking Slit</a></td>
                </tr>
                <tr>
                    <td><a href="../ships/enemy-nuke-bomber.html">Bellatrix Cruiser</a></td>
                </tr>
                <tr>
                    <td><a href="../ships/ergeso-casino.html">CoachWhip hOopy Casino</a></td>
                </tr>
                <tr>
                    <td><a href="../ships/esw-assassin.html">Mussurana</a></td>
                </tr>
                <tr>
                    <td><a href="../ships/esw-beacon.html">ESW Beacon</a></td>
                </tr>
                <tr>
                    <td><a href="../ships/esw-gemini.html">Gemini Escort</a></td>
                </tr>
                <tr>
                    <td><a href="../ships/esw-leader.html">Strelka Cruiseliner</a></td>
                </tr>
                <tr>
                    <td><a href="../ships/exec-ad.html">exec-ad</a></td>
                </tr>
                <tr>
                    <td><a href="../ships/ezra-ad.html">ezra-ad</a></td>
                </tr>
                <tr>
                    <td><a href="../ships/ezra-ship.html">Ezra Athesdottir</a></td>
                </tr>
                <tr>
                    <td><a href="../ships/ezra-sidewinder.html">Flowers 4 You Escort</a></td>
                </tr>
                <tr>
                    <td><a href="../ships/flare.html">flare</a></td>
                </tr>
                <tr>
                    <td><a href="../ships/griff_buoy.html">Navigation Buoy</a></td>
                </tr>
                <tr>
                    <td><a href="../ships/griff_outpost_subents.html">Griff Outpost Subents</a></td>
                </tr>
                <tr>
                    <td><a href="../ships/griff_outpost_upper.html">Griff Outpost</a></td>
                </tr>
                <tr>
                    <td><a href="../ships/griff_station_bay.html">Docking Slit</a></td>
                </tr>
                <tr>
                    <td><a href="../ships/guardbot.html">Navy BattleBot MkII</a></td>
                </tr>
                <tr>
                    <td><a href="../ships/guarddrone.html">BattleBot Control Drone</a></td>
                </tr>
                <tr>
                    <td><a href="../ships/imperator.html">ISS Imperator</a></td>
                </tr>
                <tr>
                    <td><a href="../ships/imperator-dock.html">imperator-dock</a></td>
                </tr>
                <tr>
                    <td><a href="../ships/impturret.html">Ball Turret</a></td>
                </tr>
                <tr>
                    <td><a href="../ships/janes-ad.html">janes-ad</a></td>
                </tr>
                <tr>
                    <td><a href="../ships/jenssen-ship.html">Lars Jenssen</a></td>
                </tr>
                <tr>
                    <td><a href="../ships/korshkov-ad.html">korshkov-ad</a></td>
                </tr>
                <tr>
                    <td><a href="../ships/korshkov-station.html">Korshkov Test Facility</a></td>
                </tr>
                <tr>
                    <td><a href="../ships/machinery-cargo.html">Cargo container</a></td>
                </tr>
                <tr>
                    <td><a href="../ships/mineradar.html">Mine Sweeper Satellite Radar Dish</a></td>
                </tr>
                <tr>
                    <td><a href="../ships/minesweeper.html">Mine Sweeper Satellite</a></td>
                </tr>
                <tr>
                    <td><a href="../ships/mission-cascade-missile.html">Cascade Missile</a></td>
                </tr>
                <tr>
                    <td><a href="../ships/mission-emp-mine.html">EMP Mine</a></td>
                </tr>
                <tr>
                    <td><a href="../ships/mission-esw-beacon-launcher.html">ESW Beacon Launcher</a></td>
                </tr>
                <tr>
                    <td><a href="../ships/nuke-bomber.html">Bellatrix Leader</a></td>
                </tr>
                <tr>
                    <td><a href="../ships/playfair-ad.html">playfair-ad</a></td>
                </tr>
                <tr>
                    <td><a href="../ships/playfair-ad-alt.html">playfair-ad-alt</a></td>
                </tr>
                <tr>
                    <td><a href="../ships/playfair-ship.html">Benedict Playfair</a></td>
                </tr>
                <tr>
                    <td><a href="../ships/playfair-sidewinder.html">Sidewinder Playfair Escort</a></td>
                </tr>
                <tr>
                    <td><a href="../ships/raceedat-astromine.html">Raceedat Penal Colony</a></td>
                </tr>
                <tr>
                    <td><a href="../ships/raceedat-station.html">Raceedat Station</a></td>
                </tr>
                <tr>
                    <td><a href="../ships/radio-bomb.html">Radio Bomb</a></td>
                </tr>
                <tr>
                    <td><a href="../ships/saiph-escort.html">Saiph Interceptor</a></td>
                </tr>
                <tr>
                    <td><a href="../ships/sidewinder-casinodefender.html">Sidewinder Casino Security</a></td>
                </tr>
                <tr>
                    <td><a href="../ships/suslov-ship.html">Captain Suslov</a></td>
                </tr>
                <tr>
                    <td><a href="../ships/td-commantenna.html">Communications Station</a></td>
                </tr>
                <tr>
                    <td><a href="../ships/td-dish.html">Communications Station</a></td>
                </tr>
                <tr>
                    <td><a href="../ships/td-panels.html">Communications Station</a></td>
                </tr>
                <tr>
                    <td><a href="../ships/td-radars.html">Communications Station</a></td>
                </tr>
                <tr>
                    <td><a href="../ships/td-struts.html">Communications Station</a></td>
                </tr>
                <tr>
                    <td><a href="../ships/tourist-dock.html">Tourist Dock</a></td>
                </tr>
                <tr>
                    <td><a href="../ships/tourist-info.html">Tourist Information Centre</a></td>
                </tr>
                <tr>
                    <td><a href="../ships/transit-station.html">Transit Station</a></td>
                </tr>
                <tr>
                    <td><a href="../ships/transitpatrol-leader.html">Captain Suslov</a></td>
                </tr>
                <tr>
                    <td><a href="../ships/type-n-ad-buoy.html">Navigation Buoy</a></td>
                </tr>
                <tr>
                    <td><a href="../ships/yah-wpbuoy-type-a.html">Witchpoint Beacon</a></td>
                </tr>
            </table>
        </a>

        <a name="models">    
        <h2>Models</h2>
            This expansion declares no models. This may be related to warnings.
        </a>

        <a name="scripts">    
        <h2>Scripts</h2>
            <table>
                <tr>
                    <th>Path</th>
                </tr>
                <tr>
                    <td valign="top">Scripts/trident-down-EMP-commstation.js</td>
                    <td><pre>this.name = &quot;trident-down-EMP-commstation&quot;;
this.author = &quot;Ramirez&quot;;
this.copyright = &quot;January 2013&quot;;
this.description = &quot;Sets the mission variable when the EMP mine detonates near communications station&quot;;
this.version = &quot;2.0&quot;;

this.disableStation = function()
{if(system.shipsWithRole(&quot;commstation&quot;) != 0)
	{var commstation = system.shipsWithRole(&quot;commstation&quot;)[0]
	this.detonationDistance = commstation.position.distanceTo(this.ship.position)
	if(this.detonationDistance &lt; 5000)
	{commstation.setAI(&quot;commstationAI.plist&quot;)}
	}

}

this.sendMessage = function()
{player.commsMessage(&quot;Well done, Commander - that&#39;s the station disabled.  The ATU fleet will now proceed to Aarza - you should meet us there.&quot;, 10)
missionVariables.trident_down = &quot;COMMSTATIONDISABLED&quot;
mission.setInstructionsKey(&quot;trident_down_ATUrendezvous&quot;, &quot;trident_down&quot;)
}</pre></td>
                </tr>
                <tr>
                    <td valign="top">Scripts/trident-down-bellatrix.js</td>
                    <td><pre>this.name = &quot;trident-down-bellatrix&quot;;
this.author = &quot;Ramirez&quot;
this.copyright = &quot;January 2013&quot;
this.description = &quot;Actions for Bellatrix bomber&quot;
this.version = &quot;3.0&quot;;

this.launchMissile = function()

{this.ship.commsMessage(&quot;Target in range.  Releasing weapon.&quot;)
this.ship.spawn(&quot;MISSION_CASCADE_MISSILE&quot;,1)}

this.shipDied = function() 

{
  ++missionVariables.trident_down_bombercount
  if(missionVariables.trident_down_bombercount &gt; 4 )
  
  {
    if(missionVariables.trident_down == &quot;DEFENDRACEEDAT2&quot;)
      {player.commsMessage(&quot;Captain Suslov: Well done, Commander - we&#39;ve managed to repulse the attack!  Now we should destroy their flagship and stop this once and for all!&quot;)
      missionVariables.trident_down = &quot;ATTACKIMPERATOR&quot;
      missionVariables.trident_down_bombercount = null}     
  
  
  if(missionVariables.trident_down == &quot;DEFENDIMPERATORDEAD&quot;)
    {player.commsMessage(&quot;Captain Suslov: The enemy has been destroyed - we have saved the system! All units are cleared to return to base.&quot;)
    missionVariables.trident_down = &quot;DEFENDRACEEDATSUCCESS&quot;
    missionVariables.trident_down_bombercount = null}  
     
  if(missionVariables.trident_down == &quot;ESWBRIEFB&quot;)
    {player.commsMessage(&quot;Amon Ghal&#39;ut: Well done, Commander - we&#39;ve managed to neutralise the ATU attack!  You&#39;d better get yourself to safety while we sort things out.  We&#39;ll be in touch.&quot;)
    missionVariables.trident_down = &quot;INTERVENTIONSUCCESSFUL&quot;
    missionVariables.trident_down_bombercount = null
    missionVariables.trident_down_jumpcount = 0}
    
  }
}</pre></td>
                </tr>
                <tr>
                    <td valign="top">Scripts/trident-down-casino.js</td>
                    <td><pre>this.name = &quot;trident-down-casino.js&quot;;
this.author = &quot;Ramirez&quot;;
this.copyright = &quot;August 2011&quot;;
this.description = &quot;Script for Ergeso Casino&quot;;
this.version = &quot;1.0&quot;;

this.shipSpawned = function()
{
	if(system.countShipsWithRole(&quot;casinoship&quot;) &gt; 1)
	{
	//log(&#39;ship removed&#39;)
	this.ship.remove(true)}
}</pre></td>
                </tr>
                <tr>
                    <td valign="top">Scripts/trident-down-death-actions.js</td>
                    <td><pre>this.name = &quot;trident-down-death-actions&quot;;
this.author = &quot;Ramirez&quot;
this.copyright = &quot;April 2012&quot;
this.description = &quot;Script for various ship death actions not covered by other scripts&quot;
this.version = &quot;3.0&quot;;



this.shipDied = function() 

{	if(this.ship.primaryRole == &quot;ATU&quot; || this.ship.primaryRole == &quot;ATU-leader&quot;)
	this.ship.commsMessage(expandDescription(&quot;[ATU-death]&quot;))

	if(this.ship.primaryRole == &quot;batkov-shuttle&quot;)
	{this.ship.spawn(&quot;machinery-cargo&quot;, 3)
    	worldScripts.trident_down.startBatkovTimer()}
	
	if(this.ship.primaryRole == &quot;ezra-ship&quot;)
	{++missionVariables.trident_down_agent
	missionVariables.trident_down_ezra = &quot;DEAD&quot;}
	
	if(this.ship.primaryRole == &quot;jenssen-ship&quot;)
	{++missionVariables.trident_down_agent
	missionVariables.trident_down_jenssen = &quot;DEAD&quot;}
	
	if(this.ship.primaryRole == &quot;playfair-ship&quot;)
	{++missionVariables.trident_down_agent
	missionVariables.trident_down_playfair = &quot;DEAD&quot;}
	
	if(this.ship.primaryRole == &quot;ambassador-ship&quot;)
	this.ship.spawn(&quot;ambassador-pod&quot;, 1)
	
	if(this.ship.primaryRole == &quot;guarddrone&quot;)
	this.ship.spawn(&quot;guardbot&quot;, 1)
	
	if(this.ship.primaryRole == &quot;imperator&quot;)
	{	if(missionVariables.trident_down == &quot;DEFENDRACEEDAT2&quot;)
		{player.commsMessage(&quot;Captain Suslov: Well done - you&#39;ve destroyed the ATU&#39;s flagship.  But still have to stop the bombers!&quot;)
		missionVariables.trident_down = &quot;DEFENDIMPERATORDEAD&quot;}

		if(missionVariables.trident_down == &quot;ATTACKIMPERATOR&quot;)
		{player.commsMessage(&quot;The enemy has been destroyed - we have saved the system! All units are cleared to return to base.&quot;)
		missionVariables.trident_down = &quot;DEFENDRACEEDATSUCCESS&quot;}
	}
	
	if(this.ship.primaryRole == &quot;esw-assassin&quot;)
	{this.ship.spawn(&quot;energy-bomb&quot;, 1)
	missionVariables.trident_down = &quot;ESWASSASSINDEAD&quot;
	missionVariables.trident_down_jumpcount = 0}
	
	if(this.ship.primaryRole == &quot;suslov-ship&quot;)
	missionVariables.trident_down = &quot;SUSLOVDEAD&quot;
		
}

this.soundExplosion = function()

{var td_bomb = new SoundSource;
td_bomb.sound = &quot;td_bang.ogg&quot;;
td_bomb.loop = false;
td_bomb.play();}</pre></td>
                </tr>
                <tr>
                    <td valign="top">Scripts/trident-down-disruptor-delaney.js</td>
                    <td><pre>this.name = &quot;trident-down-disruptor-delaney&quot;;
this.author = &quot;Ramirez&quot;;
this.copyright = &quot;October 2011&quot;;
this.description = &quot;Ship script for the Disruptor missile set-piece&quot;;
this.version = &quot;2.0&quot;;

this.checkTarget = function() 
{ 
  if(this.ship.target.primaryRole == &quot;delaney-ship&quot;)
  {this.ship.target.scriptedMisjump = true;
  this.ship.target.exitSystem();}
}
  
this.shipDied = function()
{
  
  if(this.ship.primaryRole == &quot;delaney-ship&quot;)
  
  {	if(system.ID == -1)
	{this.ship.commsMessage(&quot;Nooooooo!&quot;)
	missionVariables.trident_down = &quot;DELANEYDEADSECRET&quot;
	}
	
	else
	{this.ship.commsMessage(&quot;You won&#39;t get away with this!&quot;)
	missionVariables.trident_down = &quot;DELANEYDEADOPEN&quot;
	}
	
	worldScripts[&quot;trident_down&quot;].resetJumpcount()
    mission.setInstructionsKey(&quot;trident_down_delaneydebrief&quot;, &quot;trident_down&quot;)
  }
}
</pre></td>
                </tr>
                <tr>
                    <td valign="top">Scripts/trident-down-eswbeacon.js</td>
                    <td><pre>this.name = &quot;trident-down-eswbeacon&quot;;
this.author = &quot;Ramirez&quot;;
this.copyright = &quot;January 2013&quot;;
this.description = &quot;Script actions relating to ESW beacon&quot;;
this.version = &quot;1.0&quot;;


this.shipSpawned = function()
{this.ship.commsMessage(&quot;Broadcasting coordinates...&quot;)}

this.addESWShips = function()
{this.ship.spawn(&quot;esw-leader&quot;, 1)
this.ship.spawn(&quot;esw-gemini&quot;, 4)
this.ship.remove();
}


</pre></td>
                </tr>
                <tr>
                    <td valign="top">Scripts/trident-down-raceedat-station.js</td>
                    <td><pre>this.name = &quot;trident-down-raceedat-station&quot;;
this.author = &quot;Ramirez&quot;
this.copyright = &quot;October 2010&quot;
this.description = &quot;Death actions for the main station in Raceedat&quot;
this.version = &quot;2.0&quot;;



this.shipDied = function() 

{
  if(missionVariables.trident_down == &quot;ASSAULTBRIEFB&quot;)
    {missionVariables.trident_down = &quot;ATUASSAULTSUCCESS&quot;
    missionVariables.trident_down_jumpcount = 0
    player.commsMessage(&quot;Commodore Delaney: Well done!  We&#39;ve destroyed Raceedat Station and the system is under our control.  Make your way to the Transit Station for debriefing.&quot;, 10)
    player.bounty = 0
    System.infoForSystem(3,135).station = &quot;transit-station&quot;
    }
  if(missionVariables.trident_down == &quot;DEFENDRACEEDAT2&quot; || missionVariables.trident_down == &quot;DEFENDIMPERATORDEAD&quot;)
    {missionVariables.trident_down = &quot;DEFENDRACEEDATFAILDEBRIEF&quot;
    player.commsMessage(&quot;Captain Suslov: We have lost the battle - Raceedat Station has been destroyed!  All units, evacuate immediately to Usisis!&quot;, 10)
    mission.setInstructionsKey(&quot;trident_down_evacuate&quot;, &quot;trident_down&quot;);
    System.infoForSystem(3,135).station = &quot;transit-station&quot;
    player.bounty = 0
    }
  if(missionVariables.trident_down == &quot;ESWBRIEFB&quot;)
    {missionVariables.trident_down = &quot;INTERVENTIONFAILED&quot;
    player.commsMessage(&quot;Amon Ghal&#39;ut: We were too late! Raceedat Station has been destroyed by the ATU!&quot;, 10)
    mission.setInstructionsKey(null, &quot;trident_down&quot;);
System.infoForSystem(3,135).station = &quot;transit-station&quot;
    player.bounty = 0
    }   
}</pre></td>
                </tr>
                <tr>
                    <td valign="top">Scripts/trident-down-radio-mine.js</td>
                    <td><pre>this.name = &quot;trident-down-radio-mine&quot;;
this.author = &quot;Ramirez&quot;;
this.copyright = &quot;January 2012&quot;;
this.description = &quot;Script actions relating to Bodarenko radio bomb quest&quot;;
this.version = &quot;2.1&quot;;

this.initiateCountdown = function()
{
  
if(missionVariables.trident_down == &quot;BODARENKOBOMBB&quot;)
  {if(system.countShipsWithRole(&quot;bodarenko-ship&quot;) == 0)
        {player.consoleMessage(&quot;Detonator out of range&quot;)
        this.ship.reactToAIMessage(&quot;NOTHING_FOUND&quot;)
        player.ship.awardEquipment(&quot;EQ_RADIO_MINE&quot;)}
        
  if(system.countShipsWithRole(&quot;bodarenko-ship&quot;) == 1)
        {this.ship.reactToAIMessage(&quot;TARGET_FOUND&quot;)
        worldScripts.trident_down.startCountdown()}
  }
  else
        {this.ship.reactToAIMessage(&quot;TARGET_FOUND&quot;)
        worldScripts.trident_down.startCountdown()}
  
}


</pre></td>
                </tr>
                <tr>
                    <td valign="top">Scripts/trident-down-scoop-actions.js</td>
                    <td><pre>this.name = &quot;trident-down-scoop-actions&quot;;
this.author = &quot;Ramirez&quot;
this.copyright = &quot;June 2010&quot;
this.description = &quot;Script for various scooping actions&quot;
this.version = &quot;1.0&quot;;



this.shipWasScooped = function(scooper) 

{	if(scooper.isPlayer)
	{	if(this.ship.primaryRole == &quot;machinery-cargo&quot;)
		missionVariables.trident_down = &quot;MACHINERYSCOOPEDA&quot;
		
		if(this.ship.primaryRole == &quot;abandoned-escape-pod&quot;)
		missionVariables.trident_down = &quot;ESCAPEPODSCOOPEDA&quot;
		
		if(this.ship.primaryRole == &quot;ambassador-pod&quot;)
		missionVariables.trident_down = &quot;ATURESCUESUCCESS&quot;
	}
}
</pre></td>
                </tr>
                <tr>
                    <td valign="top">Scripts/trident_down.js</td>
                    <td><pre>this.name = &quot;trident_down&quot;;
this.author = &quot;Ramirez&quot;;
this.copyright = &quot;December 2013&quot;;
this.description = &quot;Main script for Trident Down mission&quot;;
this.version = &quot;5.0&quot;;


this.startUp = function ()
{
    // search for presence of OXP dependencies
    if (!worldScripts[&quot;executivespaceways.js&quot;])
    {
        this.missing = &quot;Executive Spaceways&quot;;
    }
    if (!worldScripts[&quot;saleza.js&quot;])
    {
        if (this.missing) this.missing += &quot;, Saleza Aeronautics&quot;;
        else this.missing = &quot;Saleza Aeronautics&quot;;
    }
    if (!worldScripts[&quot;communist_population&quot;])
    {
        if (this.missing) this.missing += &quot;, Commies&quot;;
        else this.missing = &quot;Commies&quot;;
    }
    if (this.missing)
    {
        this.missing = &quot; The following OXP(s) are missing: &quot;+this.missing+&quot;. Please install them and restart Oolite. &quot;;
        this.missing += &quot;They are essentional for the correct functioning of the Trident Down mission.&quot;;
    }
	

if(!missionVariables.trident_down_planetinfo)
this.setPlanetInfo()
}

this.missionScreenOpportunity = function ()
{
    if(this.missing)
    {
        mission.runScreen({title: &quot;Trident Down&quot;, message: this.missing, background: &quot;whexeclogo.png&quot;});
        delete this.missing;
    }
	
	if(player.ship.docked) this.missionScreens();
}



this.resetJumpcount = function()
{missionVariables.trident_down_jumpcount = 0}

this.missionScreens = function()

{
  if(guiScreen == &quot;GUI_SCREEN_MISSION&quot; || !player.ship.docked) return;

  if(galaxyNumber == 3 &amp;&amp; player.ship.dockedStation.isMainStation)
  
    {   if(missionVariables.trident_down == null &amp;&amp; player.score &gt; 511)
  
            {   mission.runScreen({messageKey: &quot;trident_down_newswire1A&quot;, choicesKey: &quot;trident_down_cont&quot;, background: &quot;iNews.png&quot;},
				function(choice)
				{if(choice == 1)
			    {mission.runScreen({messageKey: &quot;trident_down_newswire1B&quot;, background: &quot;iNews.png&quot;});
			    missionVariables.trident_down = &quot;NEWSWIRE1B&quot;
                this.resetJumpcount()}
                    });			
            }			
	
        if(missionVariables.trident_down == &quot;NEWSWIRE1B&quot; &amp;&amp; missionVariables.trident_down_jumpcount &gt; 3)
	    {   mission.runScreen({messageKey: &quot;trident_down_newswire2&quot;, background: &quot;iNews.png&quot;});
			missionVariables.trident_down = &quot;NEWSWIRE2&quot;
			this.resetJumpcount()}
	 
		if(missionVariables.trident_down == &quot;NEWSWIRE2&quot; &amp;&amp; missionVariables.trident_down_jumpcount &gt; 3)
	    {   mission.runScreen({messageKey: &quot;trident_down_request&quot;, background: &quot;whexeclogo.png&quot;});
			missionVariables.trident_down = &quot;REQUEST&quot;
			this.resetJumpcount()
	    }
	 
		if(missionVariables.trident_down == &quot;DOINGNOTHING1&quot; &amp;&amp; missionVariables.trident_down_jumpcount &gt; 8)
	    {   mission.runScreen({messageKey: &quot;trident_down_raceedatcoup&quot;, background: &quot;iNews.png&quot;});
			missionVariables.trident_down = &quot;DOINGNOTHING2&quot;
			this.resetJumpcount()}
			
		if(missionVariables.trident_down == &quot;DOINGNOTHING2&quot; &amp;&amp; missionVariables.trident_down_jumpcount &gt; 6)
	    {   mission.runScreen({messageKey: &quot;trident_down_raceedatterror&quot;, background: &quot;iNews.png&quot;});
			missionVariables.trident_down = &quot;DOINGNOTHING3&quot;
			this.resetJumpcount()}
			
		if(missionVariables.trident_down == &quot;DOINGNOTHING3&quot; &amp;&amp; missionVariables.trident_down_jumpcount &gt; 7)
	    {   mission.runScreen({messageKey: &quot;trident_down_raceedattakeover1&quot;, background: &quot;iNews.png&quot;});
			missionVariables.trident_down = &quot;DOINGNOTHING4&quot;
			this.resetJumpcount()}
			
		if(missionVariables.trident_down == &quot;DOINGNOTHING4&quot; &amp;&amp; missionVariables.trident_down_jumpcount &gt; 3)
	    {   mission.runScreen({messageKey: &quot;trident_down_raceedattakeover2&quot;, background: &quot;bianti.png&quot;});
			missionVariables.trident_down = &quot;DOINGNOTHING5&quot;
			System.infoForSystem(3,135).description = &quot;Raceedat is currently under the protection of the ATU and has elected Timon Delaney as its new President.  Pilots are advised that previous entry restrictions to the system have now been lifted.&quot;
			System.infoForSystem(3,135).station = &quot;coriolis&quot;
			System.infoForSystem(3,135).government = 6
			this.resetJumpcount()}
			
		if(missionVariables.trident_down == &quot;DOINGNOTHING5&quot; &amp;&amp; missionVariables.trident_down_jumpcount &gt; 3)
	    {   mission.runScreen({messageKey: &quot;trident_down_raceedattakeover3alt&quot;});
			player.credits += 10000
			missionVariables.trident_down = &quot;DOINGNOTHING6&quot;
			this.resetJumpcount()}
			
		if(missionVariables.trident_down == &quot;DOINGNOTHING6&quot; &amp;&amp; missionVariables.trident_down_jumpcount &gt; 7)
	    {   mission.runScreen({messageKey: &quot;trident_down_commthreat&quot;});
			missionVariables.trident_down = &quot;COMMTHREAT&quot;
			mission.setInstructionsKey(&quot;trident_down_suslov&quot;)}	
			
		if(missionVariables.trident_down == &quot;SUSLOVESCAPE&quot; &amp;&amp; missionVariables.trident_down_jumpcount &gt; 3)
	    {   mission.runScreen({messageKey: &quot;trident_down_eswscandal&quot;, background: &quot;bianti.png&quot;});
			missionVariables.trident_down = &quot;ESWSCANDAL1&quot;
			mission.setInstructionsKey(null)
			this.resetJumpcount()}
	
	    if(missionVariables.trident_down == &quot;ESWSCANDAL1&quot; &amp;&amp; missionVariables.trident_down_jumpcount &gt; 3)
		{   mission.runScreen({messageKey: &quot;trident_down_eswcollapse&quot;, choicesKey: &quot;trident_down_cont&quot;, background: &quot;iNews.png&quot;},
				function(choice)
				{if(choice == 1)
			    {mission.runScreen({messageKey: &quot;trident_down_completed&quot;});
			    missionVariables.trident_down = &quot;COMPLETED_ESWCOLLAPSE&quot;
				missionVariables.trident_down_completed = &quot;TRUE&quot;
                this.resetJumpcount()}
                });			
            }
			
		if(missionVariables.trident_down == &quot;SUSLOVDEAD&quot;)
		{   mission.runScreen({messageKey: &quot;trident_down_suslovdead&quot;, choicesKey: &quot;trident_down_cont&quot;},
				function(choice)
				{if(choice == 1)
			    {mission.runScreen({messageKey: &quot;trident_down_completed&quot;});
			    missionVariables.trident_down = &quot;COMPLETED_ESWSAVED&quot;
				player.credits += 150000
				mission.setInstructionsKey(null)
                this.resetJumpcount()
				missionVariables.trident_down_completed = &quot;TRUE&quot;}
                });			
            }	
	 
		if(missionVariables.trident_down == &quot;RACEEDAT1B&quot; &amp;&amp; missionVariables.trident_down_jumpcount &gt; 0)
	    
	    {   if(system.ID == 197 || system.ID == 85 || system.ID == 118)
                {mission.runScreen({messageKey: &quot;trident_down_search_fail&quot;})
		this.resetJumpcount()}
                
                if(system.ID == 132 || system.ID == 223 || system.ID == 244)
                {mission.runScreen({messageKey: &quot;trident_down_search_fail_comm&quot;})
		this.resetJumpcount()}

                
                if(system.ID == 195)
                {mission.runScreen({messageKey: &quot;trident_down_search_fail_anarchy&quot;})
		this.resetJumpcount()}

                
                if(system.ID == 187)
                {mission.runScreen({messageKey: &quot;trident_down_leenor&quot;});
                missionVariables.trident_down = &quot;LEENOR1&quot;
		mission.setInstructionsKey(&quot;trident_down_search2&quot;)
                this.resetJumpcount()} // used to trigger an in-space communication
        }
            
        if(missionVariables.trident_down == &quot;LEENOR2&quot;) //this should be a main Galcop station
                {mission.runScreen({messageKey: &quot;trident_down_leenor2&quot;, background: &quot;ATU.png&quot;});
                missionVariables.trident_down = &quot;LEENOR3&quot;
                this.resetJumpcount()} 
            
        if(missionVariables.trident_down == &quot;LEENOR3&quot; &amp;&amp; missionVariables.trident_down_jumpcount &gt; 3)
                {mission.runScreen({messageKey: &quot;trident_down_newswire3&quot;, background: &quot;bianti.png&quot;});
                missionVariables.trident_down = &quot;LEENOR4&quot;
                this.resetJumpcount()} 
            
        if(missionVariables.trident_down == &quot;LEENOR5&quot;)
            {   missionVariables.trident_down = &quot;LEENOR6&quot;
				mission.runScreen(				  		  
                {messageKey: &quot;trident_down_execupdate1a&quot;, choicesKey: &quot;trident_down_cont&quot;},
			function(choice)
		    {	if(choice == 1)	
			    {mission.runScreen({messageKey: &quot;trident_down_execupdate1b&quot;});
			    missionVariables.trident_down = &quot;LEENOR7&quot;}
		    });
	    }
		
		
		if(missionVariables.trident_down == &quot;ESCAPEPODSCOOPEDA&quot;)
        {mission.runScreen({messageKey: &quot;trident_down_scoopeda&quot;, background: &quot;td-manifest.png&quot;, choicesKey: &quot;trident_down_cont&quot;},
		function(choice)
		    {
			if(choice == 1)
				
			    {mission.runScreen({messageKey: &quot;trident_down_scoopedb&quot;});
			    missionVariables.trident_down = &quot;DICEBE1&quot;
                player.credits += 20000
                mission.setInstructionsKey(&quot;trident_down_search6&quot;)
                this.resetJumpcount()}
		    });
	    }
            
        if(missionVariables.trident_down == &quot;DICEBE2&quot;)
                    {mission.runScreen({messageKey: &quot;trident_down_execupdate2&quot;});
                    missionVariables.trident_down = &quot;DICEBE3&quot;
                    this.resetJumpcount()
                    }
					
		if(missionVariables.trident_down == &quot;ASSAULTAFTERMATH1&quot; &amp;&amp; missionVariables.trident_down_jumpcount &gt; 4)
                    {mission.runScreen({messageKey: &quot;trident_down_raceedatcoupalt&quot;, background: &quot;bianti.png&quot;});
                    missionVariables.trident_down = &quot;ASSAULTAFTERMATH2&quot;
                    this.resetJumpcount()
					System.infoForSystem(3,135).description = &quot;Raceedat is currently subject to a security lockdown maintained by order of the ATU.  Only vessels with appropriate authorisation are permitted to enter the system.&quot;
                    }
					
		if(missionVariables.trident_down == &quot;ASSAULTAFTERMATH2&quot; &amp;&amp; missionVariables.trident_down_jumpcount &gt; 6)
                    {mission.runScreen({messageKey: &quot;trident_down_raceedattakeover1alt&quot;, background: &quot;iNews.png&quot;});
                    missionVariables.trident_down = &quot;ASSAULTAFTERMATH3&quot;
                    this.resetJumpcount()
					System.infoForSystem(3,135).description = &quot;Raceedat is currently being held under the control of the ATU.  Pilots are advised that Raceedat&#39;s Coriolis Station remains out of action, and should request docking instructions from the Orbital Transit Station run by the Agricultural Engineering Enterprise.&quot;
                    }
					
		if(missionVariables.trident_down == &quot;BODARENKODEAD&quot; &amp;&amp; missionVariables.trident_down_jumpcount &gt; 4)
                    {mission.runScreen({messageKey: &quot;trident_down_bodarenkonews&quot;, background: &quot;bianti.png&quot;});
                    missionVariables.trident_down = &quot;BODARENKONEWS&quot;
                    this.resetJumpcount()
                    }
					
		if(missionVariables.trident_down == &quot;BODARENKONEWS&quot; &amp;&amp; missionVariables.trident_down_jumpcount &gt; 7)
                    {mission.runScreen({messageKey: &quot;trident_down_raceedattakeover2&quot;, background: &quot;bianti.png&quot;});
                    missionVariables.trident_down = &quot;BODARENKODEBRIEFA&quot;
					System.infoForSystem(3,135).description = &quot;Raceedat is currently under the protection of the ATU and has elected Timon Delaney as its new President.  Pilots are advised that Raceedat Station has now returned to operation and previous entry restrictions to the system have now been lifted.&quot;
					System.infoForSystem(3,135).station = &quot;coriolis&quot;
					System.infoForSystem(3,135).government = 6
					this.resetJumpcount()}
		
		if(missionVariables.trident_down == &quot;BODARENKODEBRIEFB&quot; &amp;&amp; missionVariables.trident_down_jumpcount &gt; 8)
            {mission.runScreen({messageKey: &quot;trident_down_newworldnews&quot;, background: &quot;iNews.png&quot;});
            missionVariables.trident_down = &quot;BODARENKODEBRIEFC&quot;
			System.infoForSystem(3,135).description = &quot;Raceedat has recently been officially reclassified as an Industrial Dictatorship.  Visitors should be aware of the local laws and trading regulations before entering this system.&quot;
			System.infoForSystem(3,135).government = 3
			this.resetJumpcount()}
					
		if(missionVariables.trident_down == &quot;BODARENKODEBRIEFC&quot; &amp;&amp; missionVariables.trident_down_jumpcount &gt; 6)
            {mission.runScreen({messageKey: &quot;trident_down_eswthreat&quot;, background: &quot;whexeclogo.png&quot;});
            missionVariables.trident_down = &quot;BODARENKODEBRIEFD&quot;
			this.resetJumpcount()}
					
		if(missionVariables.trident_down == &quot;ESWASSASSINDEAD&quot;)
            {mission.runScreen({messageKey: &quot;trident_down_delaneymessage&quot;});
            missionVariables.trident_down = &quot;HEYSELTHREAT&quot;
			this.resetJumpcount()}
		
		if(missionVariables.trident_down == &quot;HEYSELTHREAT&quot; &amp;&amp; missionVariables.trident_down_jumpcount &gt; 5)
            {mission.runScreen({messageKey: &quot;trident_down_heyseldeath&quot;, background: &quot;iNews.png&quot;, choicesKey: &quot;trident_down_cont&quot;},
			function(choice)
				{
					if(choice == 1)
					{mission.runScreen({messageKey: &quot;trident_down_completed&quot;});
					missionVariables.trident_down = &quot;ATUHERO&quot;        
                    this.resetJumpcount()
					mission.setInstructionsKey(null)
					missionVariables.trident_down_completed = &quot;TRUE&quot;}
					});				   
				}
		if(missionVariables.trident_down == &quot;RACEEDATCHOICEREFUSE&quot; &amp;&amp; missionVariables.trident_down_jumpcount &gt; 6)
				{mission.runScreen({messageKey: &quot;trident_down_raceedatcoup&quot;, background: &quot;iNews.png&quot;});
                 missionVariables.trident_down = &quot;RACEEDATCOUP&quot;
				this.resetJumpcount()}
				
		if(missionVariables.trident_down == &quot;RACEEDATCOUP&quot; &amp;&amp; missionVariables.trident_down_jumpcount &gt; 5)
				{mission.runScreen({messageKey: &quot;trident_down_raceedatterror&quot;, background: &quot;bianti.png&quot;});
                missionVariables.trident_down = &quot;RACEEDATTAKEOVER1&quot;
				this.resetJumpcount()}
				
		if(missionVariables.trident_down == &quot;RACEEDATTAKEOVER1&quot; &amp;&amp; missionVariables.trident_down_jumpcount &gt; 4)
				{mission.runScreen({messageKey: &quot;trident_down_raceedattakeover1&quot;, background: &quot;iNews.png&quot;});
                 missionVariables.trident_down = &quot;RACEEDATTAKEOVER2&quot;
				this.resetJumpcount()}
				
		if(missionVariables.trident_down == &quot;RACEEDATTAKEOVER2&quot; &amp;&amp; missionVariables.trident_down_jumpcount &gt; 5)
				{mission.runScreen({messageKey: &quot;trident_down_raceedattakeover2&quot;, background: &quot;bianti.png&quot;});
                 missionVariables.trident_down = &quot;RACEEDATTAKEOVER3&quot;
				this.resetJumpcount()
				System.infoForSystem(3,135).description = &quot;Raceedat is currently under the protection of the ATU and has elected Timon Delaney as its new President.  Pilots are advised that Raceedat Station has now returned to operation and previous entry restrictions to the system have now been lifted.&quot;
				System.infoForSystem(3,135).station = &quot;coriolis&quot;
				System.infoForSystem(3,135).government = 6}
				
		if(missionVariables.trident_down == &quot;RACEEDATTAKEOVER3&quot; &amp;&amp; missionVariables.trident_down_jumpcount &gt; 5)
				{mission.runScreen({messageKey: &quot;trident_down_raceedattakeover3&quot;, background: &quot;whexeclogo.png&quot;, choicesKey: &quot;trident_down_cont&quot;},function(choice)
				{
					if(choice == 1)
					{mission.runScreen({messageKey: &quot;trident_down_completed&quot;});
					missionVariables.trident_down = &quot;COMPLETED_COMMFAILURE&quot;        
                    this.resetJumpcount()
					mission.setInstructionsKey(null)
					missionVariables.trident_down_completed = &quot;TRUE&quot;}
					});				   
				}
                
		if(missionVariables.trident_down == &quot;CRACKDOWN1&quot; &amp;&amp; missionVariables.trident_down_jumpcount &gt; 1)
				{mission.runScreen({messageKey: &quot;trident_down_crackdown1&quot;, background: &quot;iNews.png&quot;});
                 missionVariables.trident_down = &quot;CRACKDOWN2&quot;
				this.resetJumpcount()}		
				
		if(missionVariables.trident_down == &quot;CRACKDOWN2&quot; &amp;&amp; missionVariables.trident_down_jumpcount &gt; 5)
				{mission.runScreen({messageKey: &quot;trident_down_crackdown2&quot;, background: &quot;iNews.png&quot;});
                missionVariables.trident_down = &quot;CRACKDOWN3&quot;
				this.resetJumpcount()}
				
		if(missionVariables.trident_down == &quot;DELANEYOFFERREJECT1&quot; &amp;&amp; missionVariables.trident_down_jumpcount &gt; 6)
				{mission.runScreen({messageKey: &quot;trident_down_delaneydeadalternate&quot;, background: &quot;iNews.png&quot;});
                missionVariables.trident_down = &quot;DELANEYOFFERREJECT2&quot;
				this.resetJumpcount()}
		
		if(missionVariables.trident_down == &quot;DELANEYOFFERREJECT2&quot; &amp;&amp; missionVariables.trident_down_jumpcount &gt; 3)
				{mission.runScreen({messageKey: &quot;trident_down_bodarenkoplea&quot;, choicesKey: &quot;trident_down_bodarenkopleachoice&quot;}, function(choice)			  
					{
					if(choice == 1)
					{mission.runScreen({messageKey: &quot;trident_down_bodarenkopleaaccept&quot;});
					missionVariables.trident_down = &quot;DEFENDRACEEDAT1&quot;        
                    this.resetJumpcount()
					mission.setInstructionsKey(&quot;trident_down_defendraceedat&quot;)}
					
					if(choice == 2)
					{mission.runScreen({messageKey: &quot;trident_down_bodarenkopleareject&quot;});
					missionVariables.trident_down = &quot;DELANEYOFFERREJECT4&quot;
					mission.setInstructionsKey(null)
                    this.resetJumpcount()}
					});
				
				}
		
		if(missionVariables.trident_down == &quot;DELANEYOFFERREJECT4&quot; &amp;&amp; missionVariables.trident_down_jumpcount &gt; 6)
				{mission.runScreen({messageKey: &quot;trident_down_raceedatdefeated&quot;, background: &quot;iNews.png&quot;});
                missionVariables.trident_down = &quot;DELANEYOFFERREJECT5&quot;
				this.resetJumpcount()
				System.infoForSystem(3,135).description = &quot;Raceedat is currently being held under the protection of the ATU.&quot;
				System.infoForSystem(3,135).government = 6
				}
				
		if(missionVariables.trident_down == &quot;DELANEYOFFERREJECT5&quot; &amp;&amp; missionVariables.trident_down_jumpcount &gt; 5)
				{mission.runScreen({messageKey: &quot;trident_down_raceedatdefeatedeswdebrief&quot;, choicesKey: &quot;trident_down_cont&quot;}, function(choice)
					{
					if(choice == 1)
					{mission.runScreen({messageKey: &quot;trident_down_completed&quot;});
					missionVariables.trident_down = &quot;COMPLETED_COMMABANDON&quot;        
                    this.resetJumpcount()
					mission.setInstructionsKey(null)
					missionVariables.trident_down_completed = &quot;TRUE&quot;}			   
					});
                }		
		
		if(missionVariables.trident_down == &quot;DELANEYDEADOPEN&quot; &amp;&amp; missionVariables.trident_down_jumpcount &gt; 2)
				{mission.runScreen({messageKey: &quot;trident_down_delaneydeadopennews&quot;, background: &quot;iNews.png&quot;});
                missionVariables.trident_down = &quot;DELANEYFAILDEBRIEF&quot;}
				
		if(missionVariables.trident_down == &quot;DELANEYDEADSECRET&quot; &amp;&amp; missionVariables.trident_down_jumpcount &gt; 2)
				{mission.runScreen({messageKey: &quot;trident_down_delaneydeadsecretnews&quot;, background: &quot;iNews.png&quot;});
                missionVariables.trident_down = &quot;DELANEYSUCCESSDEBRIEFA&quot;}		
		
		if(missionVariables.trident_down == &quot;DEFENDRACEEDATSUCCESSNEWS1&quot; &amp;&amp; missionVariables.trident_down_jumpcount &gt; 4)
				{mission.runScreen({messageKey: &quot;trident_down_defendraceedatsuccessnews1&quot;, background: &quot;bianti.png&quot;});
                missionVariables.trident_down = &quot;DEFENDRACEEDATSUCCESSNEWS2&quot;
				this.resetJumpcount()}
		
		if(missionVariables.trident_down == &quot;DEFENDRACEEDATSUCCESSNEWS2&quot; &amp;&amp; missionVariables.trident_down_jumpcount &gt; 6)
				{mission.runScreen({messageKey: &quot;trident_down_defendraceedatsuccessnews2&quot;, background: &quot;newswire.png&quot;});
                missionVariables.trident_down = &quot;DEFENDRACEEDATSUCCESSNEWS3&quot;
				System.infoForSystem(3,197).description = &quot;Dicebe is administered by a Communist government with close trade and defence ties with its neighbour, Raceedat.  Together they represent two of the most advanced Communist systems in the galaxy.&quot;
				System.infoForSystem(3,197).government = 4
				this.resetJumpcount()}
				
		if(missionVariables.trident_down == &quot;DEFENDRACEEDATSUCCESSNEWS3&quot; &amp;&amp; missionVariables.trident_down_jumpcount &gt; 6)
				{mission.runScreen({messageKey: &quot;trident_down_defendraceedatsuccessnews1&quot;, background: &quot;bianti.png&quot;});
                missionVariables.trident_down = &quot;DEFENDRACEEDATSUCCESSDEBRIEF1&quot;
				this.resetJumpcount()}
		
		if(missionVariables.trident_down == &quot;DEFENDRACEEDATSUCCESSESWDEBRIEFA&quot; &amp;&amp; missionVariables.trident_down_jumpcount &gt; 6)
				{mission.runScreen({messageKey: &quot;trident_down_defendraceedatsuccesseswdebriefa&quot;, choicesKey: &quot;trident_down_cont&quot;}, function(choice)
                    {
                    if(choice == 1)
                    mission.runScreen({messageKey: &quot;trident_down_defendraceedatsuccesseswdebriefb&quot;, choicesKey: &quot;trident_down_cont&quot;},
                                          
                        function(choice)                             
                        {   if(choice == 1)
                            {mission.runScreen({messageKey: &quot;trident_down_completed&quot;});			
							missionVariables.trident_down = &quot;COMPLETED_COMMHERO&quot;
							mission.setInstructionsKey(null)
							player.credits += 20000
							missionVariables.trident_down_completed = &quot;TRUE&quot;}	
                        });
                    }); 
			}
			
		if(missionVariables.trident_down == &quot;DEFENDRACEEDATFAILNEWS&quot; &amp;&amp; missionVariables.trident_down_jumpcount &gt; 4)
				{mission.runScreen({messageKey: &quot;trident_down_raceedatdefeated&quot;, background: &quot;iNews.png&quot;});
                missionVariables.trident_down = &quot;DEFENDRACEEDATFAILESWDEBRIEFALT&quot;
				System.infoForSystem(3,135).government = 6
				this.resetJumpcount()}
				
				
				
				
		if(missionVariables.trident_down == &quot;DEFENDRACEEDATFAILESWDEBRIEFALT&quot; &amp;&amp; missionVariables.trident_down_jumpcount &gt; 2)
				{mission.runScreen({messageKey: &quot;trident_down_defendraceedatfaileswdebriefalt&quot;, background: &quot;iNews.png&quot;});
                missionVariables.trident_down = &quot;DEFENDRACEEDATFAILESWDEBRIEFALT2&quot;
				player.credits += 60000
				this.resetJumpcount()}
			
		if(missionVariables.trident_down == &quot;DEFENDRACEEDATFAILISANLAC&quot; &amp;&amp; missionVariables.trident_down_jumpcount &gt; 5)
				{mission.runScreen({messageKey: &quot;trident_down_bodarenkonews&quot;, background: &quot;bianti.png&quot;, choicesKey: &quot;trident_down_cont&quot;},
					 function(choice)                             
                        {   if(choice == 1)
                            {mission.runScreen({messageKey: &quot;trident_down_completed&quot;});			
							missionVariables.trident_down = &quot;COMPLETED_COMMCOURAGE&quot;
							System.infoForSystem(3,135).description = &quot;Raceedat is currently being held under the control of the ATU.  Pilots are advised that Raceedat Station has now returned to operation and previous entry restrictions to the system have now been lifted.&quot;
				System.infoForSystem(3,135).station = &quot;coriolis&quot;
							mission.setInstructionsKey(null)
							missionVariables.trident_down_completed = &quot;TRUE&quot;}		
                        }); 
				}	
				
		
		
		if(missionVariables.trident_down == &quot;BIANTICOMMSTORYDELIVERED&quot; &amp;&amp; missionVariables.trident_down_jumpcount &gt; 4)
		{mission.runScreen({messageKey: &quot;trident_down_bianticommstorybreak1&quot;, background: &quot;bianti.png&quot;});
		missionVariables.trident_down = &quot;BIANTICOMMSTORYBREAK1&quot;
		this.resetJumpcount()}
		
		if(missionVariables.trident_down == &quot;BIANTICOMMSTORYBREAK1&quot; &amp;&amp; missionVariables.trident_down_jumpcount &gt; 4)
		{mission.runScreen({messageKey: &quot;trident_down_bianticommstorybreak2&quot;, background: &quot;iNews.png&quot;});
		missionVariables.trident_down = &quot;BIANTICOMMSTORYBREAK2&quot;
		this.resetJumpcount()}
		
		if(missionVariables.trident_down == &quot;BIANTICOMMSTORYBREAK2&quot; &amp;&amp; missionVariables.trident_down_jumpcount &gt; 4)
		{mission.runScreen({messageKey: &quot;trident_down_bianticommstorybreak3&quot;, background: &quot;bianti.png&quot;});
		missionVariables.trident_down = &quot;BIANTICOMMSTORYBREAK3&quot;
		this.resetJumpcount()}
		
		if(missionVariables.trident_down == &quot;BIANTICOMMSTORYBREAK3&quot; &amp;&amp; missionVariables.trident_down_jumpcount &gt; 5)
		{mission.runScreen({messageKey: &quot;trident_down_bianticommstorybreak4A&quot;, choicesKey: &quot;trident_down_cont&quot;},
					 function(choice)                             
                        {   if(choice == 1)
                            {mission.runScreen({messageKey: &quot;trident_down_bianticommstorybreak4B&quot;});			
							missionVariables.trident_down = &quot;BIANTICOMMSTORYBREAK4B&quot;
							player.credits += 200000
							mission.setInstructionsKey(null)
							this.resetJumpcount()}		
                        }); 
				}
				
		if(missionVariables.trident_down_rumours == 3 &amp;&amp; missionVariables.trident_down_jumpcount &gt; 2)
		{mission.runScreen({messageKey: &quot;trident_down_gotobianti&quot;});
		missionVariables.trident_down = &quot;BIANTIESWSTORY&quot;
		mission.setInstructionsKey(&quot;trident_down_bianti&quot;)
		this.resetJumpcount()
		missionVariables.trident_down_rumours = null
		missionVariables.trident_down_leenor = null
		missionVariables.trident_down_lequteor = null
		missionVariables.trident_down_leisera = null}		
		
		if(missionVariables.trident_down == &quot;BIANTIESWSTORYBREAK1&quot; &amp;&amp; missionVariables.trident_down_jumpcount &gt; 5)
		{mission.runScreen({messageKey: &quot;trident_down_biantieswstorybreak1&quot;, background: &quot;bianti.png&quot;});
		missionVariables.trident_down = &quot;BIANTIESWSTORYBREAK2&quot;
		this.resetJumpcount()
		}
		
		if(missionVariables.trident_down == &quot;BIANTIESWSTORYBREAK2&quot; &amp;&amp; missionVariables.trident_down_jumpcount &gt; 5)
		{mission.runScreen({messageKey: &quot;trident_down_biantieswstorybreak2&quot;, background: &quot;iNews.png&quot;});
		missionVariables.trident_down = &quot;BIANTIESWSTORYBREAK3&quot;
		this.resetJumpcount()
		}
		
		if(missionVariables.trident_down == &quot;BIANTIESWSTORYBREAK3&quot; &amp;&amp; missionVariables.trident_down_jumpcount &gt; 6)
		{mission.runScreen({messageKey: &quot;trident_down_eswbriefA&quot;, choicesKey: &quot;trident_down_cont&quot;},
					 function(choice)                             
                        {   if(choice == 1)
                            {mission.runScreen({messageKey: &quot;trident_down_eswbriefB&quot;});			
							missionVariables.trident_down = &quot;ESWBRIEFB&quot;
							mission.setInstructionsKey(&quot;trident_down_raceedatsquadron&quot;)
							this.resetJumpcount()
							missionVariables.trident_down_bombercount = 0}		
                        }); 
				
		}
		
		if(missionVariables.trident_down == &quot;INTERVENTIONSUCCESSFUL&quot; &amp;&amp; missionVariables.trident_down_jumpcount &gt; 6)
		{mission.runScreen({messageKey: &quot;trident_down_interventionsuccess&quot;, background: &quot;iNews.png&quot;});
		missionVariables.trident_down = &quot;INTERVENTIONDEBRIEF&quot;
		this.resetJumpcount()
		mission.setInstructionsKey(null)
		}
		
		if(missionVariables.trident_down == &quot;INTERVENTIONDEBRIEF&quot; &amp;&amp; missionVariables.trident_down_jumpcount &gt; 7)
		{mission.runScreen({messageKey: &quot;trident_down_interventiondebrief&quot;});
		missionVariables.trident_down = &quot;INTERVENTIONAWARDA&quot;
		mission.setInstructionsKey(&quot;trident_down_lavebe&quot;)
		this.resetJumpcount()
		}
			
		//end of general area events; the rest are location-specific
		   
		if(system.government == 4)
		{	if(missionVariables.trident_down == &quot;CRACKDOWN4&quot;)
            {mission.runScreen({messageKey: &quot;trident_down_delaneyoffer&quot;, background: &quot;sovcoat.png&quot;, choicesKey: &quot;trident_down_delaneyofferchoice&quot;},
			function(choice)
				{
					if(choice == 1)
					mission.runScreen({messageKey: &quot;trident_down_delaneyofferacceptA&quot;, background: &quot;sovcoat.png&quot;, choicesKey: &quot;trident_down_cont&quot;},
							function(choice)
							{if(choice == 1)
							mission.runScreen({messageKey: &quot;trident_down_delaneyofferacceptB&quot;, background: &quot;sovcoat.png&quot;, choicesKey: &quot;trident_down_cont&quot;},
								function(choice)
								{if(choice == 1)
								mission.runScreen({messageKey: &quot;trident_down_delaneyofferacceptC&quot;, background: &quot;sovcoat.png&quot;, choicesKey: &quot;trident_down_cont&quot;},
									function(choice)
									{if(choice == 1)
										{mission.runScreen({messageKey: &quot;trident_down_delaneyofferacceptD&quot;, background: &quot;sovcoat.png&quot;});			  
										missionVariables.trident_down = &quot;DELANEYOFFERACCEPTD&quot;
										mission.setInstructionsKey(&quot;trident_down_delaneylaquused&quot;)}	  
										});
								
								});		
							});
					
					
			
					if(choice == 2)
					{mission.runScreen({messageKey: &quot;trident_down_delaneyofferreject&quot;, background: &quot;sovcoat.png&quot;});
					missionVariables.trident_down = &quot;DELANEYOFFERREJECT1&quot;        
                    this.resetJumpcount()
					mission.setInstructionsKey(&quot;trident_down_waitforinfo&quot;)}
				});
					
				}
				
			
			if(missionVariables.trident_down == &quot;BIANTICOMMSTORYBREAK5&quot;)
            {mission.runScreen({messageKey: &quot;trident_down_bianticommstorybreak5A&quot;, background: &quot;sovcoat.png&quot;, choicesKey: &quot;trident_down_cont&quot;},
			function(choice)
				{
					if(choice == 1)
					mission.runScreen({messageKey: &quot;trident_down_friendshipmedal&quot;, background: &quot;friendshipmedal.png&quot;, choicesKey: &quot;trident_down_cont&quot;},
							function(choice)
							{if(choice == 1)
							mission.runScreen({messageKey: &quot;trident_down_bianticommstorybreak5C&quot;, background: &quot;sovcoat.png&quot;, choicesKey: &quot;trident_down_cont&quot;},
								function(choice)
								{if(choice == 1)
									{mission.runScreen({messageKey: &quot;trident_down_completed&quot;});
									missionVariables.trident_down = &quot;COMPLETED_COMMFRIENDSHIP&quot;
									mission.setInstructionsKey(null)
									this.resetJumpcount
									player.credits += 150000
									missionVariables.trident_down_completed = &quot;TRUE&quot;}
								});			
							});	
				});
				}
		
		
			if(missionVariables.trident_down == &quot;DEFENDRACEEDATSUCCESSDEBRIEF2A&quot;)
	    
			{   mission.runScreen({messageKey: &quot;trident_down_defendraceedatsuccessdebrief2a&quot;, background: &quot;sovcoat.png&quot;, choicesKey: &quot;trident_down_cont&quot;},
                function(choice)
                    {
                    if(choice == 1)
                    mission.runScreen({messageKey: &quot;trident_down_glorymedal&quot;, background: &quot;glorymedal.png&quot;, choicesKey: &quot;trident_down_cont&quot;},
                                          
                        function(choice)                             
                        {   if(choice == 1)
                            { mission.runScreen({messageKey: &quot;trident_down_defendraceedatsuccessdebrief2c&quot;});
                            missionVariables.trident_down = &quot;DEFENDRACEEDATSUCCESSESWDEBRIEFA&quot;
							mission.setInstructionsKey(null)
							this.resetJumpcount()
							player.credits += 300000
							}
                        });  
                    }); 
	    }
		
		
		}
		
		
		
		
		if(system.ID == 2) //Lavebe
		{if(missionVariables.trident_down == &quot;REQUEST&quot;)
	    {   mission.runScreen(				  		  
				{messageKey: &quot;trident_down_lavebe_offer&quot;, choicesKey: &quot;trident_down_lavebe_offerchoice&quot;, background: &quot;whexeclogo.png&quot;},
		
		
		function(choice)
		    {
			if(choice == 1)
				
			    {mission.runScreen({messageKey: &quot;trident_down_lavebe_offer_accepted&quot;});
			    missionVariables.trident_down = &quot;ACCEPTED&quot;
			    player.credits += 1000
			    mission.setInstructionsKey(&quot;trident_down_Raceedat&quot;)
                this.resetJumpcount()}
			    
			if(choice == 2)
				
			    {mission.runScreen({messageKey: &quot;trident_down_lavebe_offer_rejected&quot;});
			    missionVariables.trident_down = &quot;COMPLETED_REJECTED&quot;
                this.resetJumpcount
				missionVariables.trident_down_completed = &quot;TRUE&quot;}
			    
			if(choice == 3)
				
			    {mission.runScreen({messageKey: &quot;trident_down_lavebe_offer_deferred&quot;});
			    missionVariables.trident_down = &quot;DEFERRED&quot;
                this.resetJumpcount()}
		      });			
	    }
	    
		if(missionVariables.trident_down == &quot;DEFERRED&quot;)
	    
	    {   mission.runScreen({messageKey: &quot;trident_down_lavebe_repeat_offer&quot;, choicesKey: &quot;trident_down_repeat_offerchoice&quot;, background: &quot;whexeclogo.png&quot;},
		
			function(choice)
		    {
			if(choice == 1)
				
			    {mission.runScreen({messageKey: &quot;trident_down_lavebe_offer_accepted&quot;});
			    missionVariables.trident_down = &quot;ACCEPTED&quot;
			    player.credits += 1000
			    mission.setInstructionsKey(&quot;trident_down_Raceedat&quot;)
                this.resetJumpcount()}
			    
			if(choice == 2)
				
			    {mission.runScreen({messageKey: &quot;trident_down_lavebe_offer_rejected&quot;});
			    missionVariables.trident_down = &quot;COMPLETED_REJECTED&quot;
                this.resetJumpcount
				missionVariables.trident_down_completed = &quot;TRUE&quot;}
		      });			
	    }
		
		
		if(missionVariables.trident_down == &quot;INTERVENTIONAWARDA&quot;)
				{mission.runScreen({messageKey: &quot;trident_down_interventionawardA&quot;, choicesKey: &quot;trident_down_cont&quot;}, function(choice)
                    {
                    if(choice == 1)
                    mission.runScreen({messageKey: &quot;trident_down_interventionawardB&quot;, background: &quot;treaty.png&quot;, choicesKey: &quot;trident_down_cont&quot;}, function(choice)     
                        {   if(choice == 1)
                            mission.runScreen({messageKey: &quot;trident_down_interventionawardC&quot;, choicesKey: &quot;trident_down_cont&quot;}, function(choice)			
							{if(choice == 1)
								mission.runScreen({messageKey: &quot;trident_down_freedommedal&quot;, background: &quot;freedommedal.png&quot;, choicesKey: &quot;trident_down_cont&quot;}, function(choice)
									{if(choice == 1)
										mission.runScreen({messageKey: &quot;trident_down_interventionawardE&quot;, choicesKey: &quot;trident_down_cont&quot;}, function(choice)
											{if(choice == 1)
												{mission.runScreen({messageKey: &quot;trident_down_completed&quot;});
												player.credits += 200000
												missionVariables.trident_down = &quot;COMPLETED_GALHERO&quot;
												missionVariables.trident_down_completed = &quot;TRUE&quot;}
											});
									});
							});
                        });
   
                    }); 
			}
		
		}
		
		
		    
        if(system.ID == 34)   //Leenor 34
        {   if(missionVariables.trident_down == &quot;LEENOR3&quot; || missionVariables.trident_down == &quot;LEENOR7&quot;)
                {   mission.runScreen(				  		  
                    {messageKey: &quot;trident_down_lequteor1a&quot;, choicesKey: &quot;trident_down_cont&quot;}, function(choice)
		    {
			if(choice == 1)
			mission.runScreen({messageKey: &quot;trident_down_lequteor1b&quot;, choicesKey: &quot;trident_down_lequteor_offerchoice&quot;},
                                          
                            function(choice)
                                        
                                {   if(choice == 1 &amp;&amp; player.credits &gt;= 10000)
                                        {mission.runScreen({messageKey: &quot;trident_down_lequteor_accepted1&quot;});
                                        player.credits -= 10000
                                        mission.setInstructionsKey(&quot;trident_down_search3&quot;)
                                        this.resetJumpcount
                                        missionVariables.trident_down = &quot;LEQUTEOR_ACCEPTED1&quot;}
                                                    
                                    if(choice == 1 &amp;&amp; player.credits &lt;= 10000)
                                        {mission.runScreen({messageKey: &quot;trident_down_lequteor_cash&quot;});
                                        mission.setInstructionsKey(&quot;trident_down_search2-deferred&quot;)
                                        this.resetJumpcount
                                        missionVariables.trident_down = &quot;LEQUTEOR_DEFERRED&quot;}
                                        
                                    if(choice == 2)
                                        {mission.runScreen({messageKey: &quot;trident_down_lequteor_rejected&quot;});
                                        mission.setInstructionsKey(&quot;trident_down_search2-rejected&quot;)
                                        this.resetJumpcount
                                        missionVariables.trident_down = &quot;LEQUTEOR_REJECTED&quot;}    
                                        
                                    if(choice == 3)
                                        {mission.runScreen({messageKey: &quot;trident_down_lequteor_deferred&quot;});
                                        mission.setInstructionsKey(&quot;trident_down_search2-deferred&quot;)
                                        this.resetJumpcount
                                        missionVariables.trident_down = &quot;LEQUTEOR_DEFERRED&quot;}     
                                });		    
						});        
                }
            
            if(missionVariables.trident_down == &quot;LEQUTEOR_DEFERRED&quot; &amp;&amp; missionVariables.trident_down_jumpcount &gt; 0)
        
            {mission.runScreen({messageKey: &quot;trident_down_lequteor_repeat_offer&quot;, choicesKey: &quot;trident_down_lequteor_offerchoice&quot;}, function(choice)
		    {
			if(choice == 1 &amp;&amp; player.credits &gt;= 10000)
			{mission.runScreen({messageKey: &quot;trident_down_lequteor_accepted1&quot;});
			player.credits -= 10000
                        mission.setInstructionsKey(&quot;trident_down_search3&quot;)
                        this.resetJumpcount
                        missionVariables.trident_down = &quot;LEQUTEOR_ACCEPTED1&quot;}
                        
                        if(choice == 1 &amp;&amp; player.credits &lt;= 10000)
                        {mission.runScreen({messageKey: &quot;trident_down_lequteor_cash&quot;});
                        mission.setInstructionsKey(&quot;trident_down_search2-deferred&quot;)
                        this.resetJumpcount
                        missionVariables.trident_down = &quot;LEQUTEOR_DEFERRED&quot;}
                                        
                        if(choice == 2)
                        {mission.runScreen({messageKey: &quot;trident_down_lequteor_rejected&quot;});
                        mission.setInstructionsKey(&quot;trident_down_search2-rejected&quot;)
                        this.resetJumpcount
                        missionVariables.trident_down = &quot;LEQUTEOR_REJECTED&quot;}    
                                        
                        if(choice == 3)
                        {mission.runScreen({messageKey: &quot;trident_down_lequteor_deferred&quot;});
                        mission.setInstructionsKey(&quot;trident_down_search2-deferred&quot;)
                        this.resetJumpcount
                        missionVariables.trident_down = &quot;LEQUTEOR_DEFERRED&quot;}     
				});
			}   
            
            if(missionVariables.trident_down == &quot;LEQUTEOR_ACCEPTED1&quot; &amp;&amp; missionVariables.trident_down_jumpcount &gt; 0)
            
            {   missionVariables.trident_down = &quot;LEQUTEOR_ACCEPTED2&quot;
				mission.runScreen({messageKey: &quot;trident_down_lequteor_accepted2&quot;, choicesKey: &quot;trident_down_cont&quot;}, function(choice)
				{
				if(choice == 1)
                            mission.runScreen({background: &quot;krabspec.png&quot;, choicesKey: &quot;trident_down_cont&quot;},
                                          
                            function(choice)
                                        
                                {   if(choice == 1)
                                        {mission.runScreen({messageKey: &quot;trident_down_lequteor_accepted3&quot;});
                                        mission.setInstructionsKey(&quot;trident_down_search4&quot;)
                                        this.resetJumpcount
                                        missionVariables.trident_down = &quot;LEISERA1&quot;}
                            });
                                          		    
				});
			}
		
			if(missionVariables.trident_down == &quot;INTERVENTION&quot; &amp;&amp; !missionVariables.trident_down_lequteor)
			{mission.runScreen({messageKey: &quot;trident_down_lequteorrumour&quot;});
			missionVariables.trident_down_lequteor = &quot;SET&quot;
			++missionVariables.trident_down_rumours}
        
		}
        
        if(system.ID == 247) //LEISERA
            {   if(missionVariables.trident_down == &quot;LEISERA1&quot; )
                    {mission.runScreen({messageKey: &quot;trident_down_leisera1&quot;});
                    missionVariables.trident_down = &quot;LEISERA2A&quot;    
                    }
                    
                if(missionVariables.trident_down == &quot;LEQUTEOR_REJECTED&quot; )
                    {mission.runScreen({messageKey: &quot;trident_down_leisera1alt&quot;});
                    missionVariables.trident_down = &quot;LEISERA2A&quot;    
                    }
					
					
				if(missionVariables.trident_down == &quot;INTERVENTION&quot; &amp;&amp; !missionVariables.trident_down_leisera)
				{mission.runScreen({messageKey: &quot;trident_down_leiserarumour&quot;});
				missionVariables.trident_down_leisera = &quot;SET&quot;
				++missionVariables.trident_down_rumours}	
					
            }                   
        
        if(system.ID == 197) //DICEBE
	
		{if(missionVariables.trident_down == &quot;DICEBE3&quot;)      
			{
            missionVariables.trident_down = &quot;DICEBE4&quot;
            mission.runScreen(				  		  
			    {
			    messageKey: &quot;trident_down_dicebe&quot;,
			    choicesKey: &quot;trident_down_cont&quot;
			    },
                function(choice)
                    {
                    if(choice == 1)
                    mission.runScreen({messageKey: &quot;trident_down_dicebeflee&quot;, choicesKey: &quot;trident_down_launch&quot;},
                                          
                        function(choice)                             
                        {   if(choice == 1)
                            {player.ship.fuel = 7.0
                            missionVariables.trident_down = &quot;RACEEDAT2&quot;
			    player.bounty = 150
			    mission.setInstructionsKey(&quot;trident_down_search7&quot;)
			    player.ship.launch()	
							}
                        });  
                    }); 
			}
		if(missionVariables.trident_down == &quot;RACEEDAT2&quot;)
            {	
			mission.runScreen(		  		  
                {
				messageKey: &quot;trident_down_diceberepeatflee&quot;,
				choicesKey: &quot;trident_down_launch&quot;,
                background: &quot;ATU.png&quot;
                },
							
                function(choice)
			    {
				if(choice == 1)		
			    {player.ship.fuel = 7.0
			    player.ship.launch()}
                    });			
            }
	    
		if(missionVariables.trident_down == &quot;CONFRONTATU&quot;)
			{   missionVariables.trident_down = &quot;CONFRONTATU2&quot;
			    mission.runScreen({messageKey: &quot;trident_down_confrontATU2A&quot;, background: &quot;ATU.png&quot;, choicesKey: &quot;trident_down_cont&quot;},
                function(choice)
                    {
                    if(choice == 1)
                    mission.runScreen({messageKey: &quot;trident_down_confrontATU2B&quot;, background: &quot;ATU.png&quot;, choicesKey: &quot;trident_down_cont&quot;},
                                          
                        function(choice)                             
                        {   if(choice == 1)
                            mission.runScreen({messageKey: &quot;trident_down_confrontATU2C&quot;, background: &quot;ATU.png&quot;, choicesKey: &quot;trident_down_confrontATUchoice&quot;},
                            
								function(choice)
								{	if(choice == 1)
								{mission.runScreen({messageKey: &quot;trident_down_confrontATU2D&quot;, background: &quot;ATU.png&quot;});
								missionVariables.trident_down = &quot;HELPINGATU&quot;
								mission.setInstructionsKey(&quot;trident_down_deliverweapons&quot;)
								player.ship.useSpecialCargo(&quot;ATU Weapons Shipment&quot;)
								player.bounty = 0}
								});
                        });
                    }); 
			}  
	
		if(missionVariables.trident_down == &quot;WEAPONSDELIVERED&quot;)
		{   mission.runScreen({messageKey: &quot;trident_down_ATUbrief1&quot;, background: &quot;ATU.png&quot;});
		    missionVariables.trident_down = &quot;ATURESCUE&quot;
		    mission.setInstructionsKey(&quot;trident_down_ATUrescue&quot;)
		}
	}
	
	
	
	if(system.ID == 135)  //RACEEDAT (should be 135)
	
	{	if(missionVariables.trident_down == &quot;ACCEPTED&quot;)
	    
	    {   missionVariables.trident_down = &quot;RACEEDAT1A&quot;
			mission.runScreen(				  		  
                {
				messageKey: &quot;trident_down_raceedat1A&quot;,
				choicesKey: &quot;trident_down_cont&quot;,
                background: &quot;krabvideo.png&quot;
                },
			function(choice)
		    {
			if(choice == 1)
				
			    {mission.runScreen({messageKey: &quot;trident_down_raceedat1B&quot;});
			    missionVariables.trident_down = &quot;RACEEDAT1B&quot;
			    mission.setInstructionsKey(&quot;trident_down_search&quot;)}
		    });
	    }
		
		
		if(missionVariables.trident_down == &quot;RACEEDAT2&quot;)  
			{mission.runScreen({messageKey: &quot;trident_down_raceedat4&quot;});
            missionVariables.trident_down = &quot;RACEEDAT5&quot;
            player.bounty = 0}   
		    
		if(missionVariables.trident_down == &quot;INFORMRACEEDAT&quot;)
			{mission.runScreen({messageKey: &quot;trident_down_helpraceedat2&quot;, choicesKey: &quot;trident_down_raceedathelpchoice&quot;},
							
                function(choice)
				{
				if(choice == 1)
				
			    {mission.runScreen({messageKey: &quot;trident_down_raceedatchoiceagree&quot;});
			    mission.setInstructionsKey(&quot;trident_down_temage&quot;)
			    missionVariables.trident_down = &quot;HELPINGRACEEDAT&quot;
			    }
				if(choice == 2)
				
			    {mission.runScreen({messageKey: &quot;trident_down_raceedatchoicerefuse&quot;});
			    this.resetJumpcount()
			    missionVariables.trident_down = &quot;RACEEDATCHOICEREFUSE&quot;
				mission.setInstructionsKey(null)}    	
                    });			
			}
		
		if(missionVariables.trident_down == &quot;HELPINGATU&quot;)
			{mission.runScreen({messageKey: &quot;trident_down_raceedatquestion&quot;, choicesKey: &quot;trident_down_raceedatquestionchoice&quot;},
							
                function(choice)
			    {
				if(choice == 1)
				
			    {mission.runScreen({messageKey: &quot;trident_down_helpraceedat2alt&quot;, choicesKey: &quot;trident_down_raceedathelpchoice&quot;},
					       
			    function(choice)
			    {
			    if(choice == 1)	
			    {mission.runScreen({messageKey: &quot;trident_down_raceedatchoiceagree&quot;});
			    mission.setInstructionsKey(&quot;trident_down_temage&quot;)
			    missionVariables.trident_down = &quot;HELPINGRACEEDAT&quot;
			    }
			    if(choice == 2)	
			    {mission.runScreen({messageKey: &quot;trident_down_raceedatchoicerefuse&quot;});
			    this.resetJumpcount()
			    missionVariables.trident_down = &quot;RACEEDATCHOICEREFUSE&quot;
			    }   	
			    });			       		       
			    
			    }
				if(choice == 2)
			    mission.runScreen({messageKey: &quot;trident_down_raceedatkeepquiet&quot;});	        	
                missionVariables.trident_down = &quot;HELPINGATUALT&quot;});			
		}
		
		
		if(missionVariables.trident_down == &quot;BODARENKODEBRIEFA&quot; || missionVariables.trident_down == &quot;BODARENKONEWS&quot;)
			{
            mission.runScreen(				  		  
			    {messageKey: &quot;trident_down_bodarenkodebriefA&quot;, choicesKey: &quot;trident_down_cont&quot;},
                function(choice)
                    {
                    if(choice == 1)
                        { mission.runScreen({messageKey: &quot;trident_down_bodarenkodebriefB&quot;});
                        missionVariables.trident_down = &quot;BODARENKODEBRIEFB&quot;
						mission.setInstructionsKey(null)
						this.resetJumpcount()
						player.credits += 200000
						System.infoForSystem(3,135).description = &quot;Raceedat is currently under the protection of the ATU and has elected Timon Delaney as its new President.  Pilots are advised that Raceedat Station has now returned to operation and previous entry restrictions to the system have now been lifted.&quot;
						System.infoForSystem(3,135).station = &quot;coriolis&quot;
						System.infoForSystem(3,135).government = 6
							}
                        });  
                    
			}
			
		if(missionVariables.trident_down == &quot;DEFENDRACEEDAT1&quot;)
		
			{mission.runScreen({messageKey: &quot;trident_down_defendraceedatbrief&quot;});
		    missionVariables.trident_down = &quot;DEFENDRACEEDAT2&quot;
			missionVariables.trident_down_bombercount = 0
		    mission.setInstructionsKey(null)
		    this.resetJumpcount()}
			
				
		if(missionVariables.trident_down == &quot;DEFENDRACEEDATSUCCESS&quot;)
		
			{mission.runScreen({messageKey: &quot;trident_down_defendraceedatsuccess&quot;});
		    missionVariables.trident_down = &quot;DEFENDRACEEDATSUCCESSNEWS1&quot;
			missionVariables.trident_down_bombercount = null
		    mission.setInstructionsKey(&quot;trident_down_waitforinfo&quot;)
		    this.resetJumpcount()}
		
		
		
		
		
	}
	
	if(system.ID == 42) //Zadige 42
	{	if(missionVariables.trident_down == &quot;COMMSTATIONBRIEFA&quot;)
			{mission.runScreen({messageKey: &quot;trident_down_commstationbriefA&quot;, background: &quot;ATU.png&quot;, choicesKey: &quot;trident_down_cont&quot;},
				
			function(choice)
			{
			    if(choice == 1)
				
			    {mission.runScreen({messageKey: &quot;trident_down_commstationbriefB&quot;, background: &quot;ATU.png&quot;});
			    mission.setInstructionsKey(&quot;trident_down_commstation&quot;)
				missionVariables.trident_down = &quot;COMMSTATIONBRIEFC&quot;}
			});			
		    
			}
	}
	
	if(system.ID == 223) //Temage 223
	{	if(missionVariables.trident_down == &quot;HELPINGRACEEDAT&quot;)
           {  	mission.runScreen({messageKey: &quot;trident_down_agentbriefA&quot;, choicesKey: &quot;trident_down_cont&quot;},
                function(choice)
                    {
                    if(choice == 1)
                    mission.runScreen({messageKey: &quot;trident_down_jenssenbrief&quot;, background: &quot;jenssen.png&quot;, choicesKey: &quot;trident_down_cont&quot;},
                                          
                        function(choice)                             
                        {   if(choice == 1)
                            mission.runScreen({messageKey: &quot;trident_down_ezrabrief&quot;, background: &quot;ezra.png&quot;, choicesKey: &quot;trident_down_cont&quot;},                           
								function(choice)
								{	if(choice == 1)
								{mission.runScreen({messageKey: &quot;trident_down_playfairbrief&quot;, background: &quot;playfair.png&quot;});
								missionVariables.trident_down = &quot;FINDAGENTS&quot;
								mission.setInstructionsKey(&quot;trident_down_agents&quot;)
								missionVariables.trident_down_agent = 0
								}
							});
                        }); 
                    }); 
			} 
	}
	
	if(system.ID == 157) //Reinus
	{	if(missionVariables.trident_down == &quot;FINDAGENTS&quot; &amp;&amp; !missionVariables.trident_down_ezra)
			{mission.runScreen({messageKey: &quot;trident_down_ezrasearch&quot;});
		    missionVariables.trident_down_ezra = &quot;ARRIVAL&quot;}
	}
	
	if(system.ID == 36) //Rilaan - Soviet HQ
	{	if(missionVariables.trident_down == &quot;DELANEYSUCCESSDEBRIEFA&quot; || missionVariables.trident_down == &quot;DELANEYDEADSECRET&quot;)
			{mission.runScreen({messageKey: &quot;trident_down_delaneysuccessdebriefA&quot;, background: &quot;sovcoat.png&quot;, choicesKey: &quot;trident_down_cont&quot;},
			function(choice)                             
                        {   if(choice == 1)
                            mission.runScreen({messageKey: &quot;trident_down_delaneysuccessdebriefB&quot;, background: &quot;sovcoat.png&quot;, choicesKey: &quot;trident_down_cont&quot;},
                            
								function(choice)
								{	if(choice == 1)
								{mission.runScreen({messageKey: &quot;trident_down_delaneysuccessdebriefC&quot;, background: &quot;sovcoat.png&quot;});
								missionVariables.trident_down = &quot;BIANTICOMMSTORY&quot;
								mission.setInstructionsKey(&quot;trident_down_bianti&quot;)
								missionVariables.trident_down_agent = 0
								}
							});
                    }); 
			}
		if(missionVariables.trident_down == &quot;DELANEYFAILDEBRIEF&quot; || missionVariables.trident_down == &quot;DELANEYDEADOPEN&quot;)
		{mission.runScreen({messageKey: &quot;trident_down_delaneyfaildebrief&quot;, background: &quot;sovcoat.png&quot;});
		missionVariables.trident_down = &quot;DEFENDRACEEDAT1&quot;
		mission.setInstructionsKey(&quot;trident_down_defendraceedat&quot;)}
	}
	
	if(system.ID == 244) //Usisis - evacuation point
	{if(missionVariables.trident_down == &quot;DEFENDRACEEDATFAILDEBRIEF&quot;)
		{mission.runScreen({messageKey: &quot;trident_down_defendraceedatfaildebrief&quot;});
		missionVariables.trident_down = &quot;DEFENDRACEEDATFAILNEWS&quot;
		mission.setInstructionsKey(&quot;trident_down_isanla&quot;)
		System.infoForSystem(3,135).description = &quot;Raceedat is currently being held under the control of the ATU.  Pilots are advised that Raceedat&#39;s Coriolis Station remains out of action, and should request docking instructions from the Orbital Transit Station run by the Agricultural Engineering Enterprise.&quot;
		System.infoForSystem(3,135).station = &quot;transit-station&quot;
		this.resetJumpcount()}
	}
	
	if(system.ID == 15) //Isanla
	{if(missionVariables.trident_down == &quot;BODARENKOC&quot;)
		
	{if(player.ship.equipmentStatus(&quot;EQ_RADIO_MINE&quot;) == &quot;EQUIPMENT_OK&quot;)
		
		{
		mission.runScreen({messageKey: &quot;trident_down_bodarenkobombA&quot;, choicesKey: &quot;trident_down_cont&quot;},
		function(choice)
					{	if(choice == 1)
						{mission.runScreen({messageKey: &quot;trident_down_bodarenkobombB&quot;});
						missionVariables.trident_down = &quot;BODARENKOBOMBB&quot;}
					});	
		}
		
	else
	if(missionVariables.trident_down_jumpcount &gt; 0)
		{mission.runScreen({messageKey: &quot;trident_down_bodarenkobombalt&quot;})
		missionVariables.trident_down_jumpcount = 0}
	}
		
		
		
	if(missionVariables.trident_down == &quot;DEFENDRACEEDATFAILESWDEBRIEFALT2&quot;)
		{mission.runScreen({messageKey: &quot;trident_down_defendraceedatfailisanlaA&quot;, choicesKey: &quot;trident_down_cont&quot;},
		function(choice)
					{	if(choice == 1)
					mission.runScreen({messageKey: &quot;trident_down_couragemedal&quot;, background: &quot;couragemedal.png&quot;, choicesKey: &quot;trident_down_cont&quot;},
						function(choice)
						{	if(choice == 1)
							{mission.runScreen({messageKey: &quot;trident_down_defendraceedatfailisanlaC&quot;});
							this.resetJumpcount()
							missionVariables.trident_down = &quot;DEFENDRACEEDATFAILISANLAC&quot;
							mission.setInstructionsKey(null)}
							});
                    }); 
			}		
	}
	
	if(system.ID == 65) //Bianti
	{if(missionVariables.trident_down == &quot;BIANTICOMMSTORY&quot;)
		{mission.runScreen({messageKey: &quot;trident_down_bianticommstory&quot;, background: &quot;bianti.png&quot;});
		missionVariables.trident_down = &quot;BIANTICOMMSTORYDELIVERED&quot;
		this.resetJumpcount()
		mission.setInstructionsKey(null)}
		
	if(missionVariables.trident_down == &quot;BIANTIESWSTORY&quot;)
		{mission.runScreen({messageKey: &quot;trident_down_biantieswstory&quot;, background: &quot;bianti.png&quot;});
		missionVariables.trident_down = &quot;BIANTIESWSTORYBREAK1&quot;
		mission.setInstructionsKey(null)
		this.resetJumpcount()
		}
	}
	
	if(system.ID == 187) //Leenor
	{if(missionVariables.trident_down == &quot;INTERVENTION&quot; &amp;&amp; !missionVariables.trident_down_leenor)
		{mission.runScreen({messageKey: &quot;trident_down_leenorrumour&quot;});
		missionVariables.trident_down_leenor = &quot;SET&quot;
		++missionVariables.trident_down_rumours
		this.resetJumpcount()
		}
	}
	
	if(missionVariables.trident_down == &quot;MACHINERYSCOOPEDA&quot; || missionVariables.trident_down == &quot;REPLAY&quot;)  //setup for the big four-way choice; can be any location
	
            {   
                    mission.runScreen(				  		  
                    {
                    messageKey: &quot;trident_down_machineryscoopeda&quot;,
                    choicesKey: &quot;trident_down_cont&quot;
                    },
		
		
                    function(choice)
		    {
			if(choice == 1)
			mission.runScreen({messageKey: &quot;trident_down_machineryscoopedb&quot;, choicesKey: &quot;trident_down_fourway&quot;},
                                          
                            function(choice)
                                        
                                {   if(choice == 1)
				
					{mission.runScreen({messageKey: &quot;trident_down_helpraceedat1&quot;});
					missionVariables.trident_down = &quot;INFORMRACEEDAT&quot;
					mission.setInstructionsKey(&quot;trident_down_informraceedat&quot;)}
                                        // player now needs to head to main raceedat station if not already there
                                    	    
				    if(choice == 2)	//confront the ATU
                                        {mission.runScreen({messageKey: &quot;trident_down_confrontATU1&quot;});
                                        mission.setInstructionsKey(&quot;trident_down_confrontATU&quot;)
                                        this.resetJumpcount
                                        missionVariables.trident_down = &quot;CONFRONTATU&quot;}    
                                        
                    if(choice == 3)	//intervene
                                        {mission.runScreen({messageKey: &quot;trident_down_intervention&quot;});
                                        mission.setInstructionsKey(&quot;trident_down_rumours&quot;)
										missionVariables.trident_down_rumours = 0
                                        this.resetJumpcount
                                        missionVariables.trident_down = &quot;INTERVENTION&quot;}
					
				    if(choice == 4)	//do nothing
                                        {mission.runScreen({messageKey: &quot;trident_down_donothing&quot;});
                                        mission.setInstructionsKey(null)
                                        this.resetJumpcount
                                        missionVariables.trident_down = &quot;DOINGNOTHING1&quot;}	
                                });  
		    });    
		}
        
        
        //keep this last bracket
        }
		
	//some bits for non-main station stuff
	
	
	if(player.ship.dockedStation.hasRole(&quot;korshkov-station&quot;))
                   
		{if(missionVariables.trident_down == &quot;LEISERA2A&quot; || missionVariables.trident_down == &quot;LEISERA1&quot;)
            {mission.runScreen({messageKey: &quot;trident_down_leisera2a&quot;, choicesKey: &quot;trident_down_cont&quot;, background: &quot;korshlogo.png&quot;}, function(choice)
                {   if(choice == 1)
                    {mission.runScreen({messageKey: &quot;trident_down_leisera2b&quot;, background: &quot;korshlogo.png&quot;});
                    mission.setInstructionsKey(&quot;trident_down_search5&quot;)
                    missionVariables.trident_down = &quot;WITCHSPACE&quot;
                    this.resetJumpcount()}
                });                           
            }
        if(missionVariables.trident_down == &quot;INTERVENTION&quot; &amp;&amp; !missionVariables.trident_down_leisera)
			{mission.runScreen({messageKey: &quot;trident_down_leiserarumour&quot;});
			missionVariables.trident_down_leisera = &quot;SET&quot;
			++missionVariables.trident_down_rumours}
		}
		
	
	
	
	if(player.ship.dockedStation.hasRole(&quot;transit-station&quot;))
		
		{	if(missionVariables.trident_down == &quot;RACEEDAT5&quot;)
		    {mission.runScreen({messageKey: &quot;trident_down_transit_station&quot;, choicesKey: &quot;trident_down_launch&quot;},
							
			function(choice)
			{
			    if(choice == 1)
				
			    {missionVariables.trident_down = &quot;RACEEDAT7&quot;
			    player.ship.launch()}
			});			
		    }
			if(missionVariables.trident_down == &quot;HELPINGATU&quot; || missionVariables.trident_down == &quot;HELPINGATUALT&quot;)
		
		    {mission.runScreen({messageKey: &quot;trident_down_weaponsdelivered&quot;});
		    missionVariables.trident_down = &quot;WEAPONSDELIVERED&quot;
		    mission.setInstructionsKey(null)
		    player.ship.removeAllCargo()}
			
			if(missionVariables.trident_down == &quot;ATUASSAULTSUCCESS&quot;)
		
			{mission.runScreen({messageKey: &quot;trident_down_ATUassaultdebrief&quot;});
		    missionVariables.trident_down = &quot;ASSAULTAFTERMATH1&quot;
		    mission.setInstructionsKey(&quot;trident_down_ATUwait&quot;)
			System.infoForSystem(3,135).station = &quot;transit-station&quot;
		    this.resetJumpcount()}
			
			if(missionVariables.trident_down == &quot;ASSAULTAFTERMATH4&quot;)
            {
            mission.runScreen(				  		  
			    {messageKey: &quot;trident_down_bodarenkobriefA&quot;, background: &quot;ATU.png&quot;, choicesKey: &quot;trident_down_cont&quot;},
                function(choice)
                    {
                    if(choice == 1)
                    mission.runScreen({messageKey: &quot;trident_down_bodarenkobriefB&quot;, background: &quot;ATU.png&quot;, choicesKey: &quot;trident_down_cont&quot;},
                                          
                        function(choice)                             
                        {   if(choice == 1)
                            { mission.runScreen({messageKey: &quot;trident_down_bodarenkobriefC&quot;, background: &quot;ATU.png&quot;});
                            missionVariables.trident_down = &quot;BODARENKOC&quot;
							mission.setInstructionsKey(&quot;trident_down_bodarenko&quot;)
							this.resetJumpcount()
							
							}
                        });  
                    }); 
			}
			
		}
		
	if(system.ID == 85 &amp;&amp; player.ship.dockedStation.hasRole(&quot;ergeso-casino&quot;))
	{	if(missionVariables.trident_down == &quot;ATURESCUESUCCESS&quot;)
			{mission.runScreen({messageKey: &quot;trident_down_ATUrescuesuccess&quot;});
		    missionVariables.trident_down = &quot;ASSAULTBRIEFA&quot;
		    mission.setInstructionsKey(&quot;trident_down_ATUrescuedebrief&quot;)
			this.resetJumpcount()}
	
		if(missionVariables.trident_down == &quot;ATURESCUEFAIL&quot;)
			{mission.runScreen({messageKey: &quot;trident_down_ATUrescuefail&quot;});
		    missionVariables.trident_down = &quot;COMMSTATIONBRIEFA&quot;
		    mission.setInstructionsKey(&quot;trident_down_ATUrescuedebrief&quot;)
			this.resetJumpcount()}
			
		else
		if(!this.casinoVisit)
		{mission.runScreen({messageKey: &quot;trident_down_casino_out&quot;})
		this.casinoVisit = true
		return;}
		
	}
		
	if(player.ship.dockedStation.hasRole(&quot;imperator&quot;)) // this ship only spawned in specific circumstances
	{
		if(missionVariables.trident_down == &quot;ASSAULTBRIEFA&quot; || missionVariables.trident_down == &quot;COMMSTATIONDISABLED&quot;)
		{mission.runScreen({messageKey: &quot;trident_down_ATUassaultbrief&quot;, background: &quot;ATU.png&quot;});
		missionVariables.trident_down = &quot;ASSAULTBRIEFB&quot;
		mission.setInstructionsKey(&quot;trident_down_ATUraceedatrendezvous&quot;)} 	  	
	}	
  
}

//ship appearances after witchspace

this.shipExitedWitchspace = function()
{
    if(galaxyNumber == 3)
	{
	if(!missionVariables.trident_down_completed)
    {++missionVariables.trident_down_jumpcount
	missionVariables.novacount = 0}
	
	this.setupSystems()
    
    if(missionVariables.trident_down == &quot;LEENOR1&quot; &amp;&amp; missionVariables.trident_down_jumpcount &gt; 2)
    {   player.commsMessage(&quot;Incoming Message: please report to the nearest GalCop station as soon as possible.&quot;, 10)
        missionVariables.trident_down = &quot;LEENOR2&quot;}
        
        
    if(missionVariables.trident_down == &quot;LEENOR4&quot; &amp;&amp; missionVariables.trident_down_jumpcount &gt; 0)
    {   player.commsMessage(&quot;Urgent Message: please make contact with Security Chief Amon Ghal&#39;ut as soon as possible.&quot;, 10)
        missionVariables.trident_down = &quot;LEENOR5&quot;}
        
    if(missionVariables.trident_down == &quot;LEISERA1&quot; &amp;&amp; missionVariables.trident_down_jumpcount == 3)
    {   system.legacy_addShips(&quot;ATU-leader&quot;, 1)
        system.legacy_addShips(&quot;ATU&quot;, 4)}        
    
    if(system.ID == -1 &amp;&amp; missionVariables.trident_down == &quot;WITCHSPACE&quot;)
    {   system.legacy_addShips(&quot;wreckage&quot;, 10)
        system.legacy_addShips(&quot;abandoned-escape-pod&quot;, 1)}
		
	
    if(missionVariables.trident_down == &quot;DICEBE1&quot; &amp;&amp; missionVariables.trident_down_jumpcount == 4)
    {   player.commsMessage(&quot;Commander, you have a message from Security Chief Ghal&#39;ut.  Please report to the nearest spaceport as soon as possible.&quot;, 10)
        missionVariables.trident_down = &quot;DICEBE2&quot;}
	
    if(system.ID == 197 &amp;&amp; missionVariables.trident_down == &quot;CONFRONTATU&quot;)
	player.commsMessage(&quot;ATTENTION: You are under arrest on the order of the ATU.  You are required to Dicebe Station immediately.&quot;)
	
	if(system.ID == 135)
	{	if(missionVariables.trident_down == &quot;ATURESCUE&quot;)
		{	system.legacy_addSystemShips(&quot;ambassador-ship&quot;, 1, 1.0)
			player.commsMessage(&quot;Prisoner Transport DK-322: You are cleared for launch.&quot;)
			this.resetJumpcount()
		}
		if(missionVariables.trident_down == &quot;ASSAULTBRIEFB&quot;)
		{system.legacy_addShipsAt(&quot;imperator&quot;, 1, &quot;pwm&quot;, [7696.39, 40254.17, 175973.12])
		system.legacy_addShipsWithinRadius(&quot;enemybellabomber&quot;, 5, &quot;pwm&quot;, [7696.39, 40254.17, 175973.12], 10000)
		system.legacy_addSystemShips(&quot;police&quot;, 10, 0.85)
		system.legacy_addSystemShips(&quot;comgrc&quot;, 1, 0.85)
		player.bounty = 500
		player.commsMessage(&quot;Commodore Delaney: Commander, we&#39;re just about to launch our assault.  Join the bomber formations and protect them from enemy fighters&quot;, 10)
		}
		
		if(missionVariables.trident_down == &quot;ESWBRIEFB&quot;)
		{system.legacy_addShipsAt(&quot;imperator&quot;, 1, &quot;pwm&quot;, [7696.39, 40254.17, 175973.12])
		system.legacy_addShipsWithinRadius(&quot;enemybellabomber&quot;, 5, &quot;pwm&quot;, [7696.39, 40254.17, 175973.12], 10000)
		system.legacy_addSystemShips(&quot;police&quot;, 5, 0.8)
		system.legacy_addSystemShips(&quot;saiph-escort&quot;, 10, 0.75)
		player.bounty = 500
		player.commsMessage(&quot;Amon Ghal&#39;ut: OK, Commander.  Locate the ATU fleet and then call in the squadron using the homing beacon.&quot;, 10)
		}
				
	}
	
	if(system.ID == 179 &amp;&amp; missionVariables.trident_down == &quot;COMMSTATIONBRIEFC&quot;)
	player.commsMessage(&quot;Commander, you should be able to pick up the comms station on your compass - look for an X-beacon.  Good luck!&quot;)
	
	if((system.ID == 91 &amp;&amp; missionVariables.trident_down == &quot;COMMSTATIONDISABLED&quot;) || (system.ID == 42 &amp;&amp; missionVariables.trident_down == &quot;ASSAULTBRIEFA&quot;))
		{system.legacy_addSystemShips(&quot;imperator&quot;, 1, 0.1)
		system.legacy_addSystemShips(&quot;saiph-escort&quot;, 8, 0.1)

		player.commsMessage(&quot;Commodore Delaney: Commander, I am on board the ISS Imperator.  Send a request for docking instructions once you are in range.&quot;, 10)	
		}
		
	if(system.ID == 85) // Ergeso  
		{
        if(system.countShipsWithRole(&quot;jenssen-ship&quot;) == 0)
		  {
		  if(missionVariables.trident_down == &quot;FINDAGENTS&quot; &amp;&amp; !missionVariables.trident_down_jenssen)
		   {system.legacy_addShipsWithinRadius(&quot;jenssen-ship&quot;, 1, &quot;pwm&quot;, [-28713.0, -31711.0, 9742.0], 5000)
		   this.resetJumpcount()}
		}}

	if(system.ID == 130) // Cebitiza 
		{if(missionVariables.trident_down == &quot;FINDAGENTS&quot; &amp;&amp; !missionVariables.trident_down_playfair)
		   {system.legacy_addShipsWithinRadius(&quot;playfair-ship&quot;, 1, &quot;pwm&quot;, [91714.0, 10790.0, -43113.0], 5000)
		   this.resetJumpcount()}
		}
		
	if(system.ID == 147 &amp;&amp; missionVariables.trident_down == &quot;DELANEYOFFERACCEPTD&quot;)
    system.legacy_addSystemShips(&quot;delaney-ship&quot;, 1, 0.1)   
		
	if(missionVariables.trident_down == &quot;ATUASSAULTSUCCESS&quot;)
	{System.infoForSystem(3,135).station = &quot;transit-station&quot;}
	
	if(missionVariables.trident_down == &quot;ASSAULTAFTERMATH3&quot; &amp;&amp; missionVariables.trident_down_jumpcount &gt; 6)
	{player.commsMessage(&quot;Commander, you are required by Commodore Delaney.  Please make your way to Raceedat as quickly as possible.&quot;, 10)
	missionVariables.trident_down = &quot;ASSAULTAFTERMATH4&quot;}
	
	if(system.ID == 15) // Isanla 
		{if(missionVariables.trident_down == &quot;BODARENKOBRIEFC&quot;)
		   {player.commsMessage(&quot;Incoming message: Warning - this is a restricted system.  No unauthorised entry is permitted.  All vessels must immediately report to Isanla Station for security clearance.&quot;)}
		}
	
	if(missionVariables.trident_down == &quot;BODARENKODEBRIEFD&quot;)
	{	this.randomNumber = (Math.random())
		if(randomNumber &lt; 0.2)
			system.legacy_addShips(&quot;esw-assassin&quot;, 1)
	}
	
	if(missionVariables.trident_down_agent == 3)
	{player.commsMessage(&quot;Well done, Commander,  That&#39;s the three agents dealt with.  We can now go ahead and arrest the dissidents - we&#39;ll make further contact with you soon.&quot;, 10)
	missionVariables.trident_down = &quot;CRACKDOWN1&quot;
	missionVariables.trident_down_jenssen = null
	missionVariables.trident_down_playfair = null
	missionVariables.trident_down_ezra = null
	missionVariables.trident_down_agent = null
	this.resetJumpcount()
	mission.setInstructionsKey(&quot;trident_down_waitforinfo&quot;)
	}
	
	
	if(missionVariables.trident_down == &quot;CRACKDOWN3&quot; &amp;&amp; missionVariables.trident_down_jumpcount == 2)
	{player.commsMessage(&quot;Incoming message: Commander, you are required by Colonel Bodarenko of the Ministry of Internal Affairs.  Please make your way to the nearest Security Police station as soon as possible.&quot;, 10)
	missionVariables.trident_down = &quot;CRACKDOWN4&quot;
	this.resetJumpcount()
	mission.setInstructionsKey(&quot;trident_down_securityrendezvous&quot;)
	}
	
	if(missionVariables.trident_down == &quot;DELANEYDEADOPEN&quot; || missionVariables.trident_down == &quot;DELANEYDEADSECRET&quot;)
	{if(missionVariables.trident_down_jumpcount == 3)
	{player.commsMessage(&quot;iNews bulletin available now at your nearest station.&quot;)}
	}
	
	if(missionVariables.trident_down == &quot;DEFENDRACEEDATSUCCESSDEBRIEF1&quot; &amp;&amp; missionVariables.trident_down_jumpcount == 4)
	{player.commsMessage(&quot;Incoming message: Commander, please make your way to the nearest Security Police station as soon as possible.&quot;, 10)
	missionVariables.trident_down = &quot;DEFENDRACEEDATSUCCESSDEBRIEF2A&quot;
	this.resetJumpcount()
	mission.setInstructionsKey(&quot;trident_down_securityrendezvous&quot;)
	}    
	
	if(missionVariables.trident_down == &quot;BIANTICOMMSTORY&quot; &amp;&amp; missionVariables.trident_down_jumpcount == 3)
	system.legacy_addShips(&quot;ATU&quot;, 4)
	
	if(missionVariables.trident_down == &quot;BIANTICOMMSTORYBREAK4B&quot; &amp;&amp; missionVariables.trident_down_jumpcount == 6)
	{player.commsMessage(&quot;Incoming message: Commander, please make your way to the nearest Security Police station as soon as possible.&quot;, 10)
	missionVariables.trident_down = &quot;BIANTICOMMSTORYBREAK5&quot;
	this.resetJumpcount()
	mission.setInstructionsKey(&quot;trident_down_securityrendezvous&quot;)
	}
	
	if(missionVariables.trident_down == &quot;COMMTHREAT&quot;)
	
	{	if(system.ID == 25 || system.ID == 243 || system.ID == 186 || system.ID == 80 || system.ID == 65)
		{system.legacy_addSystemShips(&quot;suslov-ship&quot;, 1, 0.05)
		this.resetJumpcount()}
		
		if(missionVariables.trident_down_jumpcount == 1)
		{missionVariables.trident_down = &quot;SUSLOVESCAPE&quot;
		player.commsMessage(&quot;The Communist agent has escaped!  He will soon be reaching Bianti!&quot;)
		this.resetJumpcount()}
	}
	
	}
}

this.shipWillLaunchFromStation = function()
{
  
    if(galaxyNumber == 3)
	{
		
	this.setupSystems()
	
	if(missionVariables.trident_down == &quot;RACEEDAT2&quot; &amp;&amp; system.ID == 197)
    {   if(system.countShipsWithRole(&quot;ATU&quot;) == 0)
        system.legacy_addSystemShips(&quot;ATU&quot;, 4, 1.0)
    }
    
    if(system.ID == 135)
	{	if(missionVariables.trident_down == &quot;RACEEDAT5&quot;)
		{   if(system.countShipsWithRole(&quot;transitpatrol-leader&quot;) == 0)
		    system.legacy_addShipsAtPrecisely(&quot;transitpatrol-leader&quot;, 1, &quot;pwm&quot;, [40880, 59822, 34566])
		}
	
		if(missionVariables.trident_down == &quot;RACEEDAT7&quot;)
		{   if(system.countShipsWithRole(&quot;batkov-shuttle&quot;) == 0)
			system.legacy_addShipsWithinRadius(&quot;batkov-shuttle&quot;, 1, &quot;pwm&quot;, [35673, -7394, -34644], 10000)
		}
		
		if(missionVariables.trident_down == &quot;DEFENDRACEEDAT2&quot;)
		{   if(system.countShipsWithRole(&quot;enemybellabomber&quot;) == 0)
			system.legacy_addShipsAt(&quot;imperator&quot;, 1, &quot;pwm&quot;, [8198.31, 50200.91, 123632.41])
			system.legacy_addShipsWithinRadius(&quot;enemybellabomber&quot;, 5, &quot;pwm&quot;, [8198.31, 50200.91, 123632.41], 10000)
			system.legacy_addSystemShips(&quot;saiph-escort&quot;, 10, 0.75)
			system.legacy_addSystemShips(&quot;police&quot;, 10, 0.9)
			system.legacy_addSystemShips(&quot;comgrc&quot;, 1, 0.9)
			player.commsMessage(&quot;Captain Suslov: Attention all ships - we have the enemy fleet on our radar.  Check your compass for X-beacons.&quot;)	
		}
		
    }
	
	if(system.ID == 157)
    {   if(missionVariables.trident_down_ezra == &quot;ARRIVAL&quot;)
        {   if(system.countShipsWithRole(&quot;ezra-ship&quot;) == 0)
		    system.legacy_addShips(&quot;ezra-ship&quot;, 1)
		}
    }
	
	
	
	if(system.ID == 130) // Cebitiza 
		{if(missionVariables.trident_down == &quot;FINDAGENTS&quot; &amp;&amp; !missionVariables.trident_down_playfair)
		   {if(system.countShipsWithRole(&quot;playfair-ship&quot;) == 0)
		   system.legacy_addShipsWithinRadius(&quot;playfair-ship&quot;, 1, &quot;pwm&quot;, [91714.0, 10790.0, -43113.0], 5000)
		   }
		}
		
		
	if(system.ID == 85) // Ergeso  
		{
		if(system.countShipsWithRole(&quot;jenssen-ship&quot;) == 0)
		   {if(missionVariables.trident_down == &quot;FINDAGENTS&quot; &amp;&amp; !missionVariables.trident_down_jenssen)
		   system.legacy_addShipsWithinRadius(&quot;jenssen-ship&quot;, 1, &quot;pwm&quot;, [-28713.0, -31711.0, 9742.0], 5000)
		   this.resetJumpcount()}
		  
		  }
		
	
	
	

	
	
	
	if(system.ID == 135)
	{if(missionVariables.trident_down == &quot;BODARENKOC&quot;)
	{if(player.ship.equipmentStatus(&quot;EQ_RADIO_MINE&quot;) !== &quot;EQUIPMENT_OK&quot;)
		player.commsMessage(&quot;Commander, you still have equipment to pick up at the Transit Station.&quot;)
	}}
	
	
	
	if(system.ID == 15)
    {   if(missionVariables.trident_down == &quot;BODARENKOBOMBB&quot;)
        {   if(system.countShipsWithRole(&quot;bodarenko-ship&quot;) == 0)
		    system.legacy_addSystemShips(&quot;bodarenko-ship&quot;, 1, 1.0)}
    }
	
	}
    
}

this.shipWillEnterWitchspace = function()
{
	if(missionVariables.trident_down == &quot;ATURESCUE&quot;)
	{if(system.ID == 135 &amp;&amp; missionVariables.trident_down_jumpcount == 0)
	{missionVariables.trident_down = &quot;ATURESCUEFAIL&quot;
	player.commsMessage(&quot;You have failed to rescue the ambassador. Debrief at the Ergeso Casino.&quot;)}
	}
}



this.startBatkovTimer = function()

{
if(!this.batkovTimer)

  {this.batkovTimer = new Timer(this, this.batkov, null, 1)
  this.batkov_count = 0}
  else 
  this.batkovTimer.start();
	
}

this.batkov = function()


{++this.batkov_count
	if(this.batkov_count == 10)
	player.commsMessage(&quot;Captain Suslov: Good work, Commander.  Make sure to sieze the cargo - we may need it as evidence&quot;)
	if(this.batkov_count == 30)
	{player.commsMessage(&quot;Captain Suslov: Once you&#39;re done, return to Raceedat Station.&quot;)
	this.batkovTimer.stop();
	delete this.batkovTimer}
	
}


this.startCountdown = function()

{ if(!this.bodarenkoTimer)

  {this.bodarenkoTimer = new Timer(this, this.countdown, null, 1)
  this.bodarenko_count = 11}
  else 
  this.bodarenkoTimer.start();
}

this.countdown = function()
{ --this.bodarenko_count
  if(this.bodarenko_count &gt;= 0)
  {player.consoleMessage(&quot;Detonation in &quot;+this.bodarenko_count+&quot; seconds&quot;)
  var td_countdown = new SoundSource;
	td_countdown.sound = &quot;td_countdown.ogg&quot;;
	td_countdown.loop = false;
	td_countdown.play();}
  if(this.bodarenko_count == 0)
  { player.consoleMessage(&quot;Detonating...&quot;)
	
	if(missionVariables.trident_down == &quot;BODARENKOBOMBB&quot;)
	{if(system.countShipsWithRole(&quot;bodarenko-ship&quot;) == 1)
	{var bodarenko = system.shipsWithRole(&quot;bodarenko-ship&quot;)[0]
	bodarenko.spawn(&quot;flare&quot;, 40)
	bodarenko.explode()
	var td_bomb = new SoundSource;
	td_bomb.sound = &quot;td_bang.ogg&quot;;
	td_bomb.loop = false;
	td_bomb.play();
    missionVariables.trident_down = &quot;BODARENKODEAD&quot;
    mission.setInstructionsKey(&quot;trident_down_bodarenkoreturn&quot;, &quot;trident_down&quot;)
    missionVariables.trident_down_jumpcount = 0}}
	else
	{player.ship.spawn(&quot;flare&quot;,40)
	var td_bomb = new SoundSource;
	td_bomb.sound = &quot;td_bang.ogg&quot;;
	td_bomb.loop = false;
	td_bomb.play();
	player.ship.explode()
	this.bodarenkoTimer.stop();
	delete this.bodarenkoTimer}
  }
	
	
	if(this.bodarenko_count == -5)
	player.commsMessage(&quot;Help! The Colonel&#39;s been killed!  Quick, find the assassin!&quot;)
	
	if(this.bodarenko_count == -10)
	{player.bounty = 500
	this.wingmanTargetPlayer()
	this.bodarenkoTimer.stop();
	delete this.bodarenkoTimer}
	
}

this.wingmanTargetPlayer = function()
{
	this.wingman = system.shipsWithRole(&quot;wingman&quot;)
	for(var i=0; i&lt;this.wingman.length; i++)
	{wingman[i].target = player.ship
	wingman[i].setAI(&quot;policeInterceptAI.plist&quot;)}
}

this.setPlanetInfo = function()

{System.infoForSystem(3,65).description = &quot;Bianti is home to The Bianti Telegraph, the leading independent news agency in the galaxy.&quot;
System.infoForSystem(3,2).description = &quot;Lavebe is  famous for its inhabitants&#39; ancient loathing of casinos but plagued by occasional solar activity.  It is also home to the headquarters of Executive SpaceWays.&quot;
System.infoForSystem(3,34).description = &quot;Lequteor is a major shipbuilding centre and home to many leading design and engineering firms.  The well-respected Jane&#39;s Shipyard Intelligence also has its regional headquarters here.&quot;
System.infoForSystem(3,187).description = &quot;Leenor is a highy-unstable system and is rumoured to be the main operational base of the notorious League of Anarchists.&quot;
System.infoForSystem(3,247).description = &quot;This world is mildly famous for its pink oceans and mud tennis.  The highly-secretive Korshkov design bureau is believed to maintain an advanced research and test facility here.&quot;
System.infoForSystem(3,197).description = &quot;Dicebe is one of the most technologically-advanced systems in the galaxy, and is leading the drive to spread democracy throughout the Galactic Co-Operation of Planets.&quot;
System.infoForSystem(3,135).description = &quot;Raceedat is the galaxy&#39;s leading Communist system, and is in fierce economic rivalry with its democratic neighbour, Dicebe.&quot;
System.infoForSystem(3,135).station = &quot;raceedat-station&quot;
missionVariables.trident_down_planetinfo = &quot;SET&quot;}

this.setupSystems = function()

{	if(system.ID == 2) //Lavebe
	{if(system.countShipsWithRole(&quot;strelka&quot;) &lt; 2)
	system.legacy_addSystemShips(&quot;strelka&quot;, 1, 1.0)}	
	
	if(system.ID == 247) //Korshkov
	{if(system.countShipsWithRole(&quot;korshkov-station&quot;) == 0)
	{system.legacy_addShipsAtPrecisely(&quot;korshkov-station&quot;, 1, &quot;pwm&quot;, [179319.22, 88588.67, 81225.60])
	system.shipsWithRole(&quot;korshkov-station&quot;)[0].orientation = [1,0,0,0]
	system.legacy_addShipsAtPrecisely(&quot;korshkov-ad&quot;, 1, &quot;pwm&quot;, [179319.22, 88588.67, 71225.60])
	system.shipsWithRole(&quot;korshkov-ad&quot;)[0].orientation = [1,0,0,0]}
	}
	
	if(system.ID == 135) //Raceedat
	{if(system.countShipsWithRole(&quot;transit-station&quot;) == 0)
		{system.legacy_addShipsAtPrecisely(&quot;transit-station&quot;, 1, &quot;pwm&quot;, [35673.0, -7394.0, -34644.0])
		system.legacy_addShipsAtPrecisely(&quot;griff_buoy&quot;, 1, &quot;pwm&quot;, [35673.0, -7394.0, -44644.0])
		system.shipsWithRole(&quot;transit-station&quot;)[0].orientation = [1,0,0,0]}
	
	this.astromine = system.shipsWithRole(&quot;astromine&quot;)
	for (var i=0; i&lt;this.astromine.length; i++)
		{astromine[i].remove()}
		 		 
	if(system.countShipsWithRole(&quot;raceedat-astromine&quot;) == 0)
	system.legacy_addShipsAt(&quot;raceedat-astromine&quot;, 1, &quot;pwm&quot;, [-10424.80, -1980.55, -320651.47])}
	
	if(system.ID == 130) //Cebitiza
	{if(system.countShipsWithRole(&quot;tourist-info&quot;) == 0)
	system.legacy_addShipsAtPrecisely(&quot;tourist-info&quot;, 1, &quot;pwm&quot;, [91714.0, 10790.0, -43113.0])}
	
	if(system.ID == 179)
	{if(system.countShipsWithRole(&quot;commstation&quot;) == 0)
	{system.legacy_addShipsAtPrecisely(&quot;commstation&quot;, 1, &quot;pwm&quot;, [132178.52, -177615.34, 698054.56])
	system.legacy_addShipsWithinRadius(&quot;guarddrone&quot;, 6, &quot;pwm&quot;, [132178.52, -177615.34, 698054.56], 15000)
	system.legacy_addShipsWithinRadius(&quot;minesweeper&quot;, 6, &quot;pwm&quot;, [132178.52, -177615.34, 698054.56], 25000)}
	}
	
	if(system.ID == 85)
    { 
        if(system.countShipsWithRole(&quot;ergeso-casino&quot;) == 0)
			system.legacy_addShipsAtPrecisely(&quot;ergeso-casino&quot;, 1, &quot;pwm&quot;, [-28713.0, -31711.0, 9742.0])
			
    }	
}
</pre></td>
                </tr>
            </table>
        </a>
    </body>
</html>
