<html>
    <head>
        <title>Expansion Separated Lasers</title>
        <link rel="stylesheet" href="../style.css">
    </head>
    <body>
        <table border="0" width="100%">
            <tr>
                <td>Back to <a href='../index.html'>Index</a></td>
                <td align="right"><small>Page generated: Oct 11, 2023, 3:16:48 PM</small></td>
            </tr>
        </table>

        <h1>Expansion Separated Lasers</h1>

        <h2>Content</h2>
        <ul>
          
          <li><a href="#manifest">Manifest</a></li>
          <li><a href="#documentation">Documentation</a></li>
          <li><a href="#equipment">64 Equipment</a></li>
          <li><a href="#ships">0 Ships</a></li>
          <li><a href="#models">0 Models</a></li>
          <li><a href="#scripts">2 Scripts</a></li>
        </ul>


        <a name="manifest">
        <h2>Manifest</h2>
            <table border="1">
                <tr>
                    <th></th>
                    <th>from Expansion Manager's OXP list</th>
                    <th>from Expansion Manifest</th>
                </tr>
                <tr>
                    <td>Description</td>
                    <td>Multiple lasers will not heat up faster than single ones if there is at least 30m space between the mount points. Large ships can earn up to 5x firepower on broadsides! Multiple Pulse, Beam and Military Lasers, Eco Lasers with low energy usage and some Laser Cannons are also available in separated form. Press &#39;i&#39; for more info.

Ships with separated laser mounts: Anaconda (aft and sides), Boa II (aft), Caduceus, Cat, DTT War Lance, Ghavial, Hornet, Iguana, Krait, Pitviper II, Stormbrewer, Vector, Wolf I, Wolf II (aft) and more, as defined in Multiple Lasers OXP.

Broadsides (5 lasers on sides): DTT Atlas, Heart of Gold, Serpent Class Cruiser.
Forward broadsides (5 separated forward lasers): Far Arm Corsair, Far Arm Hunter.
Broadsides in all 4 views: Kirin, Maelstrom.

Sniper Gun and Heavy Sniper Gun are also separable in SG variants of ships if there is enough space between mounts but Sapper is not separable.

Check the wiki for details.</td>
                    <td>Multiple lasers will not heat up faster than single ones if there is at least 30m space between the mount points. Large ships can earn up to 5x firepower on broadsides! Multiple Pulse, Beam and Military Lasers, Eco Lasers with low energy usage and some Laser Cannons are also available in separated form. Press &#39;i&#39; for more info.

Ships with separated laser mounts: Anaconda (aft and sides), Boa II (aft), Caduceus, Cat, DTT War Lance, Ghavial, Hornet, Iguana, Krait, Pitviper II, Stormbrewer, Vector, Wolf I, Wolf II (aft) and more, as defined in Multiple Lasers OXP.

Broadsides (5 lasers on sides): DTT Atlas, Heart of Gold, Serpent Class Cruiser.
Forward broadsides (5 separated forward lasers): Far Arm Corsair, Far Arm Hunter.
Broadsides in all 4 views: Kirin, Maelstrom.

Sniper Gun and Heavy Sniper Gun are also separable in SG variants of ships if there is enough space between mounts but Sapper is not separable.

Check the wiki for details.</td>
                </tr>
                <tr>
                    <td>Identifier</td>
                    <td>oolite.oxp.Norby.Separated_Lasers</td>
                    <td>oolite.oxp.Norby.Separated_Lasers</td>
                </tr>
                <tr>
                    <td>Title</td>
                    <td>Separated Lasers</td>
                    <td>Separated Lasers</td>
                </tr>
                <tr>
                    <td>Category</td>
                    <td>Weapons</td>
                    <td>Weapons</td>
                </tr>
                <tr>
                    <td>Author</td>
                    <td>Norby</td>
                    <td>Norby</td>
                </tr>
                <tr>
                    <td>Version</td>
                    <td>1.2</td>
                    <td>1.2</td>
                </tr>
                <tr>
                    <td>Tags</td>
                    <td></td>
                    <td></td>
                </tr>
                <tr>
                    <td>Required Oolite Version</td>
                    <td></td>
                    <td></td>
                </tr>
                <tr>
                    <td>Maximum Oolite Version</td>
                    <td></td>
                    <td></td>
                </tr>
                <tr>
                    <td>Required Expansions</td>
                    <td>
                            <li>oolite.oxp.Norby.Multiple_Lasers:1.7</li>
                    </td>
                    <td>
                            <li>oolite.oxp.Norby.Multiple_Lasers:1.7</li>
                    </td>
                </tr>
                <tr>
                    <td>Optional Expansions</td>
                    <td>
                            <li>oolite.oxp.Norby.Eco_Lasers:1.0</li>
                            <li>oolite.oxp.Norby.LaserCannons:1.11</li>
                            <li>oolite.oxp.Norby.Sniper_Gun:1.1</li>
                    </td>
                    <td>
                            <li>oolite.oxp.Norby.Eco_Lasers:1.0</li>
                            <li>oolite.oxp.Norby.LaserCannons:1.11</li>
                            <li>oolite.oxp.Norby.Sniper_Gun:1.1</li>
                    </td>
                </tr>
                <tr>
                    <td>Conflict Expansions</td>
                    <td>
                    </td>
                    <td>
                    </td>
                </tr>
                <tr>
                    <td>Information URL</td>
                    <td><a target="_blank" href="http://wiki.alioth.net/index.php/Separated_Lasers">http://wiki.alioth.net/index.php/Separated_Lasers</a></td>
                    <td><a target="_blank" href="">n/a</a></td>
                </tr>
                <tr>
                    <td>Download URL</td>
                    <td><a target="_blank" href="https://wiki.alioth.net/img_auth.php/0/05/Separated_Lasers_1.2.oxz">https://wiki.alioth.net/img_auth.php/0/05/Separated_Lasers_1.2.oxz</a></td>
                    <td><a target="_blank" href="">n/a</a></td>
                </tr>
                <tr>
                    <td>License</td>
                    <td>CC BY-NC-SA 4</td>
                    <td>CC BY-NC-SA 4</td>
                </tr>
                <tr>
                    <td>File Size</td>
                    <td>n/a</td>
                </tr>
                <tr>
                    <td>Upload date</td>
                    <td>1610873213</td>
                </tr>
            </table>
                </a>

        <a name="documentation">
        <h2>Documentation</h2>
        <p>Also read <a href='http://wiki.alioth.net/index.php/Separated%20Lasers'>http://wiki.alioth.net/index.php/Separated%20Lasers</a></p>
        </a>

        <a name="equipment">          
        <h2>Equipment</h2>
            <table>
                <tr>
                    <th>Name</th>
                    <th>Visible</th>
                    <th>Cost [deci-credits]</th>
                    <th>Tech-Level</th>
                </tr>
                <tr>
                    <td><a href="../equipment/EQ_WEAPON_BEAM_LASER_2.html">Dual Beam Laser</a></td>
                    <td>yes</td>
                    <td align="right">12000</td>
                    <td align="center">5+</td>
                </tr>
                <tr>
                    <td><a href="../equipment/EQ_WEAPON_BEAM_LASER_3.html">Triple Beam Laser</a></td>
                    <td>yes</td>
                    <td align="right">13000</td>
                    <td align="center">5+</td>
                </tr>
                <tr>
                    <td><a href="../equipment/EQ_WEAPON_BEAM_LASER_4.html">Quad Beam Laser</a></td>
                    <td>yes</td>
                    <td align="right">14000</td>
                    <td align="center">5+</td>
                </tr>
                <tr>
                    <td><a href="../equipment/EQ_WEAPON_BEAM_LASER_5.html">Broadside Beam Laser</a></td>
                    <td>yes</td>
                    <td align="right">15000</td>
                    <td align="center">5+</td>
                </tr>
                <tr>
                    <td><a href="../equipment/EQ_WEAPON_CANNON_10_2.html">Dual Plasma Ray</a></td>
                    <td>yes</td>
                    <td align="right">420000</td>
                    <td align="center">12+</td>
                </tr>
                <tr>
                    <td><a href="../equipment/EQ_WEAPON_CANNON_10_3.html">Triple Plasma Ray</a></td>
                    <td>yes</td>
                    <td align="right">430000</td>
                    <td align="center">12+</td>
                </tr>
                <tr>
                    <td><a href="../equipment/EQ_WEAPON_CANNON_10_4.html">Quad Plasma Ray</a></td>
                    <td>yes</td>
                    <td align="right">440000</td>
                    <td align="center">12+</td>
                </tr>
                <tr>
                    <td><a href="../equipment/EQ_WEAPON_CANNON_10_5.html">Broadside Plasma Ray</a></td>
                    <td>yes</td>
                    <td align="right">450000</td>
                    <td align="center">12+</td>
                </tr>
                <tr>
                    <td><a href="../equipment/EQ_WEAPON_CANNON_11_2.html">Dual Artillery Cannon</a></td>
                    <td>yes</td>
                    <td align="right">520000</td>
                    <td align="center">12+</td>
                </tr>
                <tr>
                    <td><a href="../equipment/EQ_WEAPON_CANNON_11_3.html">Triple Artillery Cannon</a></td>
                    <td>yes</td>
                    <td align="right">530000</td>
                    <td align="center">12+</td>
                </tr>
                <tr>
                    <td><a href="../equipment/EQ_WEAPON_CANNON_11_4.html">Quad Artillery Cannon</a></td>
                    <td>yes</td>
                    <td align="right">540000</td>
                    <td align="center">12+</td>
                </tr>
                <tr>
                    <td><a href="../equipment/EQ_WEAPON_CANNON_11_5.html">Broadside Artillery Cannon</a></td>
                    <td>yes</td>
                    <td align="right">550000</td>
                    <td align="center">12+</td>
                </tr>
                <tr>
                    <td><a href="../equipment/EQ_WEAPON_CANNON_12_2.html">Dual Twin Artillery Cannon</a></td>
                    <td>yes</td>
                    <td align="right">1020000</td>
                    <td align="center">12+</td>
                </tr>
                <tr>
                    <td><a href="../equipment/EQ_WEAPON_CANNON_12_3.html">Triple Twin Artillery Cannon</a></td>
                    <td>yes</td>
                    <td align="right">1030000</td>
                    <td align="center">12+</td>
                </tr>
                <tr>
                    <td><a href="../equipment/EQ_WEAPON_CANNON_12_4.html">Quad Twin Artillery Cannon</a></td>
                    <td>yes</td>
                    <td align="right">1040000</td>
                    <td align="center">12+</td>
                </tr>
                <tr>
                    <td><a href="../equipment/EQ_WEAPON_CANNON_12_5.html">Broadside Twin Artillery Cannon</a></td>
                    <td>yes</td>
                    <td align="right">1050000</td>
                    <td align="center">12+</td>
                </tr>
                <tr>
                    <td><a href="../equipment/EQ_WEAPON_CANNON_2_2.html">Dual Mini Cannon</a></td>
                    <td>yes</td>
                    <td align="right">12000</td>
                    <td align="center">6+</td>
                </tr>
                <tr>
                    <td><a href="../equipment/EQ_WEAPON_CANNON_2_3.html">Triple Mini Cannon</a></td>
                    <td>yes</td>
                    <td align="right">13000</td>
                    <td align="center">6+</td>
                </tr>
                <tr>
                    <td><a href="../equipment/EQ_WEAPON_CANNON_2_4.html">Quad Mini Cannon</a></td>
                    <td>yes</td>
                    <td align="right">14000</td>
                    <td align="center">6+</td>
                </tr>
                <tr>
                    <td><a href="../equipment/EQ_WEAPON_CANNON_2_5.html">Broadside Mini Cannon</a></td>
                    <td>yes</td>
                    <td align="right">15000</td>
                    <td align="center">6+</td>
                </tr>
                <tr>
                    <td><a href="../equipment/EQ_WEAPON_CANNON_4_2.html">Dual Military Cannon</a></td>
                    <td>yes</td>
                    <td align="right">82000</td>
                    <td align="center">8+</td>
                </tr>
                <tr>
                    <td><a href="../equipment/EQ_WEAPON_CANNON_4_3.html">Triple Military Cannon</a></td>
                    <td>yes</td>
                    <td align="right">83000</td>
                    <td align="center">8+</td>
                </tr>
                <tr>
                    <td><a href="../equipment/EQ_WEAPON_CANNON_4_4.html">Quad Military Cannon</a></td>
                    <td>yes</td>
                    <td align="right">84000</td>
                    <td align="center">8+</td>
                </tr>
                <tr>
                    <td><a href="../equipment/EQ_WEAPON_CANNON_4_5.html">Broadside Military Cannon</a></td>
                    <td>yes</td>
                    <td align="right">85000</td>
                    <td align="center">8+</td>
                </tr>
                <tr>
                    <td><a href="../equipment/EQ_WEAPON_CANNON_5_2.html">Dual Twin Military Cannon</a></td>
                    <td>yes</td>
                    <td align="right">102000</td>
                    <td align="center">8+</td>
                </tr>
                <tr>
                    <td><a href="../equipment/EQ_WEAPON_CANNON_5_3.html">Triple Twin Military Cannon</a></td>
                    <td>yes</td>
                    <td align="right">103000</td>
                    <td align="center">8+</td>
                </tr>
                <tr>
                    <td><a href="../equipment/EQ_WEAPON_CANNON_5_4.html">Quad Twin Military Cannon</a></td>
                    <td>yes</td>
                    <td align="right">104000</td>
                    <td align="center">8+</td>
                </tr>
                <tr>
                    <td><a href="../equipment/EQ_WEAPON_CANNON_5_5.html">Broadside Twin Military Cannon</a></td>
                    <td>yes</td>
                    <td align="right">105000</td>
                    <td align="center">8+</td>
                </tr>
                <tr>
                    <td><a href="../equipment/EQ_WEAPON_CANNON_7_2.html">Dual Vulcan Cannon</a></td>
                    <td>yes</td>
                    <td align="right">250000</td>
                    <td align="center">12+</td>
                </tr>
                <tr>
                    <td><a href="../equipment/EQ_WEAPON_CANNON_7_3.html">Triple Vulcan Cannon</a></td>
                    <td>yes</td>
                    <td align="right">260000</td>
                    <td align="center">12+</td>
                </tr>
                <tr>
                    <td><a href="../equipment/EQ_WEAPON_CANNON_7_4.html">Quad Vulcan Cannon</a></td>
                    <td>yes</td>
                    <td align="right">270000</td>
                    <td align="center">12+</td>
                </tr>
                <tr>
                    <td><a href="../equipment/EQ_WEAPON_CANNON_7_5.html">Broadside Vulcan Cannon</a></td>
                    <td>yes</td>
                    <td align="right">280000</td>
                    <td align="center">12+</td>
                </tr>
                <tr>
                    <td><a href="../equipment/EQ_WEAPON_CANNON_EA_2.html">Dual Eco Artillery</a></td>
                    <td>yes</td>
                    <td align="right">4200000</td>
                    <td align="center">14+</td>
                </tr>
                <tr>
                    <td><a href="../equipment/EQ_WEAPON_CANNON_EA_3.html">Triple Eco Artillery</a></td>
                    <td>yes</td>
                    <td align="right">4300000</td>
                    <td align="center">14+</td>
                </tr>
                <tr>
                    <td><a href="../equipment/EQ_WEAPON_CANNON_EA_4.html">Quad Eco Artillery</a></td>
                    <td>yes</td>
                    <td align="right">4400000</td>
                    <td align="center">14+</td>
                </tr>
                <tr>
                    <td><a href="../equipment/EQ_WEAPON_CANNON_EA_5.html">Broadside Eco Artillery</a></td>
                    <td>yes</td>
                    <td align="right">4500000</td>
                    <td align="center">14+</td>
                </tr>
                <tr>
                    <td><a href="../equipment/EQ_WEAPON_CANNON_ECO_2.html">Dual Eco Cannon</a></td>
                    <td>yes</td>
                    <td align="right">402000</td>
                    <td align="center">10+</td>
                </tr>
                <tr>
                    <td><a href="../equipment/EQ_WEAPON_CANNON_ECO_3.html">Triple Eco Cannon</a></td>
                    <td>yes</td>
                    <td align="right">403000</td>
                    <td align="center">10+</td>
                </tr>
                <tr>
                    <td><a href="../equipment/EQ_WEAPON_CANNON_ECO_4.html">Quad Eco Cannon</a></td>
                    <td>yes</td>
                    <td align="right">404000</td>
                    <td align="center">10+</td>
                </tr>
                <tr>
                    <td><a href="../equipment/EQ_WEAPON_CANNON_ECO_5.html">Broadside Eco Cannon</a></td>
                    <td>yes</td>
                    <td align="right">405000</td>
                    <td align="center">10+</td>
                </tr>
                <tr>
                    <td><a href="../equipment/EQ_WEAPON_CANNON_HEAVY_SNIPER_GUN_2.html">Dual Heavy Sniper Gun</a></td>
                    <td>yes</td>
                    <td align="right">2020000</td>
                    <td align="center">12+</td>
                </tr>
                <tr>
                    <td><a href="../equipment/EQ_WEAPON_CANNON_HEAVY_SNIPER_GUN_3.html">Triple Heavy Sniper Gun</a></td>
                    <td>yes</td>
                    <td align="right">2030000</td>
                    <td align="center">12+</td>
                </tr>
                <tr>
                    <td><a href="../equipment/EQ_WEAPON_CANNON_HEAVY_SNIPER_GUN_4.html">Quad Heavy Sniper Gun</a></td>
                    <td>yes</td>
                    <td align="right">2040000</td>
                    <td align="center">12+</td>
                </tr>
                <tr>
                    <td><a href="../equipment/EQ_WEAPON_CANNON_HEAVY_SNIPER_GUN_5.html">Broadside Heavy Sniper Gun</a></td>
                    <td>yes</td>
                    <td align="right">2050000</td>
                    <td align="center">12+</td>
                </tr>
                <tr>
                    <td><a href="../equipment/EQ_WEAPON_CANNON_SNIPER_GUN_2.html">Dual Sniper Gun</a></td>
                    <td>yes</td>
                    <td align="right">202000</td>
                    <td align="center">12+</td>
                </tr>
                <tr>
                    <td><a href="../equipment/EQ_WEAPON_CANNON_SNIPER_GUN_3.html">Triple Sniper Gun</a></td>
                    <td>yes</td>
                    <td align="right">203000</td>
                    <td align="center">12+</td>
                </tr>
                <tr>
                    <td><a href="../equipment/EQ_WEAPON_CANNON_SNIPER_GUN_4.html">Quad Sniper Gun</a></td>
                    <td>yes</td>
                    <td align="right">204000</td>
                    <td align="center">12+</td>
                </tr>
                <tr>
                    <td><a href="../equipment/EQ_WEAPON_CANNON_SNIPER_GUN_5.html">Broadside Sniper Gun</a></td>
                    <td>yes</td>
                    <td align="right">205000</td>
                    <td align="center">12+</td>
                </tr>
                <tr>
                    <td><a href="../equipment/EQ_WEAPON_ECO_LASER_2.html">Dual Eco Laser</a></td>
                    <td>yes</td>
                    <td align="right">42000</td>
                    <td align="center">5+</td>
                </tr>
                <tr>
                    <td><a href="../equipment/EQ_WEAPON_ECO_LASER_3.html">Triple Eco Laser</a></td>
                    <td>yes</td>
                    <td align="right">43000</td>
                    <td align="center">5+</td>
                </tr>
                <tr>
                    <td><a href="../equipment/EQ_WEAPON_ECO_LASER_4.html">Quad Eco Laser</a></td>
                    <td>yes</td>
                    <td align="right">44000</td>
                    <td align="center">5+</td>
                </tr>
                <tr>
                    <td><a href="../equipment/EQ_WEAPON_ECO_LASER_5.html">Broadside Eco Laser</a></td>
                    <td>yes</td>
                    <td align="right">45000</td>
                    <td align="center">5+</td>
                </tr>
                <tr>
                    <td><a href="../equipment/EQ_WEAPON_ECO_REACTOR_2.html">Dual Eco Reactor</a></td>
                    <td>yes</td>
                    <td align="right">102000</td>
                    <td align="center">8+</td>
                </tr>
                <tr>
                    <td><a href="../equipment/EQ_WEAPON_ECO_REACTOR_3.html">Triple Eco Reactor</a></td>
                    <td>yes</td>
                    <td align="right">103000</td>
                    <td align="center">8+</td>
                </tr>
                <tr>
                    <td><a href="../equipment/EQ_WEAPON_ECO_REACTOR_4.html">Quad Eco Reactor</a></td>
                    <td>yes</td>
                    <td align="right">104000</td>
                    <td align="center">8+</td>
                </tr>
                <tr>
                    <td><a href="../equipment/EQ_WEAPON_ECO_REACTOR_5.html">Broadside Eco Reactor</a></td>
                    <td>yes</td>
                    <td align="right">105000</td>
                    <td align="center">10+</td>
                </tr>
                <tr>
                    <td><a href="../equipment/EQ_WEAPON_MILITARY_LASER_2.html">Dual Military Laser</a></td>
                    <td>yes</td>
                    <td align="right">62000</td>
                    <td align="center">11+</td>
                </tr>
                <tr>
                    <td><a href="../equipment/EQ_WEAPON_MILITARY_LASER_3.html">Triple Military Laser</a></td>
                    <td>yes</td>
                    <td align="right">63000</td>
                    <td align="center">11+</td>
                </tr>
                <tr>
                    <td><a href="../equipment/EQ_WEAPON_MILITARY_LASER_4.html">Quad Military Laser</a></td>
                    <td>yes</td>
                    <td align="right">64000</td>
                    <td align="center">11+</td>
                </tr>
                <tr>
                    <td><a href="../equipment/EQ_WEAPON_MILITARY_LASER_5.html">Broadside Military Laser</a></td>
                    <td>yes</td>
                    <td align="right">65000</td>
                    <td align="center">11+</td>
                </tr>
                <tr>
                    <td><a href="../equipment/EQ_WEAPON_PULSE_LASER_2.html">Dual Pulse Laser</a></td>
                    <td>yes</td>
                    <td align="right">4200</td>
                    <td align="center">4+</td>
                </tr>
                <tr>
                    <td><a href="../equipment/EQ_WEAPON_PULSE_LASER_3.html">Triple Pulse Laser</a></td>
                    <td>yes</td>
                    <td align="right">4300</td>
                    <td align="center">4+</td>
                </tr>
                <tr>
                    <td><a href="../equipment/EQ_WEAPON_PULSE_LASER_4.html">Quad Pulse Laser</a></td>
                    <td>yes</td>
                    <td align="right">4400</td>
                    <td align="center">4+</td>
                </tr>
                <tr>
                    <td><a href="../equipment/EQ_WEAPON_PULSE_LASER_5.html">Broadside Pulse Laser</a></td>
                    <td>yes</td>
                    <td align="right">4500</td>
                    <td align="center">4+</td>
                </tr>
            </table>
        </a>

        <a name="ships">    
        <h2>Ships</h2>
            This expansion declares no ships. 
        </a>

        <a name="models">    
        <h2>Models</h2>
            This expansion declares no models. 
        </a>

        <a name="scripts">    
        <h2>Scripts</h2>
            <table>
                <tr>
                    <th>Path</th>
                </tr>
                <tr>
                    <td valign="top">Scripts/separatedlasers-conditions.js</td>
                    <td><pre>&quot;use strict&quot;;
this.name	= &quot;separatedlasers-conditions&quot;;
this.author	= &quot;Norby&quot;;
this.copyright	= &quot;2016 Norby&quot;;
this.description= &quot;Lasers will not heat up faster if there is at least 30m space between multiple mounts&quot;;
this.licence	= &quot;CC BY-NC-SA 4.0&quot;;

//condition script
this.allowAwardEquipment = function(equipment, ship, context)
{
        if( !this.$SL ) { //save worldScript pointers into faster variables
                this.$SL = worldScripts.separatedlasers; //read once only
                this.$SG = worldScripts.snipergun;
                this.$LC = worldScripts.lasercannons;
        }

        // OXP hook to allow stations to forbid specific equipment
        if (context == &quot;purchase&quot; &amp;&amp; player.ship.dockedStation &amp;&amp; player.ship.dockedStation.scriptInfo[&quot;oolite-barred-equipment&quot;])
        {
                if (player.ship.dockedStation.scriptInfo[&quot;oolite-barred-equipment&quot;].indexOf(equipment) != -1)
                {
                        return false;
                }
        }

        // OXP hook to allow ships to forbid specific &quot;available to all&quot; equipment
        if (ship.scriptInfo &amp;&amp; ship.scriptInfo[&quot;oolite-barred-equipment&quot;] &amp;&amp; ship.scriptInfo[&quot;oolite-barred-equipment&quot;].indexOf(equipment) != -1)
        {
                return false;
        }

//      player.consoleMessage( eqKey+&quot; &quot;+ship+&quot; &quot;+context );//debug


        //check for multiple mounts
        var m = this.$SL._getMultiLevel(equipment);
        //chech for a proper multiple mount on this ship
        if( m &gt; 0 &amp;&amp; ship.weaponPositionForward.length != m
                &amp;&amp; ship.weaponPositionAft.length != m
                &amp;&amp; ship.weaponPositionPort.length != m
                &amp;&amp; ship.weaponPositionStarboard.length != m ) {

                if( m &lt; 5 ) return false; //dual, triple and quad lasers need exact match in mounts

                if( ship.weaponPositionForward.length &lt; m //allow broadside lasers at and over 5 mounts
                        &amp;&amp; ship.weaponPositionAft.length &lt; m
                        &amp;&amp; ship.weaponPositionPort.length &lt; m
                        &amp;&amp; ship.weaponPositionStarboard.length &lt; m )
                        return false;
        }
        //log(this.name, ship.name+&quot; &quot;+equipment+&quot; &quot;+context+&quot; m=&quot;+m); //debug


        //check if mounts are enough far from each other for separation
        var space = this.$SL._space(equipment);
        var a = this.$SL._Separated_Lasers(ship, this.$SL);
        if( !a || ( a[1] &lt; space &amp;&amp; a[2] &lt; space &amp;&amp; a[3] &lt; space &amp;&amp; a[4] &lt; space ) )
                return false; //for example mounts on Cobra3 not enough wide for separation


        //Sniper Gun is checked in its own script (need specific subEntity on the ship)
        if( equipment.indexOf(&quot;EQ_WEAPON_CANNON_SNIPER_GUN&quot;) &gt; -1
                || equipment.indexOf(&quot;EQ_WEAPON_CANNON_HEAVY_SNIPER_GUN&quot;) &gt; -1 ) {
                var w = this.$SG;
                if( !w ) return false;
                return( w._allowAwardSniperGun(equipment, ship, context, w) );
        }

        //exclude separated laser cannons when Laser Cannons OXP is not installed
        if( !this.$LC &amp;&amp; ( equipment.indexOf(&quot;EQ_WEAPON_CANNON_2_&quot;) &gt; -1
                || equipment.indexOf(&quot;EQ_WEAPON_CANNON_4_&quot;) &gt; -1
                || equipment.indexOf(&quot;EQ_WEAPON_CANNON_5_&quot;) &gt; -1
                || equipment.indexOf(&quot;EQ_WEAPON_CANNON_7_&quot;) &gt; -1
                || equipment.indexOf(&quot;EQ_WEAPON_CANNON_11_&quot;) &gt; -1
                || equipment.indexOf(&quot;EQ_WEAPON_CANNON_12_&quot;) &gt; -1  ) )
                return false;

        //Eco Artillery and Twin Cannons need as large ship as an Anaconda
        if( ship.mass &lt; 400000 &amp;&amp; equipment.indexOf(&quot;EQ_WEAPON_CANNON_EA&quot;) &gt; -1
                || equipment.indexOf(&quot;EQ_WEAPON_CANNON_5_&quot;) &gt; -1
                || equipment.indexOf(&quot;EQ_WEAPON_CANNON_12_&quot;) &gt; -1 ) return false;

        //Vulcan Cannon and Plasma Web need as large ship as a Python
        if( ship.mass &lt; 250000 &amp;&amp;
                (  equipment.indexOf(&quot;EQ_WEAPON_CANNON_7_&quot;) &gt; -1
                || equipment.indexOf(&quot;EQ_WEAPON_CANNON_9_&quot;) &gt; -1 ) ) return false;

        //Eco Reactor need a ship like Cobra Mark III
        if( ship.mass &lt; 130000 &amp;&amp;
                equipment.indexOf(&quot;EQ_WEAPON_ECO_REACTOR&quot;) &gt; -1 ) return false;

        //Eco Laser, Mini Cannon and Mini Plasma Ray fit into escort ships from 30t
        if( ship.mass &lt;= 30000 &amp;&amp;
                (  equipment.indexOf(&quot;EQ_WEAPON_ECO_LASER&quot;) &gt; -1
                || equipment.indexOf(&quot;EQ_WEAPON_CANNON_2_&quot;) &gt; -1
                || equipment.indexOf(&quot;EQ_WEAPON_CANNON_8_&quot;) &gt; -1 ) ) return false;

        //Other cannons for large ships only like Cobra Mark III
        if( equipment.indexOf(&quot;EQ_WEAPON_CANNON&quot;) &gt; -1 &amp;&amp; ship.mass &lt; 130000 ) return false;

        return true;
}
</pre></td>
                </tr>
                <tr>
                    <td valign="top">Scripts/separatedlasers.js</td>
                    <td><pre>&quot;use strict&quot;;
this.name	= &quot;separatedlasers&quot;;
this.author	= &quot;Norby&quot;;
this.copyright	= &quot;2016 Norby&quot;;
this.description= &quot;Lasers will not heat up faster if there is at least 30m space between multiple mounts&quot;;
this.licence	= &quot;CC BY-NC-SA 4.0&quot;;

//customizable properties
this.$Log = false; //log separated laser distances of ships when spawned

//worldscript events
this.startUpComplete = this.playerBoughtNewShip = function() {
        this._Replace_Lasers(player.ship, this, false); //check and replace lasers to separated if possible
}

this.shipSpawned = function(ship) {
        this._Replace_Lasers(ship, this, false); //check and replace NPC lasers to separated if possible
}

this.playerBoughtEquipment = function( equipment ) {
        if( equipment.indexOf(&quot;EQ_WEAPON_&quot;) &gt; -1 ) { //core lasers, laser cannons and other lasers in the future
                //check and replace new laser to separated
                //and replace back to basic laser if bought to not separated side
                this._Replace_Lasers(player.ship, this, true);
        }
}

//internal methods
this._Replace_Lasers = function(ship, w, refund) {  //check and replace lasers to separated if possible
    if( !ship || !ship.isValid ) return 0;
    if( !w ) var w = worldScripts.separatedlasers;
    var a = w._Separated_Lasers(ship, w);
    if( a ) {
        if( w.$Log ) log(w.name, ship.name+&quot; Separated laser distances: fw:&quot;+a[1]
                        +&quot; aft:&quot;+a[2]+&quot; port:&quot;+a[3]+&quot; sb:&quot;+a[4]);

//      log(w.name, equipmentKey+&quot; &quot;+datakey+&quot; &quot;+ship.forwardWeapon+&quot; &quot;
//              +ship.aftWeapon+&quot; &quot;+ship.portWeapon+&quot; &quot;+ship.starboardWeapon); //debug

        var eq, eq1, len, m, multi = false, p = player.ship;

        if( !ship.script ) ship.setScript(&quot;oolite-default-ship-script.js&quot;); //for sure
        var m = ship.script._cachedMultipleLasers; //read cached variable
        if( !m ) {
                var shipdata = Ship.shipDataForKey(ship.dataKey);
                if( shipdata &amp;&amp; shipdata[&quot;weapon_mount_mode&quot;] == &quot;multiply&quot; ) m = 1;
                else m = -1; //not multiple
                ship.script._cachedMultipleLasers = m; //store into a cache variable
        }
        if( m == 1 ) multi = true; //a must for separation

        if( ship.scriptInfo ) {
                var si = parseInt( ship.scriptInfo.separated_lasers );
                //separation is denied if shipdata contain script_info={separatedlasers=-1;};
                //separation need an empty side mount if script_info contain separatedlasers=1;
                if( si == -1 || si == 1 &amp;&amp; ship.portWeapon &amp;&amp; ship.starboardWeapon
                         //and need both side mounts stay without lasers if separatedlasers=2;
                        || si == 2 &amp;&amp; ( ship.portWeapon || ship.starboardWeapon ) ) {
                        multi = false; //deny separation
                }
        }

        //replace back to single laser if bought a separated one to not separated side
        //then replace single lasers to separated versions where there is enough space and money
        //use the laser match to the number of mounts but max.5
        //Dual, Triple, Quad or Broad Separated Pulse, Beam or Military Lasers,
        //Sniper Guns and some Laser Cannons

        if( ship.forwardWeapon ) {
            eq = ship.forwardWeapon.equipmentKey;
            if( multi ) len = ship.weaponPositionForward.length; else len = 1;
            //replace back to basic laser if bought to not separated side
            m = w._getMultiLevel(eq);
            if( m &gt; 1 &amp;&amp; ( Math.min(5, len) != m || !a[1] || a[1] &lt; w._space(eq) ) ) {
                eq1 = eq.substr(0, eq.length-2);
                //replace to single weapon without _2, _3, _4 or _5 at the end
                if( !EquipmentInfo.infoForKey( eq1 ) ) eq1 = eq; //for sure
                if( refund &amp;&amp; ship == p ) w._refund( eq, eq1, len, true ); //no refund during flight
                ship.forwardWeapon = eq1;
                eq = eq1;
                m = 1;
            }
            //replace single lasers to separated versions where there is enough space and money
            if( m &lt; 2 &amp;&amp; len &gt; 1 &amp;&amp; a[1] &amp;&amp; a[1] &gt;= w._space(eq) ) {
                eq1 = eq+&quot;_&quot;+Math.min(5, len); //max 5 (broadside)
                if( EquipmentInfo.infoForKey( eq1 ) ) { //not all weapons are separable
                    if( refund &amp;&amp; ship == p ) { 
                        //no refund for NPCs and during flight (Sapper-&gt;Sniper Gun)
                        if( w._refund( eq, eq1, len, true ) )
                            ship.forwardWeapon = eq1;
                    } else ship.forwardWeapon = eq1;
                }
            }
        }

        if( ship.aftWeapon ) {
            eq = ship.aftWeapon.equipmentKey;
            if( multi ) len = ship.weaponPositionAft.length; else len = 1;
            //replace back to basic laser if bought to not separated side
            m = w._getMultiLevel(eq);
            if( m &gt; 1 &amp;&amp; ( Math.min(5, len) != m || !a[2] || a[2] &lt; w._space(eq) ) ) {
                eq1 = eq.substr(0, eq.length-2);
                //replace to single weapon without _2, _3, _4 or _5 at the end
                if( !EquipmentInfo.infoForKey( eq1 ) ) eq1 = eq; //for sure
                if( refund &amp;&amp; ship == p ) w._refund( eq, eq1, len, true ); //no refund during flight
                ship.aftWeapon = eq1;
                eq = eq1;
                m = 1;
            }
            //replace single lasers to separated versions where there is enough space and money
            if( m &lt; 2 &amp;&amp; len &gt; 1 &amp;&amp; a[2] &amp;&amp; a[2] &gt;= w._space(eq) ) {
                eq1 = eq+&quot;_&quot;+Math.min(5, len); //max 5 (broadside)
                if( EquipmentInfo.infoForKey( eq1 ) ) { //not all weapons are separable
                    if( refund &amp;&amp; ship == p ) {
                        //no refund for NPCs and during flight (Sapper-&gt;Sniper Gun)
                        if( w._refund( eq, eq1, len, true ) )
                            ship.aftWeapon = eq1;
                    } else ship.aftWeapon = eq1;
                }
            }
        }

        if( ship.portWeapon ) {
            eq = ship.portWeapon.equipmentKey;
            if( multi ) len = ship.weaponPositionPort.length; else len = 1;
            //replace back to basic laser if bought to not separated side
            m = w._getMultiLevel(eq);
            if( m &gt; 1 &amp;&amp; ( Math.min(5, len) != m || !a[3] || a[3] &lt; w._space(eq) ) ) {
                eq1 = eq.substr(0, eq.length-2);
                //replace to single weapon without _2, _3, _4 or _5 at the end
                if( !EquipmentInfo.infoForKey( eq1 ) ) eq1 = eq; //for sure
                if( refund &amp;&amp; ship == p ) w._refund( eq, eq1, len, true ); //no refund during flight
                ship.portWeapon = eq1;
                eq = eq1;
                m = 1;
            }
            //replace single lasers to separated versions where there is enough space and money
            if( m &lt; 2 &amp;&amp; len &gt; 1 &amp;&amp; a[3] &amp;&amp; a[3] &gt;= w._space(eq) ) {
                eq1 = eq+&quot;_&quot;+Math.min(5, len); //max 5 (broadside)
                if( EquipmentInfo.infoForKey( eq1 ) ) { //not all weapons are separable
                    if( refund &amp;&amp; ship == p ) {
                        //no refund for NPCs and during flight (Sapper-&gt;Sniper Gun)
                        if( w._refund( eq, eq1, len, true ) )
                            ship.portWeapon = eq1;
                    } else ship.portWeapon = eq1;
                }
            }
        }

        if( ship.starboardWeapon ) {
            eq = ship.starboardWeapon.equipmentKey;
            if( multi ) len = ship.weaponPositionStarboard.length; else len = 1;
            //replace back to basic laser if bought to not separated side
            m = w._getMultiLevel(eq);
            if( m &gt; 1 &amp;&amp; ( Math.min(5, len) != m || !a[4] || a[4] &lt; w._space(eq) ) ) {
                eq1 = eq.substr(0, eq.length-2);
                //replace to single weapon without _2, _3, _4 or _5 at the end
                if( !EquipmentInfo.infoForKey( eq1 ) ) eq1 = eq; //for sure
                if( refund &amp;&amp; ship == p ) w._refund( eq, eq1, len, true ); //no refund during flight
                ship.starboardWeapon = eq1;
                eq = eq1;
                m = 1;
            }
            //replace single lasers to separated versions where there is enough space and money
            if( m &lt; 2 &amp;&amp; len &gt; 1 &amp;&amp; a[4] &amp;&amp; a[4] &gt;= w._space(eq) ) {
                eq1 = eq+&quot;_&quot;+Math.min(5, len); //max 5 (broadside)
                if( EquipmentInfo.infoForKey( eq1 ) ) { //not all weapons are separable
                    if( refund &amp;&amp; ship == p ) {
                        //no refund for NPCs and during flight (Sapper-&gt;Sniper Gun)
                        if( w._refund( eq, eq1, len, true ) )
                            ship.starboardWeapon = eq1;
                    } else ship.starboardWeapon = eq1;
                }
            }
        }
    }
}

this._getMultiLevel = function(equipment) { //get the multiplication level of a given weapon
        var m = 0;
        var end = equipment.substr(-2, 2); //the last two characters of equipmentKey
        if( end == &quot;_2&quot; &amp;&amp; equipment != &quot;EQ_WEAPON_CANNON_2&quot; //except single Ingram 3838C8 Mini Cannon
            &amp;&amp; equipment != &quot;EQ_WEAPON_GATLING_LASER_2&quot; ) m = 2; //and Gatling 2
        if( end == &quot;_3&quot; &amp;&amp; equipment != &quot;EQ_WEAPON_CANNON_3&quot; //except single Hassoni C38 Dual Cannon
            &amp;&amp; equipment != &quot;EQ_WEAPON_GATLING_LASER_3&quot; ) m = 3; //and Gatling 3
        if( end == &quot;_4&quot; &amp;&amp; equipment != &quot;EQ_WEAPON_CANNON_4&quot; //except single Lance &amp; Ferman Military Cannon
            &amp;&amp; equipment != &quot;EQ_WEAPON_GATLING_LASER_4&quot; ) m = 4; //and Gatling 4
        if( end == &quot;_5&quot; &amp;&amp; equipment != &quot;EQ_WEAPON_CANNON_5&quot; //except single LF38 Twin Military Cannon
            &amp;&amp; equipment != &quot;EQ_WEAPON_GATLING_LASER_5&quot; ) m = 5; //and Gatling 5
        return( m );
}

this._Separated_Lasers = function(ship, w) {  
        //return false if no separated mount, else return array of sides
        if( !w ) var w = worldScripts.separatedlasers;
        var a = [];
        a[1] = w._is_Separated_Mount(ship, 1, w); //forward
        a[2] = w._is_Separated_Mount(ship, 2, w); //aft
            a[3] = w._is_Separated_Mount(ship, 3, w); //port
        a[4] = w._is_Separated_Mount(ship, 4, w); //starboard
//      log(w.name, ship.name+&quot; Laser distances: fw:&quot;+a[1]+&quot; aft:&quot;+a[2]+&quot; port:&quot;+a[3]+&quot; sb:&quot;+a[4]);
        if( !a[1] &amp;&amp; !a[2] &amp;&amp; !a[3] &amp;&amp; !a[4] ) return false;
        else return a; //array of min. distances at sides where lasers are separated, false at other sides
}

this._is_Separated_Mount = function(ship, side, w) { //return false if this side is not separated
        if( !w ) var w = worldScripts.separatedlasers;
        var d = w._mount_Distance(ship, side, w);
        if( d &lt; 30 ) return false;
        else return d; //return min. distance if more than the minimally allowed for separated lasers
}

this._mount_Distance = function(ship, side, w) { //return 0 if only one mount, min. dist. if more.
        if( !w ) var w = worldScripts.separatedlasers;
        side = Math.floor(side);
        var array;
        if( !side || side &lt;= 1 || side &gt; 4 ) array = ship.weaponPositionForward;
        else if( side == 2 ) array = ship.weaponPositionAft;
        else if( side == 3 ) array = ship.weaponPositionPort;
        else array = ship.weaponPositionStarboard;
        var min = w._min_Distance(array);
        return min;
}

this._min_Distance = function(array) { //calculate min. dist. in the given array of Vector3Ds
        var min = 0;
        if( array &amp;&amp; array.length &gt; 1 ) for(var i = 0; i &lt; array.length; i++) {
                for(var j = i + 1; j &lt; array.length; j++) { //check against all remaining items
                        var d = 0;
                        if( array[i].distanceTo &amp;&amp; array[j].distanceTo )
                                d = array[i].distanceTo(array[j]);
                        if( d &gt; 0 &amp;&amp; min == 0 ) min = d;
                        else if( min &gt; 0 &amp;&amp; d &lt; min ) min = d;
//                      log(this.name, &quot;d:&quot;+d+&quot;min:&quot;+min+&quot; a[&quot;+i+&quot;]: &quot;+array[i]+&quot; a[&quot;+j+&quot;]:&quot;+array[j]);
                }
        }
//      log(this.name, &quot; array: &quot;+array+&quot; min.d:&quot;+min);
        return min;
}

this._refund = function(eq, eq1, length, msg) { 
        //refund weapon price, length is the size of multiple weapons array
        var f = 1;
        if( player.ship &amp;&amp; player.ship.dockedStation ) {
                var e = player.ship.dockedStation.equipmentPriceFactor;
                if( e &gt; 0 ) f = e;
        }
        if( 0 &lt; oolite.compareVersion(&quot;1.83&quot;) ) length = 1; //no multiple weapons before Oolite 1.83

        var refund = f * length * (EquipmentInfo.infoForKey( eq ).price
                - EquipmentInfo.infoForKey( eq1 ).price)/10;
        if( refund &lt; 0 &amp;&amp; player.credits &lt; -1 * refund ) {
                var m = EquipmentInfo.infoForKey( eq ).name 
                        + &quot; is not the best in this mount, but you have not &quot;
                        + (-1*refund) + &quot; credits to buy &quot; 
                        + EquipmentInfo.infoForKey( eq1 ).name+&quot;.&quot;;
                if(msg) player.consoleMessage(m, 10);
                log(this.name, &quot;Replace &quot;+eq+&quot; to &quot;+eq1+&quot; skipped, need &quot;
                        +refund+&quot;cr but you have &quot;+player.credits+&quot;cr only.&quot;);
                return( false );
        }
        player.credits += refund;
        var r = &quot;, &quot;+refund+&quot; credits refunded.&quot;;
        if( refund &lt; 0 ) r = &quot; for &quot; + (-1*refund) + &quot; credits.&quot;;
        var m = EquipmentInfo.infoForKey( eq ).name 
                + &quot; is not the best in this mount, replaced to &quot;
                + EquipmentInfo.infoForKey( eq1 ).name + r;
        if(msg) player.consoleMessage(m, 10);
        log(this.name, &quot;Replace &quot;+eq+&quot; to &quot;+eq1+&quot;, refund: &quot;+refund+&quot; cr&quot;);
        return( true );
}

this._space = function(eq) { //how much space need between weapon positions to be separated

        if( eq.indexOf(&quot;EQ_WEAPON_CANNON_5&quot;) &gt; -1 //Twin Military Cannon
                || eq.indexOf(&quot;EQ_WEAPON_CANNON_10&quot;) &gt; -1 //Plasma Ray
                || eq.indexOf(&quot;EQ_WEAPON_CANNON_12&quot;) &gt; -1 //Twin Artillery Cannon
                || eq.indexOf(&quot;EQ_WEAPON_CANNON_EA&quot;) &gt; -1 //Eco Artillery
                || eq.indexOf(&quot;EQ_WEAPON_ECO_REACTOR&quot;) &gt; -1 //Eco Reactor
                || eq.indexOf(&quot;EQ_WEAPON_CANNON_SNIPER_GUN&quot;) &gt; -1 ) //Sniper Gun
                return(50); //need 50m

        if( eq.indexOf(&quot;EQ_WEAPON_CANNON_HEAVY_SNIPER_GUN&quot;) &gt; -1 ) //Heavy Sniper Gun
                return(100); //need 100m

        return(30); //all others need 30m
}
</pre></td>
                </tr>
            </table>
        </a>
    </body>
</html>
