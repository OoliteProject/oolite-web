<html>
    <head>
        <title>Expansion Adder Mark II</title>
        <link rel="stylesheet" href="../style.css">
    </head>
    <body>
        <table border="0" width="100%">
            <tr>
                <td>Back to <a href='../index.html'>Index</a></td>
                <td align="right"><small>Page generated: Oct 11, 2023, 3:16:49 PM</small></td>
            </tr>
        </table>

        <h1>Expansion Adder Mark II</h1>

        <h2>Content</h2>
        <ul>
          <li><a href="#warnings">Warnings</a></li>
          <li><a href="#manifest">Manifest</a></li>
          <li><a href="#documentation">Documentation</a></li>
          <li><a href="#equipment">0 Equipment</a></li>
          <li><a href="#ships">14 Ships</a></li>
          <li><a href="#models">0 Models</a></li>
          <li><a href="#scripts">1 Scripts</a></li>
        </ul>

          <a name="warnings">
            <h2>Warnings</h2>
            <ol>
                <li>Tags mismatch between OXP Manifest and Expansion Manager at character position 0002 (RIGHT SQUARE BRACKET vs LATIN CAPITAL LETTER M)(&#39;[]&#39; vs &#39;[Marett Space Corporation]&#39;)</li>
            </ol>
          </a>

        <a name="manifest">
        <h2>Manifest</h2>
            <table border="1">
                <tr>
                    <th></th>
                    <th>from Expansion Manager's OXP list</th>
                    <th>from Expansion Manifest</th>
                </tr>
                <tr>
                    <td>Description</td>
                    <td>2 remakes of the legendary Adder Mk II. The Adder Mark II-R is a racer while the Adder Mark II-F is a fast, light fighter.</td>
                    <td>2 remakes of the legendary Adder Mk II. The Adder Mark II-R is a racer while the Adder Mark II-F is a fast, light fighter.</td>
                </tr>
                <tr>
                    <td>Identifier</td>
                    <td>oolite.oxp.zzz.Montana05.Adder_Mark_II</td>
                    <td>oolite.oxp.zzz.Montana05.Adder_Mark_II</td>
                </tr>
                <tr>
                    <td>Title</td>
                    <td>Adder Mark II</td>
                    <td>Adder Mark II</td>
                </tr>
                <tr>
                    <td>Category</td>
                    <td>Ships</td>
                    <td>Ships</td>
                </tr>
                <tr>
                    <td>Author</td>
                    <td>Ramon, Montana05</td>
                    <td>Ramon, Montana05</td>
                </tr>
                <tr>
                    <td>Version</td>
                    <td>0.50</td>
                    <td>0.50</td>
                </tr>
                <tr>
                    <td>Tags</td>
                    <td></td>
                    <td>Marett Space Corporation</td>
                </tr>
                <tr>
                    <td>Required Oolite Version</td>
                    <td></td>
                    <td></td>
                </tr>
                <tr>
                    <td>Maximum Oolite Version</td>
                    <td></td>
                    <td></td>
                </tr>
                <tr>
                    <td>Required Expansions</td>
                    <td>
                    </td>
                    <td>
                    </td>
                </tr>
                <tr>
                    <td>Optional Expansions</td>
                    <td>
                    </td>
                    <td>
                    </td>
                </tr>
                <tr>
                    <td>Conflict Expansions</td>
                    <td>
                    </td>
                    <td>
                    </td>
                </tr>
                <tr>
                    <td>Information URL</td>
                    <td><a target="_blank" href="https://wiki.alioth.net/index.php/Adder_Mk_II">https://wiki.alioth.net/index.php/Adder_Mk_II</a></td>
                    <td><a target="_blank" href="">n/a</a></td>
                </tr>
                <tr>
                    <td>Download URL</td>
                    <td><a target="_blank" href="https://wiki.alioth.net/img_auth.php/1/12/Oolite.oxp.zzz.Montana05.Adder_Mark_II.OXZ">https://wiki.alioth.net/img_auth.php/1/12/Oolite.oxp.zzz.Montana05.Adder_Mark_II.OXZ</a></td>
                    <td><a target="_blank" href="">n/a</a></td>
                </tr>
                <tr>
                    <td>License</td>
                    <td>CC BY-NC-SA 4.0</td>
                    <td>CC BY-NC-SA 4.0</td>
                </tr>
                <tr>
                    <td>File Size</td>
                    <td>n/a</td>
                </tr>
                <tr>
                    <td>Upload date</td>
                    <td>1664283760</td>
                </tr>
            </table>
                </a>

        <a name="documentation">
        <h2>Documentation</h2>
        <p>Also read <a href='http://wiki.alioth.net/index.php/Adder%20Mark%20II'>http://wiki.alioth.net/index.php/Adder%20Mark%20II</a></p>
        <h3>read_me.txt</h3>
        <pre>Overview
========

2 remakes of the legendary Adder Mk II:

The Adder Mark II-R (Racer) is a fast ship with enhanced injectors, used by couriers and professional racers alike. Some
commanders keep them as a secondary craft and use them for interplanetary trips.

The Adder Mark II-F is a light fighter, swift enough to outrun most other ships and therefore favored by 
hunters and assassins. 

History
=======

Marett Space Corporation was a small ship production company but blessed with a creative designer-team under the lead of
maestro Rufernus. Ruferenus, a former project-manager, left Benulobiweed Inc. in bad blood, rumors have it that he took 
some blueprints on his way out. His Adder MK II certainly had uncommon technology included, and the clients stood in line to
get one of this ships.

Business boomed until the ship factory became collateral damage in one of the endless civil wars. Unfortunately, this damage
included Ruferenus, parts of his team and the main database. There were whispers that the destruction of the shipyard and 
the death of Ruferenus were somehow arranged by Benulobiweed Inc. Security Department, but neither GalCop nor local 
authorities ever started even an investigation.

However, the production of the Adder Mk II ended for good and while sometimes you still could find a used 
Adder Mk II for sale, they became pretty rare and expensive.

The remaining members of the designer-team were tasked with the creation of a remake. Some months later 2 prototypes 
were introduced to the management, the Adder Mark II-R as a racer and the Adder Mark II-F as a fast, light fighter. 
With many key-data missing, it proved to be impossible to merge both versions into one.

Remarks
=======

The Adder Mark II is inspired by the Adder Mk II from Ramons Marett Space Corporation OXP. Since sadly there is no
license available, a remake and some adaption of the history were necessary.

Both ships are equipped with boosted injectors which offer higher speed, using more fuel and increase the maintenance costs.

The Adder Mark II-R focuses on speed, therefore the only standard weapon fit in the fore mount is a pulse laser.

Credits
=======

Ramon (original author, basic model and textures)
Griff (model and basic textures of the standard escape capsule)
another_commander (basic specular map of the standard escape capsule)

Requirements
============

Oolite V 1.88 or higher and a video card capable of supporting Oolite shaders.

Compatibility
=============

Ramons Marett Space Corporation OXP and Adder Mark II OXP could be installed together. However, the Adder Mk II
will become rare and more expensive.

Details
=======

For additional details, please check the wiki-page: https://wiki.alioth.net/index.php/Adder_Mark_II

License
=======

This work is licensed under Creative Commons Attribution Non-Commercial Share Alike 4.0 International (CC BY-NC-SA 4.0).
To view a copy of this license, visit https://creativecommons.org/licenses/by-nc-sa/4.0

Version History
===============

V 0.50 (Montana05, 2022/09/27)

    initial release
</pre>
        </a>

        <a name="equipment">          
        <h2>Equipment</h2>
            This expansion declares no equipment. This may be related to warnings.
        </a>

        <a name="ships">    
        <h2>Ships</h2>
            <table>
                <tr>
                    <th>Name</th>
                </tr>
                <tr>
                    <td><a href="../ships/MSC_adder_mark_IIF.html">Adder Mark II-F</a></td>
                </tr>
                <tr>
                    <td><a href="../ships/MSC_adder_mark_IIF_pirate.html">Adder Mark II-F</a></td>
                </tr>
                <tr>
                    <td><a href="../ships/MSC_adder_mark_IIF_player.html">MSC_adder_mark_IIF_player</a></td>
                </tr>
                <tr>
                    <td><a href="../ships/MSC_adder_mark_IIR.html">Adder Mark II-R</a></td>
                </tr>
                <tr>
                    <td><a href="../ships/MSC_adder_mark_IIR_player.html">MSC_adder_mark_IIR_player</a></td>
                </tr>
                <tr>
                    <td><a href="../ships/MSC_adder_mark_II_escape_capsule_std_blue.html">escape capsule</a></td>
                </tr>
                <tr>
                    <td><a href="../ships/MSC_adder_mark_II_escape_capsule_std_blue_assassin.html">escape capsule</a></td>
                </tr>
                <tr>
                    <td><a href="../ships/MSC_adder_mark_II_escape_capsule_std_blue_criminal.html">escape capsule</a></td>
                </tr>
                <tr>
                    <td><a href="../ships/MSC_adder_mark_II_escape_capsule_std_blue_pirate.html">escape capsule</a></td>
                </tr>
                <tr>
                    <td><a href="../ships/MSC_adder_mark_II_escape_capsule_std_red.html">escape capsule</a></td>
                </tr>
                <tr>
                    <td><a href="../ships/MSC_adder_mark_II_escape_capsule_std_red_criminal.html">escape capsule</a></td>
                </tr>
                <tr>
                    <td><a href="../ships/MSC_adder_mark_II_escape_capsule_std_red_pirate.html">escape capsule</a></td>
                </tr>
                <tr>
                    <td><a href="../ships/MSC_adder_mark_II_escape_capsule_std_red_racer.html">escape capsule</a></td>
                </tr>
                <tr>
                    <td><a href="../ships/MSC_adder_mark_II_escape_capsule_std_red_racer_criminal.html">escape capsule</a></td>
                </tr>
            </table>
        </a>

        <a name="models">    
        <h2>Models</h2>
            This expansion declares no models. This may be related to warnings.
        </a>

        <a name="scripts">    
        <h2>Scripts</h2>
            <table>
                <tr>
                    <th>Path</th>
                </tr>
                <tr>
                    <td valign="top">Scripts/MSC_adder_mark_II.js</td>
                    <td><pre>this.name			= &quot;MSC_adder_mark_II&quot;;
this.author			= &quot;Montana05&quot;;
this.description	= &quot;event handler for the Addder Mark II OXP&quot;;
this.version		= &quot;0.50&quot;;
this.copyright		= &quot;2022 Montana05&quot;;
this.licence		= &quot;CC BY-NC-SA 4.0&quot;;
&quot;use strict&quot;;

this.shipSpawned = function(ship)
{
	if(ship.dataKey.search(/MSC_adder_mark_II/i) &lt; 0 || ship.isPlayer)
	{
		return;
	}
	else
	{
		var shipType = ship.dataKey;
		var shipRole = ship.primaryRole;
		var cargoLoad = ship.cargoSpaceUsed;

		// setup escape pods
		if(ship.hasRole(&quot;escape-capsule&quot;))
		{
			let crewName = expandDescription(&quot;[nom]&quot;);
			let crewDescription = &quot;a crew member of an evacuated ship&quot;;
			let crewRole = &quot;hunter&quot;;  // the role is not particular important anymore, all data will be added by the script
			let crewRace = expandDescription(&quot;[MSC_adder_mark_II_races_scientific]&quot;);  // add a race to the crew members
			let crewRank = expandDescription(&quot;[MSC_adder_mark_II_crew_civil_small]&quot;);
			let crewInsurance = this.$getRndInteger(90, 450);
			let crewBounty = 0;
			
			switch(shipType) 
			{
				case &quot;MSC_adder_mark_II_escape_capsule_std_red&quot;:
				case &quot;MSC_adder_mark_II_escape_capsule_std_blue&quot;:

					crewName = (&quot;the &quot; + crewRace + &quot; &quot; + crewRank + &quot; &quot; + expandDescription(&quot;[nom]&quot;));
					crewDescription = &quot;a ship crew member&quot;;
					crewRole = &quot;trader&quot;;
					crewInsurance = this.$getRndInteger(90, 450);
					break;

				case &quot;MSC_adder_mark_II_escape_capsule_std_red_racer&quot;:
					
					crewName = (&quot;the &quot; + crewRace + &quot; Pilot &quot; + expandDescription(&quot;[nom]&quot;));
					crewDescription = &quot;a professional space racer&quot;;
					crewRole = &quot;trader&quot;;
					crewInsurance = this.$getRndInteger(135, 675);  // higher insurance for racers
					break;
				
				case &quot;MSC_adder_mark_II_escape_capsule_std_red_criminal&quot;:
				case &quot;MSC_adder_mark_II_escape_capsule_std_blue_criminal&quot;:
				
					crewName = (&quot;the &quot; + crewRace + &quot; &quot; + expandDescription(&quot;[nom]&quot;));
					crewDescription = &quot;a &quot; + expandDescription(&quot;[MSC_adder_mark_II_criminals]&quot;) +  &quot;wanted by GalCop police&quot;;
					crewRole = &quot;pirate&quot;;
					crewBounty = crewInsurance + (15 * system.government);  // stable governments pay extra bonus
					crewInsurance = 0;
					break;

				case &quot;MSC_adder_mark_II_escape_capsule_std_red_racer_criminal&quot;:
			
					crewName = (&quot;the &quot; + crewRace + &quot; Pilot &quot; + expandDescription(&quot;[nom]&quot;));
					crewDescription = &quot;a criminal space racer wanted by GalCop police&quot;;
					crewRole = &quot;pirate&quot;;
					crewInsurance = this.$getRndInteger(135, 675);  // higher insurance for racers
					crewBounty = crewInsurance + (15 * system.government);  // stable governments pay extra bonus
					crewInsurance = 0;

					if(shipRole == &quot;racer&quot;)
					{
						crewName = (&quot;the &quot; + crewRace + &quot; Pilot &quot; + expandDescription(&quot;[nom]&quot;));
					};
					break;	

				case &quot;MSC_adder_mark_II_escape_capsule_std_red_pirate&quot;:	
				case &quot;MSC_adder_mark_II_escape_capsule_std_blue_pirate&quot;:
				
					crewName = (&quot;the &quot; + crewRace + &quot; &quot; + expandDescription(&quot;[MSC_adder_mark_II_pirate_nicknames]&quot;) + expandDescription(&quot;[nom]&quot;));
					crewDescription = &quot;a &quot; + expandDescription(&quot;[MSC_adder_mark_II_criminals]&quot;) +  &quot;wanted by GalCop police&quot;;
					crewRole = &quot;pirate&quot;;
					crewBounty = (crewInsurance * 1.25) + (25 * system.government);  // stable governments pay extra bonus
					crewInsurance = 0;
					break;

				case &quot;MSC_adder_mark_II_escape_capsule_std_blue_assassin&quot;:

				crewName = (&quot;the &quot; + crewRace + &quot; &quot; + expandDescription(&quot;[nom]&quot;));
				crewDescription = &quot;a &quot; + expandDescription(&quot;[MSC_adder_mark_II_assassins_01]&quot;) + expandDescription(&quot;[MSC_adder_mark_II_assassins_02]&quot;) +  &quot;sought by Galactic Navy Intelligence&quot;;
				crewRole = &quot;pirate&quot;;
				crewBounty = (crewInsurance * 1.50) + (25 * system.government);  // stable governments pay extra bonus
				crewInsurance = 0;
				break;	
					
				default: 
	
					break;
			};

			ship.setCrew
			(
				{
					name: crewName,
					short_description: crewDescription,
					role: crewRole,
					species: crewRace,
					insurance: crewInsurance,
					bounty: crewBounty
				}
			);
			
			// removes individual roles
			ship.primaryRole = &quot;escape-capsule&quot;;
		}
		else
		{
			switch(shipRole) 
			{
				case &quot;trader-courier&quot;:
				case &quot;MSC_adder_mark_IIR&quot;:
				
					ship.primaryRole = &quot;trader-courier&quot;;
				
					if(cargoLoad == 0)
					{
						ship.adjustCargo(this.$KW_adder_mark_III_rare_cargo(), 1);
					};
					break;	
				
				case &quot;racer&quot;:
				case &quot;hunter-medium&quot;:
				case &quot;assassin-light&quot;:
				case &quot;pirate&quot;:
				case &quot;pirate-light-fighter&quot;:
				case &quot;MSC_adder_mark_IIF&quot;:
				case &quot;MSC_adder_mark_IIF_pirate&quot;:
				
					if(shipRole == &quot;MSC_adder_mark_IIF&quot;)
					{
						ship.primaryRole = &quot;hunter-medium&quot;;
					};

					if(shipRole == &quot;MSC_adder_mark_IIF_pirate&quot;)
					{
						ship.primaryRole = &quot;pirate&quot;;
					};
					
					if(cargoLoad == 0)
					{
						ship.adjustCargo(this.$KW_adder_mark_III_space_jockey_cargo(), 1);
					};
					break;

				default: 
	
					break;
			};
		};
		
		// if there is an existing script in shipDied time to move it
		ship.script.$MSC_adder_mark_II_shipDied_old = ship.script.shipDied;
		ship.script.shipDied = this.$MSC_adder_mark_II_shipDied;	
	};
};	

this.$MSC_adder_mark_II_shipDied = function $MSC_adder_mark_II_shipDied(whom, why) 
{
	if(this.ship.dataKey.search(/MSC_adder_mark_II/i) &lt; 0 || this.ship.hasRole(&quot;escape-capsule&quot;) || this.ship.isPlayer)
	{
		return;
	}
	else
	{
		this.name = &quot;MSC_adder_mark_II&quot;;
		let dice = worldScripts.KW_adder_mark_III;
		let diceRoll = dice.$getRndInteger;
				
		let shipRole = this.ship.primaryRole;
		let shipBounty = this.ship.bounty;
		let shipPos = this.ship.position;
		let MRP01 = 0;
		let criminalCrew = 0;
		let pirateCrew = 0;

		if(worldScripts[&quot;MRP01_ressource_spawn&quot;])  // Montanas Ressource Pack 01 OXP
		{
			MRP01 = 1;
		};
		
		if(shipBounty &gt; 7 &amp;&amp; shipBounty &lt; 15)
		{
			criminalCrew = 1;
		};

		if(shipBounty &gt; 14 || this.ship.isPirate)
		{
			pirateCrew = 1;
		};

		// if Montanas Ressource Pack 01 OXP is installed the containers from there are used, otherwise let the core-game handle it
		if(MRP01 == 1 &amp;&amp; this.ship.cargoSpaceUsed &gt; 0)
		{
			for(let i = this.ship.cargoList.length - 1 ; i &gt;= 0 ; --i)
			{
				let cargoType = this.ship.cargoList[i].commodity;
				let cargoPod = (&quot;MRP01_container_&quot; + cargoType);
				let cargoCount = this.ship.cargoList[i].quantity;
				
				system.addShips(cargoPod, cargoCount, shipPos);
			};
		};

		switch(shipRole) 
		{
			case &quot;trader-courier&quot;:
			
				if(criminalCrew == 1)
				{
					system.addShips(&quot;MSC_adder_mark_II_escape_capsule_std_red_criminal&quot;, 1, shipPos);
				}
				else if(pirateCrew == 1)
				{
					system.addShips(&quot;MSC_adder_mark_II_escape_capsule_std_red_pirate&quot;, 1, shipPos);
				}
				else
				{
					system.addShips(&quot;MSC_adder_mark_II_escape_capsule_std_red&quot;, 1, shipPos);
				};
			
				if(MRP01 == 1 &amp;&amp; diceRoll(1, 10) &gt; 8)
				{
					system.addShips(&quot;MRP01_container_cash&quot;, 1, shipPos);
				};
				break;

			case &quot;racer&quot;:
				
				if(criminalCrew == 1 || pirateCrew == 1)
				{
					system.addShips(&quot;MSC_adder_mark_II_escape_capsule_std_red_racer_criminal&quot;, 1, shipPos);
				}
				else
				{
					system.addShips(&quot;MSC_adder_mark_II_escape_capsule_std_red_racer&quot;, 1, shipPos);
				};

				case &quot;hunter-medium&quot;:
			
				if(criminalCrew == 1)
				{
					system.addShips(&quot;MSC_adder_mark_II_escape_capsule_std_blue_criminal&quot;, 1, shipPos);
				}
				else if(pirateCrew == 1)
				{
					system.addShips(&quot;MSC_adder_mark_II_escape_capsule_std_blue_pirate&quot;, 1, shipPos);
				}
				else
				{
					system.addShips(&quot;MSC_adder_mark_II_escape_capsule_std_blue&quot;, 1, shipPos);
				};

				if(MRP01 == 1 &amp;&amp; diceRoll(1, 10) &gt; 8)
				{
					system.addShips(&quot;MRP01_container_prisoners&quot;, 1, shipPos)
				};
				break;
			
			case &quot;pirate&quot;:
			case &quot;pirate-light-fighter&quot;:	

				system.addShips(&quot;MSC_adder_mark_II_escape_capsule_std_blue_pirate&quot;, 1, shipPos);
				
				if(MRP01 == 1 &amp;&amp; diceRoll(1, 10) &gt; 9)
				{
					system.addShips(&quot;MRP01_container_cash&quot;, 1, shipPos);
				};
				break;

			case &quot;assassin-light&quot;:

				system.addShips(&quot;MSC_adder_mark_II_escape_capsule_std_blue_assassin&quot;, 1, shipPos);
				
				if(MRP01 == 1 &amp;&amp; diceRoll(1, 10) &gt; 9)
				{
					system.addShips(&quot;MRP01_container_cash&quot;, 1, shipPos);
				};
				break;
	
			default:
				
				break;
		};
	};

	if(this.ship.script.$MSC_adder_mark_II_shipDied_old)
	{
		this.ship.script.$MSC_adder_mark_II_old(whom, why);
	};
};

this.$KW_adder_mark_III_rare_cargo = function()
{
	const rare_cargo_array = [&quot;gold&quot;, &quot;platinum&quot;, &quot;gem_stones&quot;];

	// medicine is part of several OXP&#39;s therefore a check of the market is required
	let goods = system.mainStation.market;
	for(let i in goods) 
	{
		if(goods[i].key == [&quot;medicine&quot;] &amp;&amp; rare_cargo_array.indexOf(&quot;medicine&quot;) &lt; 0)
		{
			rare_cargo_array.push(&quot;medicine&quot;);
		};
	}; 
	
	// Montanas Ressource Pack 01 OXP
	if(worldScripts[&quot;MRP01_ressource_spawn&quot;] &amp;&amp; rare_cargo_array.indexOf(&quot;quirium_crystal&quot;) &lt; 0)
	{
		rare_cargo_array.push(&quot;quirium_crystal&quot;);
	};

	// Dictators OXP 2.0
	if(worldScripts[&quot;dictators_clergy_artifacts&quot;] &amp;&amp; rare_cargo_array.indexOf(&quot;quirium_crystal&quot;) &lt; 0)
	{
		rare_cargo_array.push(&quot;holy_artifacts&quot;);
	};
	
	let rare_cargo = 
	rare_cargo_array[Math.floor(Math.random() * rare_cargo_array.length)];
		
	return (rare_cargo);
};

// food, medicine, booze and guns, what else you need for your trip ? :P
this.$KW_adder_mark_III_space_jockey_cargo = function()
{
	const space_jockey_cargo_array = [&quot;firearms&quot;, &quot;food&quot;, &quot;liquor_wines&quot;];

	 // Darkside Moonshine Distillery OXP
	if(worldScripts[&quot;witchfire-populator&quot;] &amp;&amp; space_jockey_cargo_array.indexOf(&quot;witchfire_whiskey&quot;) &lt; 0)
	{
		space_jockey_cargo_array.push(&quot;witchfire_whiskey&quot;);
	};
	
	// medicine is part of several OXP&#39;s therefore a check of the market is required
	if(system.mainStation)
	{
		let goods = system.mainStation.market;
		for(let i in goods) 
		{
			if(goods[i].key == [&quot;medicine&quot;] &amp;&amp; space_jockey_cargo_array.indexOf(&quot;medicine&quot;) &lt; 0)
			{
				space_jockey_cargo_array.push(&quot;medicine&quot;);
			};
		};
	}; 

	let space_jockey_cargo = 
	space_jockey_cargo_array[Math.floor(Math.random() * space_jockey_cargo_array.length)];

	return (space_jockey_cargo);
};

this.$getRndInteger = function(min, max)
{
	return (Math.floor(Math.random() * (max - min + 1) ) + min);
};
</pre></td>
                </tr>
            </table>
        </a>
    </body>
</html>
