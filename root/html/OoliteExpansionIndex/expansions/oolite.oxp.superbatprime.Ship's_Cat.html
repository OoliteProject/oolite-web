<html>
    <head>
        <title>Expansion Ship&#39;s Cat</title>
        <link rel="stylesheet" href="../style.css">
    </head>
    <body>
        <table border="0" width="100%">
            <tr>
                <td>Back to <a href='../index.html'>Index</a></td>
                <td align="right"><small>Page generated: Oct 11, 2023, 3:16:49 PM</small></td>
            </tr>
        </table>

        <h1>Expansion Ship&#39;s Cat</h1>

        <h2>Content</h2>
        <ul>
          <li><a href="#warnings">Warnings</a></li>
          <li><a href="#manifest">Manifest</a></li>
          <li><a href="#documentation">Documentation</a></li>
          <li><a href="#equipment">9 Equipment</a></li>
          <li><a href="#ships">0 Ships</a></li>
          <li><a href="#models">0 Models</a></li>
          <li><a href="#scripts">1 Scripts</a></li>
        </ul>

          <a name="warnings">
            <h2>Warnings</h2>
            <ol>
                <li>Found XML equipment list</li>
            </ol>
          </a>

        <a name="manifest">
        <h2>Manifest</h2>
            <table border="1">
                <tr>
                    <th></th>
                    <th>from Expansion Manager's OXP list</th>
                    <th>from Expansion Manifest</th>
                </tr>
                <tr>
                    <td>Description</td>
                    <td>Adds 9 individual ship&#39;s cats for purchase.</td>
                    <td>Adds 9 individual ship&#39;s cats for purchase.</td>
                </tr>
                <tr>
                    <td>Identifier</td>
                    <td>oolite.oxp.superbatprime.Ship&#39;s_Cat</td>
                    <td>oolite.oxp.superbatprime.Ship&#39;s_Cat</td>
                </tr>
                <tr>
                    <td>Title</td>
                    <td>Ship&#39;s Cat</td>
                    <td>Ship&#39;s Cat</td>
                </tr>
                <tr>
                    <td>Category</td>
                    <td>Ambience</td>
                    <td>Ambience</td>
                </tr>
                <tr>
                    <td>Author</td>
                    <td>superbatprime</td>
                    <td>superbatprime</td>
                </tr>
                <tr>
                    <td>Version</td>
                    <td>1.1.0</td>
                    <td>1.1.0</td>
                </tr>
                <tr>
                    <td>Tags</td>
                    <td></td>
                    <td></td>
                </tr>
                <tr>
                    <td>Required Oolite Version</td>
                    <td></td>
                    <td></td>
                </tr>
                <tr>
                    <td>Maximum Oolite Version</td>
                    <td></td>
                    <td></td>
                </tr>
                <tr>
                    <td>Required Expansions</td>
                    <td>
                    </td>
                    <td>
                    </td>
                </tr>
                <tr>
                    <td>Optional Expansions</td>
                    <td>
                    </td>
                    <td>
                    </td>
                </tr>
                <tr>
                    <td>Conflict Expansions</td>
                    <td>
                    </td>
                    <td>
                    </td>
                </tr>
                <tr>
                    <td>Information URL</td>
                    <td><a target="_blank" href="http://aegidian.org/bb/viewtopic.php?f=4&amp;t=13034">http://aegidian.org/bb/viewtopic.php?f=4&amp;t=13034</a></td>
                    <td><a target="_blank" href="">n/a</a></td>
                </tr>
                <tr>
                    <td>Download URL</td>
                    <td><a target="_blank" href="https://wiki.alioth.net/img_auth.php/8/84/Ships_cat_alpha_1.1.0.oxz">https://wiki.alioth.net/img_auth.php/8/84/Ships_cat_alpha_1.1.0.oxz</a></td>
                    <td><a target="_blank" href="test.com.au">test.com.au</a></td>
                </tr>
                <tr>
                    <td>License</td>
                    <td>CC-BY-NC-SA 3.0</td>
                    <td>CC-BY-NC-SA 3.0</td>
                </tr>
                <tr>
                    <td>File Size</td>
                    <td>n/a</td>
                </tr>
                <tr>
                    <td>Upload date</td>
                    <td>1610873351</td>
                </tr>
            </table>
                </a>

        <a name="documentation">
        <h2>Documentation</h2>
        <p>Also read <a href='http://wiki.alioth.net/index.php/Ship&#39;s%20Cat'>http://wiki.alioth.net/index.php/Ship&#39;s%20Cat</a></p>
        <h3>readme.txt</h3>
        <pre>Ship&#39;s Cat WiP OXP 1.0.1

This work is licensed under the Creative Commons Attribution-NonCommercial-ShareAlike 3.0 Unported License. 
To view a copy of this license, visit http://creativecommons.org/licenses/by-nc-sa/3.0/ or send a letter to Creative Commons, 444 Castro Street, Suite 900, Mountain View, California, 94041, USA.


Features.

-Adds various ship&#39;s cats for purchase.

-Includes some famous SciFi ship&#39;s cats and some real life ship&#39;s cats.

-Shipboard animals can be purchased at any system station.

-Some are picky about who they fly with.

-They&#39;re not all cats.


This OXP is a work in progress.
Please feel free to improve and expand the functionality of this OXP, more cats can be added, it still demands several obvious features beyond my ability.

Proposed Features.

-Cat&#39;s purr/mew during long flights / either as console messages or (preferably) sounds

-Cat&#39;s react to alert levels / attacks

-Interaction between multiple pets onboard (play/fight/?)

-Cat&#39;s might have special abilities (sometimes identify criminals/bounty hunters by hissing/become uneasy when pirates are around (shortly out of sight) )
 This might be hard to balance

-Influence the flight controls when playing/in panic/...

-Eating food?

-Pictures!
</pre>
        </a>

        <a name="equipment">          
        <h2>Equipment</h2>
            <table>
                <tr>
                    <th>Name</th>
                    <th>Visible</th>
                    <th>Cost [deci-credits]</th>
                    <th>Tech-Level</th>
                </tr>
                <tr>
                    <td><a href="../equipment/EQ_SHIPS_CAT_1.html">Ship&#39;s Cat: Jones</a></td>
                    <td>yes</td>
                    <td align="right">1000</td>
                    <td align="center">100+</td>
                </tr>
                <tr>
                    <td><a href="../equipment/EQ_SHIPS_CAT_2.html">Ship&#39;s Cat: Spot</a></td>
                    <td>yes</td>
                    <td align="right">1000</td>
                    <td align="center">100+</td>
                </tr>
                <tr>
                    <td><a href="../equipment/EQ_SHIPS_CAT_3.html">Ship&#39;s Cat: Sparks</a></td>
                    <td>yes</td>
                    <td align="right">2000</td>
                    <td align="center">100+</td>
                </tr>
                <tr>
                    <td><a href="../equipment/EQ_SHIPS_CAT_4.html">Ship&#39;s Cat: Lucifer</a></td>
                    <td>yes</td>
                    <td align="right">1000</td>
                    <td align="center">100+</td>
                </tr>
                <tr>
                    <td><a href="../equipment/EQ_SHIPS_CAT_5.html">Ship&#39;s Cat: Stray</a></td>
                    <td>yes</td>
                    <td align="right">0</td>
                    <td align="center">100+</td>
                </tr>
                <tr>
                    <td><a href="../equipment/EQ_SHIPS_CAT_6.html">Ship&#39;s Cat: The Captain</a></td>
                    <td>yes</td>
                    <td align="right">1000</td>
                    <td align="center">100+</td>
                </tr>
                <tr>
                    <td><a href="../equipment/EQ_SHIPS_CAT_7.html">Ship&#39;s Cat: Smivs</a></td>
                    <td>yes</td>
                    <td align="right">1000</td>
                    <td align="center">100+</td>
                </tr>
                <tr>
                    <td><a href="../equipment/EQ_SHIPS_CAT_8.html">Ship&#39;s Cat: Tiddles</a></td>
                    <td>yes</td>
                    <td align="right">1000</td>
                    <td align="center">100+</td>
                </tr>
                <tr>
                    <td><a href="../equipment/EQ_SHIPS_CAT_9.html">Ship&#39;s Dog: Peasbody</a></td>
                    <td>yes</td>
                    <td align="right">1000</td>
                    <td align="center">100+</td>
                </tr>
            </table>
        </a>

        <a name="ships">    
        <h2>Ships</h2>
            This expansion declares no ships. This may be related to warnings.
        </a>

        <a name="models">    
        <h2>Models</h2>
            This expansion declares no models. This may be related to warnings.
        </a>

        <a name="scripts">    
        <h2>Scripts</h2>
            <table>
                <tr>
                    <th>Path</th>
                </tr>
                <tr>
                    <td valign="top">Config/script.js</td>
                    <td><pre>&quot;use strict&quot;;

this.name            = &quot;whichcat&quot;;
this.author          = &quot;Commander McLane, Superbat Prime, v4hn&quot;;
this.copyright       = &quot;CC-by-nc-sa 3.0&quot;;
this.description     = &quot;script for making various ships cats available for purchase&quot;;
this.version         = &quot;1.1&quot;;

// probability that a cat is available in a station
// keep in mind that even if a cat is available,
// it might not be available to _you_ because of the cat&#39;s preferences
this._catProbability = 0.3;

// So the average cat will die the ninth time it&#39;s shot :-)
this._catDiesProbability = 0.11;


this._countCats= function()
{
    var i= 0;
    while(EquipmentInfo.infoForKey(&quot;EQ_SHIPS_CAT_&quot; + (i+1).toString()))
        ++i;
    this._number_of_cats= i;
}
// count cats once when loading the oxp
this._countCats()


// load/save currently available cat
this.startUp= function()
{
    this._cat= missionVariables.whichcat_cat;
    if(!this._cat || this._cat &lt;= 0 || this._cat &gt; this._number_of_cats){
        this._drawRandomCat()
    }
}
this.playerWillSaveGame= function()
{
    missionVariables.whichcat_cat= this._cat;
}


this._drawRandomCat= function()
{
    var choice= Math.ceil(Math.random() * (this._number_of_cats / this._catProbability) );

    // either a valid cat or none(i.e. _number_of_cats+1)
    this._cat= Math.min( choice, this._number_of_cats+1 );

    // make this._cat available and disable all others
    var i= 1;
    var catit;
    while( catit= EquipmentInfo.infoForKey(&quot;EQ_SHIPS_CAT_&quot; + i.toString()) ){
        if( i == this._cat )
            catit.effectiveTechLevel= 0;
        else
            catit.effectiveTechLevel= null;
        ++i;
    }
}

// whenever the player docks, a new cat might become available
this.shipDockedWithStation= function(station)
{
    this._drawRandomCat();
}


this.equipmentDamaged= function(equipment)
{
    if(typeof equipment === &quot;string&quot;){
        equipment= EquipmentInfo.infoForKey(equipment)
    }

    if( equipment.equipmentKey.indexOf(&quot;EQ_SHIPS_CAT_&quot;) != 0 ){
        return;
    }

    if(player.ship.equipmentStatus(equipment) !== &quot;EQUIPMENT_UNAVAILABLE&quot; &amp;&amp; player.ship.equipmentStatus(equipment) !== &quot;EQUIPMENT_DAMAGED&quot;){
        return;
    }

    if( Math.random() &lt; this._catDiesProbability ){
        player.ship.removeEquipment(equipment);
        // remove &quot;Ship&#39;s Cat/Dog: &quot; prefix
        var cats_name= equipment.name.substr(equipment.name.indexOf(&quot;:&quot;)+1).trim();
        player.consoleMessage(cats_name + &quot; has been killed!&quot;);
    }
}
</pre></td>
                </tr>
            </table>
        </a>
    </body>
</html>
