<html>
    <head>
        <title>Expansion Technical Reference Library</title>
        <link rel="stylesheet" href="../style.css">
    </head>
    <body>
        <table border="0" width="100%">
            <tr>
                <td>Back to <a href='../index.html'>Index</a></td>
                <td align="right"><small>Page generated: Oct 11, 2023, 3:16:49 PM</small></td>
            </tr>
        </table>

        <h1>Expansion Technical Reference Library</h1>

        <h2>Content</h2>
        <ul>
          
          <li><a href="#manifest">Manifest</a></li>
          <li><a href="#documentation">Documentation</a></li>
          <li><a href="#equipment">2 Equipment</a></li>
          <li><a href="#ships">0 Ships</a></li>
          <li><a href="#models">0 Models</a></li>
          <li><a href="#scripts">1 Scripts</a></li>
        </ul>


        <a name="manifest">
        <h2>Manifest</h2>
            <table border="1">
                <tr>
                    <th></th>
                    <th>from Expansion Manager's OXP list</th>
                    <th>from Expansion Manifest</th>
                </tr>
                <tr>
                    <td>Description</td>
                    <td>Upgrade to Scanner Targetting Enhancement to show targeted ship&#39;s specs.</td>
                    <td>Upgrade to Scanner Targetting Enhancement to show targeted ship&#39;s specs.</td>
                </tr>
                <tr>
                    <td>Identifier</td>
                    <td>oolite.oxp.spara.TechnicalReferenceLibrary</td>
                    <td>oolite.oxp.spara.TechnicalReferenceLibrary</td>
                </tr>
                <tr>
                    <td>Title</td>
                    <td>Technical Reference Library</td>
                    <td>Technical Reference Library</td>
                </tr>
                <tr>
                    <td>Category</td>
                    <td>Equipments</td>
                    <td>Equipments</td>
                </tr>
                <tr>
                    <td>Author</td>
                    <td>Spara</td>
                    <td>Spara</td>
                </tr>
                <tr>
                    <td>Version</td>
                    <td>1.0.1</td>
                    <td>1.0.1</td>
                </tr>
                <tr>
                    <td>Tags</td>
                    <td></td>
                    <td></td>
                </tr>
                <tr>
                    <td>Required Oolite Version</td>
                    <td></td>
                    <td></td>
                </tr>
                <tr>
                    <td>Maximum Oolite Version</td>
                    <td></td>
                    <td></td>
                </tr>
                <tr>
                    <td>Required Expansions</td>
                    <td>
                    </td>
                    <td>
                    </td>
                </tr>
                <tr>
                    <td>Optional Expansions</td>
                    <td>
                    </td>
                    <td>
                    </td>
                </tr>
                <tr>
                    <td>Conflict Expansions</td>
                    <td>
                    </td>
                    <td>
                    </td>
                </tr>
                <tr>
                    <td>Information URL</td>
                    <td><a target="_blank" href="http://wiki.alioth.net/index.php/Technical_Reference_Library">http://wiki.alioth.net/index.php/Technical_Reference_Library</a></td>
                    <td><a target="_blank" href="">n/a</a></td>
                </tr>
                <tr>
                    <td>Download URL</td>
                    <td><a target="_blank" href="https://wiki.alioth.net/img_auth.php/8/82/TechnicalReferenceLibrary-1.0.1.oxz">https://wiki.alioth.net/img_auth.php/8/82/TechnicalReferenceLibrary-1.0.1.oxz</a></td>
                    <td><a target="_blank" href="">n/a</a></td>
                </tr>
                <tr>
                    <td>License</td>
                    <td>CC-BY-NC-SA 3.0</td>
                    <td>CC-BY-NC-SA 3.0</td>
                </tr>
                <tr>
                    <td>File Size</td>
                    <td>n/a</td>
                </tr>
                <tr>
                    <td>Upload date</td>
                    <td>1610873349</td>
                </tr>
            </table>
                </a>

        <a name="documentation">
        <h2>Documentation</h2>
        <p>Also read <a href='http://wiki.alioth.net/index.php/Technical%20Reference%20Library'>http://wiki.alioth.net/index.php/Technical%20Reference%20Library</a></p>
        <h3>technical_reference_library_readme_&amp;_license.txt</h3>
        <pre>Technical Reference Library OXP ver 1.0.1 (23.3.2013)

Author: spara (Mika Spåra)

_The_Story_

Mrs Ming (Head of our marketing and fundraising department) from Spara, PrOog &amp; Ming Agency had to pull lots of strings to get all the biggest ship manufacturers to give out technical specifications of their ships commonly seen in the space lines. Funnily, when the ball got rolling, manufacturers started to call us. We did not anticipate such a high level of interest. Suddenly every single company that had something to do with ships wanted to sponsor us. The deal we did with them was that Technical Reference Library will be a free bundle to every STE upgrade sold anywhere. The catch is, that every sponsor wants their name to be seen. That&#39;s the price for it to be free. We don&#39;t complain, as this liberated resources for Mr PrOog (Head of our R&amp;D department) to develop an equipment that links Technical Reference Library to the hud. That piece how ever is not free as we were not ready to show sponsor messages in the hud. The price is set to a reasonable 1250 credits and the equipment is available from any TL12 system.

Mr Spara (CEO) is quite happy with the results of his team.

_Features_

* Free STE upgrade that will show information of spacecrafts via a primable equioment &quot;Ship Identifier&quot;. (lock ident to a spacecraft, select the correct equipment with shift-n, activate with n or b)
* Boughtable equipment that will show the same information in the hud when activated. (lock ident to a spacecraft, select the correct equipment with shift-n, activate with n)

_Which_spacefraft_are_identified_

* Entities with scan classes &quot;CLASS_NEUTRAL&quot;, &quot;CLASS_MILITARY&quot;, &quot;CLASS_POLICE&quot; and &quot;CLASS_THARGOID&quot; are identified as spacecrafts.
* Entities with scan classes &quot;CLASS_MILITARY&quot;, &quot;CLASS_POLICE&quot; and &quot;CLASS_THARGOID&quot; are not included in the Reference Library. Military and Police are thought to be classified information and Thargoid ships are not made by known shipmakers.
* In addition, Constrictor, ships from Aliens oxp, Black Monk Gunships, ships with the role bigTrader, Green Gecko and ships from Capisastra oxp are not included in the library.

_Information_for_oxp_makers_

* Ships with script info &quot;classifiedShip = true&quot; are not included in the library
* A ship can be declared classified from a script by calling worldScripts.tech_ref_lib.$addClassifiedRole(&quot;foo&quot;), where &quot;foo&quot; is the special role of the ship.
* A ship can be declassified from a script by calling worldScripts.tech_ref_lib.$removeClassifiedRole(&quot;foo&quot;), where &quot;foo&quot; is the special role of the ship.

_Requirements_

Oolite version 1.77.

_Credits_

* Technical drawings from Mandoman are used in the background graphics

_Installing_

Install the OXP by copying technical_reference_library.oxp to your AddOns-folder.

------

This work is licensed under the Creative Commons Attribution-Noncommercial-Share Alike 3.0 Unported License. To view a copy of this license, visit http://creativecommons.org/licenses/by-nc-sa/3.0/
</pre>
        </a>

        <a name="equipment">          
        <h2>Equipment</h2>
            <table>
                <tr>
                    <th>Name</th>
                    <th>Visible</th>
                    <th>Cost [deci-credits]</th>
                    <th>Tech-Level</th>
                </tr>
                <tr>
                    <td><a href="../equipment/EQ_TECH_REF_LIB.html">HUD Integration of Ship Identifier</a></td>
                    <td>yes</td>
                    <td align="right">12500</td>
                    <td align="center">12+</td>
                </tr>
                <tr>
                    <td><a href="../equipment/EQ_TECH_REF_LIB_BASE.html">Ship Identifier</a></td>
                    <td>no</td>
                    <td align="right">0</td>
                    <td align="center">100+</td>
                </tr>
            </table>
        </a>

        <a name="ships">    
        <h2>Ships</h2>
            This expansion declares no ships. 
        </a>

        <a name="models">    
        <h2>Models</h2>
            This expansion declares no models. 
        </a>

        <a name="scripts">    
        <h2>Scripts</h2>
            <table>
                <tr>
                    <th>Path</th>
                </tr>
                <tr>
                    <td valign="top">Scripts/tech_ref_lib.js</td>
                    <td><pre>&quot;use strict&quot;;
this.name               = &quot;tech_ref_lib&quot;;
this.author               = &quot;spara&quot;;
this.copyright            = &quot;2013 Mika Spåra&quot;;
this.description         = &quot;Reveal technical information of a target&quot;;
this.version            = &quot;1.0.1&quot;;
this.licence     = &quot;CC BY-NC-SA 3.0&quot;;

//1.0.1 different method for naming unnamed ships. No more warnings in test build.

this.startUp = function() {
	//these are recognised as spacecraft
	this.$spaceCraftScanClasses = [&quot;CLASS_NEUTRAL&quot;, &quot;CLASS_MILITARY&quot;, &quot;CLASS_POLICE&quot;, &quot;CLASS_THARGOID&quot;];
	//these are treated as classified spacecraft, only type (name property) will be shown
	this.$classifiedScanClasses = [&quot;CLASS_MILITARY&quot;, &quot;CLASS_POLICE&quot;, &quot;CLASS_THARGOID&quot;];
	this.$classifiedRoles = [&quot;constrictor&quot;, &quot;kephalan&quot;, &quot;odonatean&quot;, &quot;scorpax&quot;, &quot;bigTrader&quot;, &quot;monkpatrol&quot;, &quot;griff_blackmonk_defenceship&quot;, &quot;monkhit1&quot;, &quot;monkhit2&quot;, &quot;monkhold1&quot;, &quot;monkhold2&quot;, &quot;ev_green_gecko&quot;, &quot;sin-pirate&quot;];//classify constrictor, aliens oxp, bigTrader ships, black monks, green gecko oxp and capisastra oxp.
	if (player.ship.equipmentStatus(&quot;EQ_SCANNER_SHOW_MISSILE_TARGET&quot;) === &quot;EQUIPMENT_OK&quot;)
		player.ship.awardEquipment(&quot;EQ_TECH_REF_LIB_BASE&quot;);
}

//interface for other scripts to add classified roles
this.$addClassifiedRole = function(role) {
	if (this.$classifiedRoles.indexOf(role) === -1)
		this.$classifiedRoles.push(role);
}

//interface for other scripts to remove classified roles
this.$removeClassifiedRole = function(role) {
	var index = this.$classifiedRoles.indexOf(role);
	if (index !== -1)
		this.$classifiedRoles.splice(index, 1);
}


//equipment activation n
this.activated = function() {
	//hud integration
	if (player.ship.equipmentStatus(&quot;EQ_TECH_REF_LIB&quot;) === &quot;EQUIPMENT_OK&quot;)
		worldScripts.tech_ref_lib.$activated();
	//freebie version
	else worldScripts.tech_ref_lib.$showFreebie();
}

//equipment activation b
this.mode = function() {
	//freebie version
	worldScripts.tech_ref_lib.$showFreebie();
}

this.playerBoughtEquipment = this.equipmentRepaired = function(equipment) {
	if (equipment === &quot;EQ_SCANNER_SHOW_MISSILE_TARGET&quot;)
		player.ship.awardEquipment(&quot;EQ_TECH_REF_LIB_BASE&quot;);
}

this.equipmentDestroyed = this.equipmentDamaged = function(equipment) {
	if (equipment === &quot;EQ_SCANNER_SHOW_MISSILE_TARGET&quot;)
		player.ship.removeEquipment(&quot;EQ_TECH_REF_LIB_BASE&quot;);
}

//which crafts are included in the library
this.$validateTarget = function(target) {
	//check scanclasses
	if (this.$classifiedScanClasses.indexOf(target.scanClass) !== -1) return false;
	//check roles
	var targetRoles = target.roles;
	var i;
	for (i = 0; i &lt; targetRoles.length; i++) {
		if (this.$classifiedRoles.indexOf(targetRoles[i]) !== -1) {
			return false;
		}
	}
	//check for script_info key
	if (target.scriptInfo.classifiedShip) return false;
	return true;
}

//check for ship image
this.$bgImage = function(name) {
	var names = [&quot;Adder&quot;, &quot;Anaconda&quot;, &quot;Asp Mark II&quot;, &quot;Boa&quot;, &quot;Boa Class Cruiser&quot;, &quot;Cobra Mark III&quot;, &quot;Cobra Mark I&quot;, &quot;Fer-de-Lance&quot;, &quot;Gecko&quot;, &quot;Krait&quot;, &quot;Mamba&quot;, &quot;Moray Star Boat&quot;, &quot;Moray Medical Boat&quot;, &quot;Python&quot;, &quot;Orbital Shuttle&quot;, &quot;Sidewinder Scout Ship&quot;, &quot;Transporter&quot;, &quot;Mining Transporter&quot;, &quot;Worm&quot;];
	var append = [&quot;adder&quot;, &quot;anaconda&quot;, &quot;asp&quot;, &quot;boa&quot;, &quot;boacc&quot;, &quot;cobramk3&quot;, &quot;cobramk1&quot;, &quot;ferdelance&quot;, &quot;gecko&quot;, &quot;krait&quot;, &quot;mamba&quot;, &quot;moray&quot;, &quot;moray&quot;, &quot;python&quot;, &quot;shuttle&quot;, &quot;sidewinder&quot;, &quot;transporter&quot;, &quot;transporter&quot;, &quot;worm&quot;];
	var index = names.indexOf(name);
	if (index !== -1) {
		return &quot;ref_background_&quot;+append[index]+&quot;.png&quot;;
	}
	else return &quot;ref_background.png&quot;;
}

//specs to a mission screen
this.$showFreebie = function() {
	var target = player.ship.target;
	//no target
	if (!target) {
		player.consoleMessage(&quot;No target.&quot;);
		return;
	}
	//target is not a spacecraft
	if (this.$spaceCraftScanClasses.indexOf(target.scanClass) === -1) {
		player.consoleMessage(&quot;Target is not a spacecraft.&quot;);
		return;
	}
	//check if target is classified
	var targetValidated = this.$validateTarget(target);
	//special type recognition for random hits &amp; anarchies
	var name = expandMissionText(&quot;trophy_&quot;+target.dataKey);
	if (!name) name = target.name;
	//build up the message
	var message = &quot;Specifications for &#39;&quot; + target.displayName+&quot;&#39;:\n\n&quot;;
	if (!targetValidated)
		message += &quot;No match found from the Reference\nLibrary, ship specifications unknown.&quot;;
	else {
		message += &quot;* Type: &quot; + name + &quot;\n&quot;;
		message += &quot;* Size (W × H × L): &quot; +  Math.floor(target.boundingBox.x) + &quot; m × &quot; +  Math.floor(target.boundingBox.y) + &quot; m × &quot; +  Math.floor(target.boundingBox.z) + &quot; m\n&quot;;
		message += &quot;* Speed / Thrust: &quot; + target.maxSpeed/1000 + &quot; / &quot; +target.maxThrust/1000 + &quot; LM\n&quot;;
		message += &quot;* Roll / Pitch: &quot; + target.maxRoll.toFixed(1) +&quot; / &quot;+ target.maxPitch.toFixed(1) + &quot;\n&quot;;			
		message += &quot;* Cargo Capacity: &quot; + target.cargoSpaceCapacity + &quot; TC\n&quot;;
		message += &quot;* Energy Banks: &quot; + Math.floor(target.maxEnergy/64) + &quot;\n&quot;;
		if (target.forwardWeapon || target.aftWeapon || target.portWeapon || target.starboardWeapon)
			message += &quot;* Weapon Mounts: yes\n&quot;;
		else message += &quot;* Weapon Mounts: no\n&quot;;
		message += &quot;* Missile Slots: &quot;+target.missileCapacity+&quot;\n&quot;;
		if (target.hasHyperspaceMotor) message += &quot;* Hyperspace Capable: yes&quot;;
		else message += &quot;* Hyperspace Capable: no&quot;;
	}
	//show the message in a mission screen
	mission.runScreen({
		title: &quot;Technical Reference Library of Common Ships&quot;,
		message: message,
		background: this.$bgImage(name),
		allowInterrupt: true
	});
}

//specs to the hud 
this.$activated = function() {	
	var target = player.ship.target;
	//no target
	if (!target) {
		player.consoleMessage(&quot;No target.&quot;);
		return;
	}
	//target is not a spacecraft
	if (this.$spaceCraftScanClasses.indexOf(target.scanClass) === -1) {
		player.consoleMessage(&quot;Target is not a spacecraft.&quot;);
		return;
	}
	//check if target is classified
	var targetValidated = this.$validateTarget(target);
	//special type recognition for random hits &amp; anarchies
	var name = expandMissionText(&quot;trophy_&quot;+target.dataKey);
	if (!name) name = target.name;
	//build up the message
	
	if (!targetValidated)
		var message = &quot;Target specs unknown.&quot;;
	else {
		var message = &quot;Type: &quot; + name + &quot;\n&quot;;
		message += &quot;Size (W × H × L): &quot; +  Math.floor(target.boundingBox.x) + &quot; m × &quot; +  Math.floor(target.boundingBox.y) + &quot; m × &quot; +  Math.floor(target.boundingBox.z) + &quot; m\n&quot;;
		message += &quot;Speed / Thrust: &quot; + target.maxSpeed/1000 + &quot; / &quot; +target.maxThrust/1000 + &quot; LM\n&quot;;
		message += &quot;Roll / Pitch: &quot; + target.maxRoll.toFixed(1) +&quot; / &quot;+ target.maxPitch.toFixed(1) + &quot;\n&quot;;			
		message += &quot;Cargo Capacity: &quot; + target.cargoSpaceCapacity + &quot; TC\n&quot;;
		message += &quot;Energy Banks: &quot; + Math.floor(target.maxEnergy/64) + &quot;\n&quot;;
		if (target.forwardWeapon || target.aftWeapon || target.portWeapon || target.starboardWeapon)
			message += &quot;Weapon Mounts: yes\n&quot;;
		else message += &quot;Weapon Mounts: no\n&quot;;
		message += &quot;Missile Slots: &quot;+target.missileCapacity+&quot;\n&quot;;
		if (target.hasHyperspaceMotor) message += &quot;Hyperspace: yes&quot;;
		else message += &quot;Hyperspace: no&quot;;
	}
	//show the message in the hud
	player.consoleMessage(message,10);
}
</pre></td>
                </tr>
            </table>
        </a>
    </body>
</html>
