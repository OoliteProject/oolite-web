<html>
    <head>
        <title>Expansion Communications Pack A</title>
        <link rel="stylesheet" href="../style.css">
    </head>
    <body>
        <table border="0" width="100%">
            <tr>
                <td>Back to <a href='../index.html'>Index</a></td>
                <td align="right"><small>Page generated: Oct 11, 2023, 3:16:49 PM</small></td>
            </tr>
        </table>

        <h1>Expansion Communications Pack A</h1>

        <h2>Content</h2>
        <ul>
          <li><a href="#warnings">Warnings</a></li>
          <li><a href="#manifest">Manifest</a></li>
          <li><a href="#documentation">Documentation</a></li>
          <li><a href="#equipment">0 Equipment</a></li>
          <li><a href="#ships">0 Ships</a></li>
          <li><a href="#models">0 Models</a></li>
          <li><a href="#scripts">1 Scripts</a></li>
        </ul>

          <a name="warnings">
            <h2>Warnings</h2>
            <ol>
                <li>Information URL mismatch between OXP Manifest and Expansion Manager string length at character position 0</li>
            </ol>
          </a>

        <a name="manifest">
        <h2>Manifest</h2>
            <table border="1">
                <tr>
                    <th></th>
                    <th>from Expansion Manager's OXP list</th>
                    <th>from Expansion Manifest</th>
                </tr>
                <tr>
                    <td>Description</td>
                    <td>Adds lots of extra NPC communications to the game, increasing the variety of existing messages and also adding several new ones.</td>
                    <td>Adds lots of extra NPC communications to the game, increasing the variety of existing messages and also adding several new ones.</td>
                </tr>
                <tr>
                    <td>Identifier</td>
                    <td>oolite.oxp.cim.comms-pack-a</td>
                    <td>oolite.oxp.cim.comms-pack-a</td>
                </tr>
                <tr>
                    <td>Title</td>
                    <td>Communications Pack A</td>
                    <td>Communications Pack A</td>
                </tr>
                <tr>
                    <td>Category</td>
                    <td>Ambience</td>
                    <td>Ambience</td>
                </tr>
                <tr>
                    <td>Author</td>
                    <td>cim</td>
                    <td>cim</td>
                </tr>
                <tr>
                    <td>Version</td>
                    <td>0.5</td>
                    <td>0.5</td>
                </tr>
                <tr>
                    <td>Tags</td>
                    <td></td>
                    <td></td>
                </tr>
                <tr>
                    <td>Required Oolite Version</td>
                    <td></td>
                    <td></td>
                </tr>
                <tr>
                    <td>Maximum Oolite Version</td>
                    <td></td>
                    <td></td>
                </tr>
                <tr>
                    <td>Required Expansions</td>
                    <td>
                    </td>
                    <td>
                    </td>
                </tr>
                <tr>
                    <td>Optional Expansions</td>
                    <td>
                    </td>
                    <td>
                    </td>
                </tr>
                <tr>
                    <td>Conflict Expansions</td>
                    <td>
                    </td>
                    <td>
                    </td>
                </tr>
                <tr>
                    <td>Information URL</td>
                    <td><a target="_blank" href=""></a></td>
                    <td><a target="_blank" href="">n/a</a></td>
                </tr>
                <tr>
                    <td>Download URL</td>
                    <td><a target="_blank" href="http://cim.sotl.org.uk/games/files/oolite/Comms_Pack_A_0.5.oxz">http://cim.sotl.org.uk/games/files/oolite/Comms_Pack_A_0.5.oxz</a></td>
                    <td><a target="_blank" href="">n/a</a></td>
                </tr>
                <tr>
                    <td>License</td>
                    <td>MIT</td>
                    <td>MIT</td>
                </tr>
                <tr>
                    <td>File Size</td>
                    <td>n/a</td>
                </tr>
                <tr>
                    <td>Upload date</td>
                    <td>n/a</td>
                </tr>
            </table>
                </a>

        <a name="documentation">
        <h2>Documentation</h2>
        <p>Also read <a href='http://wiki.alioth.net/index.php/Communications%20Pack%20A'>http://wiki.alioth.net/index.php/Communications%20Pack%20A</a></p>
        </a>

        <a name="equipment">          
        <h2>Equipment</h2>
            This expansion declares no equipment. This may be related to warnings.
        </a>

        <a name="ships">    
        <h2>Ships</h2>
            This expansion declares no ships. This may be related to warnings.
        </a>

        <a name="models">    
        <h2>Models</h2>
            This expansion declares no models. This may be related to warnings.
        </a>

        <a name="scripts">    
        <h2>Scripts</h2>
            <table>
                <tr>
                    <th>Path</th>
                </tr>
                <tr>
                    <td valign="top">Scripts/comms-pack-a.js</td>
                    <td><pre>this.author      = &quot;cim&quot;; 
this.copyright   = &quot;ï¿½ 2011-2014 cim.&quot;; 
this.licence = &quot;CC-BY-SA 3.0&quot;;
this.version     = &quot;0.5&quot;; 
&quot;use strict&quot;;

/* World script name. For a new comms pack, change this to a unique name */
this.name = &quot;Comms Pack A&quot;;

/* The generic prefix used for this OXP&#39;s comms entries in
 * descriptions.plist */
this.$commsPrefix = &quot;commsPackA&quot;;

/* This function runs at game startup to set up the comms */
this.startUp = function()
{
	/* ensure the priority AI library is started */
	if (worldScripts[&quot;oolite-libPriorityAI&quot;].startUp)
	{
		worldScripts[&quot;oolite-libPriorityAI&quot;].startUp();
	}

	/* This object defines the communications to be set up. It has
	 * several layers: the first layer is the communications role for
	 * the ships; the second layer is the personality of the pilot;
	 * the third layer is the communications key, and the value is a
	 * key in descriptions.plist which is expanded to give the
	 * communications text. 
	 *
	 * See notes in descriptions.plist for more
	 * information. Using descriptions.plist rather than just putting
	 * literal text strings in makes it much easier to reuse
	 * components between roles and personalities.
	 *
	 * The roles have standard names defined by the core Oolite AIs
	 * (and potentially by OXP AIs, but we&#39;re not adding any new comms
	 * for those here).
	 *
	 * The personalities we can name what we like, so they should have
	 * an OXP-specific prefix, in this case &quot;commsPackA&quot;. When a ship
	 * is added it gets a personality picked randomly from those
	 * available for its role - several comms packs could be defining
	 * different personalities.
	 *
	 * The communications keys again have standard names from Oolite
	 * core - again, custom OXP AIs might define some more, but we
	 * aren&#39;t adding new comms to those here.
	 *
	 * Oolite defines &quot;oolite_surrender&quot; and &quot;oolite_thanksForHelp&quot; as
	 * generic communications, so these need redefining for every
	 * role, even those which don&#39;t have messages.
	 */
	var comms = {
		/* role: bounty hunters */
		hunter: {
			/* The _makeComms function saves a bit of typing on
			 * defining key/value entries like
			 * &quot;oolite_killedTarget&quot;: &quot;[commsPackA_vigilante_killedTarget]&quot;,	
			 */
			/* Comms keys/values - see
			 * http://wiki.alioth.net/index.php/Oolite_PriorityAI_Documentation#Usage
			 * for a list of available keys. */

			/* personality: motivated by stopping criminals for &#39;justice&#39; */
			commsPackA_vigilante: this._makeComms(&quot;vigilante&quot;,
				  [
					  &quot;attackLowEnergy&quot;,
					  &quot;beginningAttack&quot;,
					  &quot;beginningAttackThargoid&quot;,
					  &quot;beginningFight&quot;,
					  &quot;continuingAttack&quot;,
					  &quot;continuingAttackThargoid&quot;,
					  &quot;distressResponseAggressor&quot;,
					  &quot;distressResponseSender&quot;,
					  &quot;engageWitchspaceDriveFlee&quot;,
					  &quot;engageWitchspaceDriveGroup&quot;,
					  &quot;friendlyFire&quot;,
					  &quot;groupIsOutnumbered&quot;,
					  &quot;incomingMissile&quot;,
					  &quot;killedTarget&quot;,
					  &quot;quiriumCascade&quot;,
					  &quot;selectedStation&quot;,
					  &quot;startFleeing&quot;,
					  &quot;surrender&quot;,
					  &quot;thanksForHelp&quot;,
					  &quot;thargoidAttack&quot;,
					  &quot;waypointReached&quot;
				  ]),

			/* personality: motivated by being given money.
			 *
			 * Mostly defines the same keys as the vigilante above,
			 * with a few differences */
			commsPackA_mercenary: this._makeComms(&quot;mercenary&quot;,
				  [
					  &quot;attackLowEnergy&quot;,
					  &quot;beginningAttack&quot;,
					  &quot;beginningAttackThargoid&quot;,
					  &quot;beginningFight&quot;,
					  &quot;continuingAttack&quot;,
					  &quot;continuingAttackThargoid&quot;,
					  &quot;distressResponseAggressor&quot;,
					  &quot;distressResponseSender&quot;,
					  &quot;engageWitchspaceDriveFlee&quot;,
					  &quot;engageWitchspaceDriveGroup&quot;,
					  &quot;firedMissile&quot;,
					  &quot;friendlyFire&quot;,
					  &quot;groupIsOutnumbered&quot;,
					  &quot;incomingMissile&quot;,
					  &quot;killedTarget&quot;,
					  &quot;quiriumCascade&quot;,
					  &quot;selectedStation&quot;,
					  &quot;surrender&quot;,
					  &quot;thanksForHelp&quot;,
					  &quot;thargoidAttack&quot;,
					  &quot;waypointReached&quot;
				  ])
		},
		/* Traders of various sorts. No specific entries for
		 * trader-courier, trader-smuggler, trader-opportunist yet.
		 * Oolite defines &quot;agreeingToDumpCargo&quot; and &quot;makeDistressCall&quot;,
		 * so all trader entries should include them to avoid the
		 * generic fallbacks. */
		trader: {
			/* personality: out to get the best profit from the trip */
			commsPackA_capitalist: this._makeComms(&quot;capitalist&quot;,
				  [
					  &quot;agreeingToDumpCargo&quot;,
					  &quot;attackLowEnergy&quot;,
					  &quot;beginningAttack&quot;,
					  &quot;beginningAttackThargoid&quot;,
					  &quot;continueFleeing&quot;,
					  &quot;continuingAttack&quot;,
					  &quot;dockingWait&quot;,
					  &quot;eject&quot;,
					  &quot;engageWitchspaceDriveGroup&quot;,
					  &quot;escortAccepted&quot;,
					  &quot;friendlyFire&quot;,
					  &quot;makeDistressCall&quot;,
					  &quot;quiriumCascade&quot;,
					  &quot;startFleeing&quot;,
					  &quot;surrender&quot;,
					  &quot;thanksForHelp&quot;,
					  &quot;thargoidAttack&quot;
				  ]),

			/* personality: hoping this time will be the big one */
			commsPackA_optimist: this._makeComms(&quot;optimist&quot;,
				 [
					 &quot;agreeingToDumpCargo&quot;,
					 &quot;attackLowEnergy&quot;,
					 &quot;dockingWait&quot;,
					 &quot;eject&quot;,
					 &quot;engageWitchspaceDriveGroup&quot;,
					 &quot;escortAccepted&quot;,
					 &quot;friendlyFire&quot;,
					 &quot;incomingMissile&quot;,
					 &quot;makeDistressCall&quot;,
					 &quot;quiriumCascade&quot;,
					 &quot;selectedStation&quot;,
					 &quot;selectedWitchspaceDestination&quot;,
					 &quot;startFleeing&quot;,
					 &quot;surrender&quot;,
					 &quot;thanksForHelp&quot;,
					 &quot;thargoidAttack&quot;
				 ])
		},
		// pirates and associates
		/* Oolite defines &#39;oolite_makePirateDemand&#39; for pirates */
		pirate: {
			/* Looter: out to make a profit from &quot;free&quot; cargo */
			commsPackA_looter: this._makeComms(&quot;looter&quot;,
			   [
				   &quot;attackLowEnergy&quot;,
				   &quot;beginningAttack&quot;,
				   &quot;beginningAttackThargoid&quot;,
				   &quot;continuingAttack&quot;,
				   &quot;eject&quot;,
				   &quot;engageWitchspaceDriveFlee&quot;,
				   &quot;firedMissile&quot;,
				   &quot;friendlyFire&quot;,
				   &quot;groupIsOutnumbered&quot;,
				   &quot;hitTarget&quot;,
				   &quot;killedTarget&quot;,
				   &quot;killedUncrewedTarget&quot;,
				   &quot;landingOnPlanet&quot;,
				   &quot;makePirateDemand&quot;,
				   &quot;quiriumCascade&quot;,
				   &quot;scoopedCargo&quot;,
				   &quot;selectedWitchspaceDestination&quot;,
				   &quot;surrender&quot;,
				   &quot;thanksForHelp&quot;
			   ]),
			/* Rebel: fighting against an oppressive state */
			commsPackA_rebel: this._makeComms(&quot;rebel&quot;,
			   [
				   &quot;attackLowEnergy&quot;,
				   &quot;beginningAttack&quot;,
				   &quot;beginningAttackThargoid&quot;,
				   &quot;continuingAttack&quot;,
				   &quot;continuingAttackThargoid&quot;,
				   &quot;eject&quot;,
				   &quot;engageWitchspaceDriveFlee&quot;,
				   &quot;engageWitchspaceDriveGroup&quot;,
				   &quot;friendlyFire&quot;,
				   &quot;groupIsOutnumbered&quot;,
				   &quot;hitTarget&quot;,
				   &quot;incomingMissile&quot;,
				   &quot;killedTarget&quot;,
				   &quot;killedUncrewedTarget&quot;,
				   &quot;makePirateDemand&quot;,
				   &quot;quiriumCascade&quot;,
				   &quot;scoopedCargo&quot;,
				   &quot;startFleeing&quot;,
				   &quot;startHelping&quot;,
				   &quot;surrender&quot;,
				   &quot;thargoidAttack&quot;,
				   &quot;thanksForHelp&quot;
			   ])
		},
		// assassins
		assassin: {
			/* Enforcer: working to protect a criminal organisation */
			commsPackA_enforcer: this._makeComms(&quot;enforcer&quot;,
			 [
				 &quot;attackLowEnergy&quot;,
				 &quot;beginningAssassination&quot;,
				 &quot;beginningAttack&quot;,
				 &quot;beginningAttackInanimate&quot;,
				 &quot;continuingAttack&quot;,
				 &quot;firedMissile&quot;,
				 &quot;hitTarget&quot;,
				 &quot;killedTarget&quot;,
				 &quot;killedUncrewedTarget&quot;,
				 &quot;quiriumCascade&quot;,
				 &quot;startFleeing&quot;,
				 &quot;surrender&quot;,
				 &quot;thargoidAttack&quot;,
				 &quot;thanksForHelp&quot;,
				 &quot;waypointReached&quot;
			 ]),
			/* Freelancer: takes on contracts for the money, from
			 * various sources */
			commsPackA_freelancer: this._makeComms(&quot;freelancer&quot;,
			 [
				 &quot;attackLowEnergy&quot;,
				 &quot;beginningAssassination&quot;,
				 &quot;beginningAttack&quot;,
				 &quot;beginningAttackInanimate&quot;,
				 &quot;continuingAttack&quot;,
				 &quot;firedMissile&quot;,
				 &quot;hitTarget&quot;,
				 &quot;killedTarget&quot;,
				 &quot;killedUncrewedTarget&quot;,
				 &quot;quiriumCascade&quot;,
				 &quot;startFleeing&quot;,
				 &quot;surrender&quot;,
				 &quot;thargoidAttack&quot;,
				 &quot;thanksForHelp&quot;,
				 &quot;waypointReached&quot;
			 ])
		},
		// police ships
		police: {
			/* Formal by-the-book police */
			commsPackA_academy: this._makeComms(&quot;academy&quot;,
				[
					&quot;beginningAttack&quot;,
					&quot;beginningAttackThargoid&quot;,
					&quot;distressResponseAggressor&quot;,
					&quot;distressResponseSender&quot;,
					&quot;eject&quot;,
					&quot;firedMissile&quot;,
					&quot;friendlyFire&quot;,
					&quot;killedTarget&quot;,
					&quot;markForFines&quot;,
					&quot;offenceDetected&quot;,
					&quot;patrolReportIn&quot;,
					&quot;startHelping&quot;,
					&quot;surrender&quot;,
					&quot;thanksForHelp&quot;,
					&quot;thargoidAttack&quot;
				]),
			/* Aggressive police looking for a fight */
			commsPackA_vicious: this._makeComms(&quot;vicious&quot;,
				[
					&quot;beginningAttack&quot;,
					&quot;beginningAttackThargoid&quot;,
					&quot;continuingAttack&quot;,
					&quot;continuingAttackThargoid&quot;,
					&quot;distressResponseAggressor&quot;,
					&quot;distressResponseSender&quot;,
					&quot;dockingWait&quot;,
					&quot;eject&quot;,
					&quot;firedMissile&quot;,
					&quot;friendlyFire&quot;,
					&quot;hitTarget&quot;,
					&quot;killedTarget&quot;,
					&quot;markForFines&quot;,
					&quot;offenceDetected&quot;,
					&quot;quiriumCascade&quot;,
					&quot;surrender&quot;,
					&quot;thanksForHelp&quot;,
					&quot;thargoidAttack&quot;
				])
		},
		// escorts
		escort: {
			/* Paramilitary-style escorts: hired from
			 * professional(ish) organisations. */
			commsPackA_paramilitary: this._makeComms(&quot;paramilitary&quot;,
				[
					&quot;attackLowEnergy&quot;,
					&quot;beginningAttack&quot;,
					&quot;beginningAttackThargoid&quot;,
					&quot;continuingAttack&quot;,
					&quot;continuingAttackThargoid&quot;,
					&quot;eject&quot;,
					&quot;escortFormation&quot;,
					&quot;escortMotherAccepted&quot;,
					&quot;friendlyFire&quot;,
					&quot;groupIsOutnumbered&quot;,
					&quot;incomingMissile&quot;,
					&quot;killedTarget&quot;,
					&quot;quiriumCascade&quot;,
					&quot;startHelping&quot;,
					&quot;surrender&quot;,
					&quot;thanksForHelp&quot;
				]),
			/* Friendly escorts: probably know the crew of the ship
			 * they&#39;re escorting personally. */
			commsPackA_friendly: this._makeComms(&quot;friendly&quot;,
				[
					&quot;attackLowEnergy&quot;,
					&quot;beginningAttack&quot;,
					&quot;beginningAttackThargoid&quot;,
					&quot;continuingAttack&quot;,
					&quot;continuingAttackThargoid&quot;,
					&quot;eject&quot;,
					&quot;escortFormation&quot;,
					&quot;escortMotherAccepted&quot;,
					&quot;friendlyFire&quot;,
					&quot;groupIsOutnumbered&quot;,
					&quot;incomingMissile&quot;,
					&quot;killedTarget&quot;,
					&quot;quiriumCascade&quot;,
					&quot;startHelping&quot;,
					&quot;surrender&quot;,
					&quot;thanksForHelp&quot;
				])

		},
		// station&lt;-&gt;surface shuttles
		shuttle: {
			commsPackA_cargoshuttle: this._makeComms(&quot;cargoshuttle&quot;,
				[
					&quot;dockingWait&quot;,
					&quot;eject&quot;,
					&quot;incomingMissile&quot;,
					&quot;landingOnPlanet&quot;,
					&quot;makeDistressCall&quot;,
					&quot;quiriumCascade&quot;,
					&quot;selectedStation&quot;,
					&quot;surrender&quot;,
					&quot;thanksForHelp&quot;
				]),
			commsPackA_touristshuttle: this._makeComms(&quot;touristshuttle&quot;,
				[
					&quot;dockingWait&quot;,
					&quot;eject&quot;,
					&quot;incomingMissile&quot;,
					&quot;landingOnPlanet&quot;,
					&quot;makeDistressCall&quot;,
					&quot;quiriumCascade&quot;,
					&quot;selectedStation&quot;,
					&quot;surrender&quot;,
					&quot;thanksForHelp&quot;
				])
		},
		// stations and rock hermits
		station: {
			commsPackA_mainstation: this._makeComms(&quot;mainstation&quot;,
				[												
					&quot;friendlyFire&quot;,
					&quot;killedAlly&quot;,
					&quot;killedNonTarget&quot;,
					&quot;killedTarget&quot;,
					&quot;launchDefenseShips&quot;,
					&quot;launchPatrol&quot;,
					&quot;offenceDetected&quot;,
					&quot;quiriumCascade&quot;
				])
		},
		hermit: {
			commsPackA_rockhermit: this._makeComms(&quot;rockhermit&quot;,
				[												
					&quot;attackLowEnergy&quot;,
					&quot;friendlyFire&quot;,
					&quot;killedAlly&quot;,
					&quot;launchMiner&quot;,
					&quot;quiriumCascade&quot;
				])
		},
		// scavengers and miners
		scavenger: {
			commsPackA_loner: this._makeComms(&quot;loner&quot;,
				[
					&quot;beginningAttack&quot;,
					&quot;surrender&quot;,
					&quot;thanksForHelp&quot;
				]),
			commsPackA_cheerful: this._makeComms(&quot;cheerful&quot;,
				[
					&quot;attackLowEnergy&quot;,
					&quot;eject&quot;,
					&quot;incomingMissile&quot;,
					&quot;mining&quot;,
					&quot;scoopedCargo&quot;,
					&quot;surrender&quot;,
					&quot;thanksForHelp&quot;
				])
		},
		// station defence ships
		defenseShip: {
			commsPackA_defenseship: this._makeComms(&quot;defenseship&quot;,
				[
					&quot;attackLowEnergy&quot;,
					&quot;beginningAttack&quot;,
					&quot;beginningAttackThargoid&quot;,
					&quot;eject&quot;,
					&quot;friendlyFire&quot;,
					&quot;incomingMissile&quot;,
					&quot;killedTarget&quot;,
					&quot;quiriumCascade&quot;,
					&quot;surrender&quot;,
					&quot;thanksForHelp&quot;
				])
		} 
	};

	/* This loads the communications settings into the library */
	worldScripts[&quot;oolite-libPriorityAI&quot;]._setCommunications(comms);
}


/* This function makes a set of descriptions.plist entries, to save a
 * little typing. &#39;specific&#39; is the personality we&#39;re writing for, and
 * &#39;entries&#39; is an array of the communications keys (which assumes an
 * oolite_ prefix on all of them. */
this._makeComms = function(specific, entries)
{
	var result = {};
	for (var i=entries.length-1;i&gt;=0;i--)
	{
		var entry = entries[i];
		result[&quot;oolite_&quot;+entry] = &quot;[&quot;+this.$commsPrefix+&quot;_&quot;+specific+&quot;_&quot;+entry+&quot;]&quot;;
	}
	return result;
}</pre></td>
                </tr>
            </table>
        </a>
    </body>
</html>
