<html>
    <head>
        <title>Expansion Teretrurus</title>
        <link rel="stylesheet" href="../style.css">
    </head>
    <body>
        <table border="0" width="100%">
            <tr>
                <td>Back to <a href='../index.html'>Index</a></td>
                <td align="right"><small>Page generated: Oct 11, 2023, 3:16:49 PM</small></td>
            </tr>
        </table>

        <h1>Expansion Teretrurus</h1>

        <h2>Content</h2>
        <ul>
          <li><a href="#warnings">Warnings</a></li>
          <li><a href="#manifest">Manifest</a></li>
          <li><a href="#documentation">Documentation</a></li>
          <li><a href="#equipment">0 Equipment</a></li>
          <li><a href="#ships">5 Ships</a></li>
          <li><a href="#models">0 Models</a></li>
          <li><a href="#scripts">1 Scripts</a></li>
        </ul>

          <a name="warnings">
            <h2>Warnings</h2>
            <ol>
                <li>License not specified</li>
            </ol>
          </a>

        <a name="manifest">
        <h2>Manifest</h2>
            <table border="1">
                <tr>
                    <th></th>
                    <th>from Expansion Manager's OXP list</th>
                    <th>from Expansion Manifest</th>
                </tr>
                <tr>
                    <td>Description</td>
                    <td>the Teretrurus is a chopped Cobra MkIII, available with two colourful paint-jobs, the Purple Haze and the Shield-Tail.
Both are player-buyable, and will appear as NPCs from time to time.</td>
                    <td>the Teretrurus is a chopped Cobra MkIII, available with two colourful paint-jobs, the Purple Haze and the Shield-Tail.
Both are player-buyable, and will appear as NPCs from time to time.</td>
                </tr>
                <tr>
                    <td>Identifier</td>
                    <td>oolite.oxp.smivs.teretrurus</td>
                    <td>oolite.oxp.smivs.teretrurus</td>
                </tr>
                <tr>
                    <td>Title</td>
                    <td>Teretrurus</td>
                    <td>Teretrurus</td>
                </tr>
                <tr>
                    <td>Category</td>
                    <td>Ships</td>
                    <td>Ships</td>
                </tr>
                <tr>
                    <td>Author</td>
                    <td>Smivs</td>
                    <td>Smivs</td>
                </tr>
                <tr>
                    <td>Version</td>
                    <td>3.0</td>
                    <td>3.0</td>
                </tr>
                <tr>
                    <td>Tags</td>
                    <td></td>
                    <td></td>
                </tr>
                <tr>
                    <td>Required Oolite Version</td>
                    <td></td>
                    <td></td>
                </tr>
                <tr>
                    <td>Maximum Oolite Version</td>
                    <td></td>
                    <td></td>
                </tr>
                <tr>
                    <td>Required Expansions</td>
                    <td>
                    </td>
                    <td>
                    </td>
                </tr>
                <tr>
                    <td>Optional Expansions</td>
                    <td>
                    </td>
                    <td>
                    </td>
                </tr>
                <tr>
                    <td>Conflict Expansions</td>
                    <td>
                    </td>
                    <td>
                    </td>
                </tr>
                <tr>
                    <td>Information URL</td>
                    <td><a target="_blank" href="http://wiki.alioth.net/index.php/Teretrurus_Mk.I">http://wiki.alioth.net/index.php/Teretrurus_Mk.I</a></td>
                    <td><a target="_blank" href="">n/a</a></td>
                </tr>
                <tr>
                    <td>Download URL</td>
                    <td><a target="_blank" href="https://wiki.alioth.net/img_auth.php/8/89/Teretrurus_v3.0.oxz">https://wiki.alioth.net/img_auth.php/8/89/Teretrurus_v3.0.oxz</a></td>
                    <td><a target="_blank" href="">n/a</a></td>
                </tr>
                <tr>
                    <td>License</td>
                    <td></td>
                    <td></td>
                </tr>
                <tr>
                    <td>File Size</td>
                    <td>n/a</td>
                </tr>
                <tr>
                    <td>Upload date</td>
                    <td>1610873355</td>
                </tr>
            </table>
                </a>

        <a name="documentation">
        <h2>Documentation</h2>
        <p>Also read <a href='http://wiki.alioth.net/index.php/Teretrurus'>http://wiki.alioth.net/index.php/Teretrurus</a></p>
        <h3>Teretrurus v3.0 readme</h3>
        <pre>Teretrurus v3.0 ReadMe

An update of Dr Nil&#39;s Teretrurus Mk.1 OXP.

The Teretrurus is a &#39;chopped&#39; Cobra Mk III and is available in two styles, The &#39;Purple Haze&#39; and the &#39;Shield Tail&#39;. They are identical except for their brash and shiny paintjobs. Both are player-buyable and they also feature in-game occassionally in variouis roles. 

This is a major revision of this expansion. Version 3.0 adds player-buyable Fuel Scoops which were absent before, and brings further improvements to the graphics. Several significant under-the-hood improvements have also been made to tidy up the OXZ.

If an NPC is severely damaged in battle and the pilot ejects the ship will progressively become derelict. The ship loses power and the navigation strobes will stop, then the lights and engine glow fade, and finally the derelict is left gently tumbling in space. 

The original models have been retained and the ships are unchanged from the original spec&#39;s in the Wiki, other than some detail changes for Oolite v1.80. 
The code has been updated from XML to openStep and some minor tweaks have been made to shipdata to ensure compliance with Oolite v1.80 such as expanding the &#39;roles&#39; set. A few detail changes have also been made to ensure the OXP is balanced, and is consistant with the Wiki page.
Shipdata &#39;Accuracy&#39; has been set to 6 so the pilots will be better than average, but not too lethal.

OXP compiled and developed by Smivs
Original OXP by Dr Nil
Scripting based on an original script by Capt. Murphy
Thanks also to Spara, for suggesting I did this!

Licence:- Creative Commons Attribution - Non-Commercial - Share Alike 4.0 license

Version requirements:- Requires Oolite v1.80
</pre>
        </a>

        <a name="equipment">          
        <h2>Equipment</h2>
            This expansion declares no equipment. This may be related to warnings.
        </a>

        <a name="ships">    
        <h2>Ships</h2>
            <table>
                <tr>
                    <th>Name</th>
                </tr>
                <tr>
                    <td><a href="../ships/smivsPurpleHaze-player.html">smivsPurpleHaze-player</a></td>
                </tr>
                <tr>
                    <td><a href="../ships/smivsPurpleHaze_npc.html">smivsPurpleHaze_npc</a></td>
                </tr>
                <tr>
                    <td><a href="../ships/smivsShieldTail-player.html">smivsShieldTail-player</a></td>
                </tr>
                <tr>
                    <td><a href="../ships/smivsShieldTail_npc.html">smivsShieldTail_npc</a></td>
                </tr>
                <tr>
                    <td><a href="../ships/smivsTeretrurus_template.html">Teretrurus</a></td>
                </tr>
            </table>
        </a>

        <a name="models">    
        <h2>Models</h2>
            This expansion declares no models. This may be related to warnings.
        </a>

        <a name="scripts">    
        <h2>Scripts</h2>
            <table>
                <tr>
                    <th>Path</th>
                </tr>
                <tr>
                    <td valign="top">Scripts/smivsTeretrurusScript.js</td>
                    <td><pre>&quot;use strict&quot;; 

// Standard attributes 
this.name           = &quot;smivsTeretrurusScript.js&quot;; 
this.author         = &quot;Smivs&quot;; 
this.copyright	    = &quot;Â© Smivs&quot;; 
this.licence        = &quot;Creative Commons Attribution-Noncommercial-Share Alike 4.0 Unported License&quot;; 
this.version        = &quot;3.0&quot;; 
this.description    = &quot;Script to render ship derelict upon ejection of pilot.&quot; 


this.shipLaunchedEscapePod = function()
{
  this.switchFlashersAITimer = new Timer(this, this.$switchFlashersOff,8); // timer to switch off flashers after 8 seconds
  this.switchHullTexTimer = new Timer(this, this.$switchHullTex,12); // timer to switch off hull lights emission map after 12 seconds
  this.rotateDerelictTimer = new Timer(this, this.$rotateDerelict,25); // timer to start derelict rotation after 25 secondsnds
}
this.$switchFlashersOff = function()
{
  this.ship.lightsActive = false; // turns flashers off
}
this.$switchHullTex = function()
{
  var $smivsTeretrurusTexture = this.ship.scriptInfo.smivsTeretrurusTexture; // uses scriptInfo key to build ship&#39;s default texture name
  var $smivsTeretrurusDiffuse = this.ship.scriptInfo.smivsTeretrurusDiffuse; // uses scriptInfo key to build ship&#39;s diffuse_map name
  var $smivsTeretrurusLighting = this.ship.scriptInfo.smivsTeretrurusLighting; // uses scriptInfo key to build ship&#39;s emission_map name
  var $smivsTeretrurusDerelict = this.ship.scriptInfo.smivsTeretrurusDerelict; // uses scriptInfo key to build derelict emission_map name
  var $smivsTeretrurusNormal = this.ship.scriptInfo.smivsTeretrurusNormal; // uses scriptInfo key to build ship&#39;s normal_map name
  var $smivsTeretrurusSpecular = this.ship.scriptInfo.smivsTeretrurusSpecular; // uses scriptInfo key to build ship&#39;s specular_map name
  var material = new Object(); // declare variable
  material[$smivsTeretrurusTexture] = {diffuse_map:$smivsTeretrurusDiffuse, emission_map:$smivsTeretrurusDerelict, normal_map:$smivsTeretrurusNormal, specular_map:$smivsTeretrurusSpecular}; // set up material entry
  this.ship.setMaterials(material); // apply material
}
this.$rotateDerelict = function()
{
  this.rotateVector = Vector3D.randomDirection(); // creates a random axis of rotation.
  this.rotateSpeedFactor = (Math.random() * (0.05) + 0.05); // creates a random rotate speed factor between 0.05 and 0.1 - 0.1 will result in a rotation speed of approx 1 full rotation every 63 seconds, 0.05 in a rotation speed of approx 1 full rotation every 126 seconds.
  this.rotateDerelictCallBack = addFrameCallback(this.rotateFunction.bind(this)); // create FrameCallback
}
this.rotateFunction = function(delta) // delta is the time in game seconds since the last frame.
{
  if (!this.ship.isValid){removeFrameCallback(this.rotateDerelictCallback);delete this.rotateDerelictCallback;return;} // end FrameCallback is ship has died;
  if (delta === 0){return;} // do nothing if game is paused;
  var newOrientation = this.ship.orientation.rotate(this.rotateVector,delta*this.rotateSpeedFactor); // calculates new orientation, using delta as a factor so that rotation speed is constant across varying frame rates. delta*this.rotateSpeedFactor is a value in radians. There are approx 6.3 radians in a full rotation.
  this.ship.orientation = newOrientation; // applies new orientation;
}
this.entityDestroyed = function()
// stop timers
{
  if(this.switchFlashersAITimer)
    {
      if (this.switchFlashersAITimer.isRunning) 
        {
          this.switchFlashersAITimer.stop();
          delete this.switchFlashersAITimer;
        }
     }
  if(this.switchHullTexTimer)
     {
       if (this.switchHullTexTimer.isRunning) 
         {
           this.switchHullTexTimer.stop();
           delete this.switchHullTexTimer;
         }
     }
  if(this.rotateDerelictTimer)
     {
       if (this.rotateDerelictTimer.isRunning) 
         {
           this.rotateDerelictTimer.stop();
           delete this.rotateDerelictTimer;
         }
      }
}
</pre></td>
                </tr>
            </table>
        </a>
    </body>
</html>
