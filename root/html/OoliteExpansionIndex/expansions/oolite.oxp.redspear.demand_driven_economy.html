<html>
    <head>
        <title>Expansion Demand Driven Economy</title>
        <link rel="stylesheet" href="../style.css">
    </head>
    <body>
        <table border="0" width="100%">
            <tr>
                <td>Back to <a href='../index.html'>Index</a></td>
                <td align="right"><small>Page generated: Oct 11, 2023, 3:16:49 PM</small></td>
            </tr>
        </table>

        <h1>Expansion Demand Driven Economy</h1>

        <h2>Content</h2>
        <ul>
          <li><a href="#warnings">Warnings</a></li>
          <li><a href="#manifest">Manifest</a></li>
          <li><a href="#documentation">Documentation</a></li>
          <li><a href="#equipment">0 Equipment</a></li>
          <li><a href="#ships">0 Ships</a></li>
          <li><a href="#models">0 Models</a></li>
          <li><a href="#scripts">1 Scripts</a></li>
        </ul>

          <a name="warnings">
            <h2>Warnings</h2>
            <ol>
                <li>License not specified</li>
                <li>Information URL mismatch between OXP Manifest and Expansion Manager string length at character position 0</li>
            </ol>
          </a>

        <a name="manifest">
        <h2>Manifest</h2>
            <table border="1">
                <tr>
                    <th></th>
                    <th>from Expansion Manager's OXP list</th>
                    <th>from Expansion Manifest</th>
                </tr>
                <tr>
                    <td>Description</td>
                    <td>Goal is to keep the reliability of the current trade model but not the monotony. Assigns each of the 8 economy types with a specific high-demand commodity. Population, productivity and tech level also exert some influence.</td>
                    <td>Goal is to keep the reliability of the current trade model but not the monotony. Assigns each of the 8 economy types with a specific high-demand commodity. Population, productivity and tech level also exert some influence.</td>
                </tr>
                <tr>
                    <td>Identifier</td>
                    <td>oolite.oxp.redspear.demand_driven_economy</td>
                    <td>oolite.oxp.redspear.demand_driven_economy</td>
                </tr>
                <tr>
                    <td>Title</td>
                    <td>Demand Driven Economy</td>
                    <td>Demand Driven Economy</td>
                </tr>
                <tr>
                    <td>Category</td>
                    <td>Systems</td>
                    <td>Systems</td>
                </tr>
                <tr>
                    <td>Author</td>
                    <td>Redspear</td>
                    <td>Redspear</td>
                </tr>
                <tr>
                    <td>Version</td>
                    <td>1.4</td>
                    <td>1.4</td>
                </tr>
                <tr>
                    <td>Tags</td>
                    <td></td>
                    <td></td>
                </tr>
                <tr>
                    <td>Required Oolite Version</td>
                    <td></td>
                    <td></td>
                </tr>
                <tr>
                    <td>Maximum Oolite Version</td>
                    <td></td>
                    <td></td>
                </tr>
                <tr>
                    <td>Required Expansions</td>
                    <td>
                    </td>
                    <td>
                    </td>
                </tr>
                <tr>
                    <td>Optional Expansions</td>
                    <td>
                    </td>
                    <td>
                    </td>
                </tr>
                <tr>
                    <td>Conflict Expansions</td>
                    <td>
                    </td>
                    <td>
                    </td>
                </tr>
                <tr>
                    <td>Information URL</td>
                    <td><a target="_blank" href=""></a></td>
                    <td><a target="_blank" href="">n/a</a></td>
                </tr>
                <tr>
                    <td>Download URL</td>
                    <td><a target="_blank" href="https://wiki.alioth.net/img_auth.php/3/30/Oolite.oxp.redspear.demand_driven_economy.oxz">https://wiki.alioth.net/img_auth.php/3/30/Oolite.oxp.redspear.demand_driven_economy.oxz</a></td>
                    <td><a target="_blank" href="">n/a</a></td>
                </tr>
                <tr>
                    <td>License</td>
                    <td></td>
                    <td></td>
                </tr>
                <tr>
                    <td>File Size</td>
                    <td>n/a</td>
                </tr>
                <tr>
                    <td>Upload date</td>
                    <td>1674397495</td>
                </tr>
            </table>
                </a>

        <a name="documentation">
        <h2>Documentation</h2>
        <p>Also read <a href='http://wiki.alioth.net/index.php/Demand%20Driven%20Economy'>http://wiki.alioth.net/index.php/Demand%20Driven%20Economy</a></p>
        </a>

        <a name="equipment">          
        <h2>Equipment</h2>
            This expansion declares no equipment. This may be related to warnings.
        </a>

        <a name="ships">    
        <h2>Ships</h2>
            This expansion declares no ships. This may be related to warnings.
        </a>

        <a name="models">    
        <h2>Models</h2>
            This expansion declares no models. This may be related to warnings.
        </a>

        <a name="scripts">    
        <h2>Scripts</h2>
            <table>
                <tr>
                    <th>Path</th>
                </tr>
                <tr>
                    <td valign="top">Scripts/demand_driven_economy.js</td>
                    <td><pre>this.name			= &quot;demand_driven_economy&quot;;
this.author			= &quot;Redspear&quot;;
this.copyright		= &quot;2021 Redspear&quot;;
this.licence		= &quot;CC BY-NC-SA 4.0&quot;; 
this.description	= &quot;Import demand by economy type&quot;;
this.version		= &quot;1.4&quot;;

&quot;use strict&quot;;

// Galactic Charts

this.guiScreenChanged = function ()	//	a little in game clue/flavour with some variance thrown in

{
    if (guiScreen === &quot;GUI_SCREEN_SYSTEM_DATA&quot;) {
		
        if (System.infoForSystem(galaxyNumber, player.ship.targetSystem).economy === 0) {	// rich industrial
			if (System.infoForSystem(galaxyNumber, player.ship.targetSystem).government &lt; 3 &amp;&amp; player.ship.targetSystem &lt; 50) {	//	dangerous systems
				mission.addMessageText(&quot;Reliable forms of investment are much sought after by discerning buyers.&quot;);
			}
			else {	
			if (System.infoForSystem(galaxyNumber, player.ship.targetSystem).government &lt; 3 &amp;&amp; player.ship.targetSystem &lt; 101) {	//	dangerous systems
				mission.addMessageText(&quot;When you&#39;re already rich, it&#39;s not what you have in the bank but what you have in your vault.&quot;);
			}
			else {	
			if (System.infoForSystem(galaxyNumber, player.ship.targetSystem).government &lt; 3 &amp;&amp; player.ship.targetSystem &lt; 152) {	//	dangerous systems
				mission.addMessageText(&quot;Rich systems are seldom this politically unstable. Some are prepariong for the bubble to burst.&quot;);
			}
			else {	
			if (System.infoForSystem(galaxyNumber, player.ship.targetSystem).government &lt; 3 &amp;&amp; player.ship.targetSystem &lt; 203) {	//	dangerous systems
				mission.addMessageText(&quot;Gold and gems are always valued here. A little &#39;political insurance&#39; remains popular.&quot;);
			}
			else {	
			if (System.infoForSystem(galaxyNumber, player.ship.targetSystem).government &lt; 3) {
				mission.addMessageText(&quot;When the political climate is a little more &#39;fluid&#39; then real wealth isn&#39;t really measured in credits anymore, or at least not for long.&quot;);
			}
			else {	// safer systems
				if (player.ship.targetSystem &lt; 25) {
					mission.addMessageText(&quot;Highly successful, industrial systems are home to many prosperous citizens.&quot;);
				}
				else {
				if (player.ship.targetSystem &lt; 50) {
					mission.addMessageText(&quot;Ostentatious displays of wealth are not uncommon here.&quot;);
				}
				else {
				if (player.ship.targetSystem &lt; 76) {
					mission.addMessageText(&quot;Without the more mundane cares of day to day survival, vanity is everywhere.&quot;);
				}
				else {	
				if (player.ship.targetSystem &lt; 101) {	
					mission.addMessageText(&quot;Wealth equals status here and those who have it like to flaunt it.&quot;);
				}
				else {
				if (player.ship.targetSystem &lt; 127) {	
					mission.addMessageText(&quot;Here is a wealthy, modern success story. Expendable income demands expensive non-essentials&quot;);
				}
				else {
				if (player.ship.targetSystem &lt; 152) {	
					mission.addMessageText(&quot;Visitors wishing to be taken seriously are advised to dress the part before disembarking.&quot;);
				}
				else {	
				if (player.ship.targetSystem &lt; 178) {	
					mission.addMessageText(&quot;Exotic pelts from across the galaxy often find their way to this system&#39;s various boutiques and outlets.&quot;);
				}
				else {	
				if (player.ship.targetSystem &lt; 203) {	
					mission.addMessageText(&quot;Millenium Wompom Pelts once sold massively here. Customer choice may be more varied now but the demand remains.&quot;);
				}
				else {	
				if (player.ship.targetSystem &lt; 229) {	
					mission.addMessageText(&quot;Fashion seldom did care about the weather; the splendid, planet-side EnviroDomes finally make such a sentiment seem wise.&quot;);
				}
				else {	
					mission.addMessageText(&quot;Felines and Rodents alike occasionally react with some alarm upon witnessing the local fashions.&quot;);
					}
				}
				}
			}
			}
			}
				}
				}
				}
			}
			}
			}
			}
			
		}
		}
		
		if (System.infoForSystem(galaxyNumber, player.ship.targetSystem).economy === 1) {	//	average industrial
			if (System.infoForSystem(galaxyNumber, player.ship.targetSystem).government &lt; 3 &amp;&amp; player.ship.targetSystem &lt; 50) {	//	dangerous systems
				mission.addMessageText(&quot;Dreaming of &#39;making it big&#39; is the norm here.&quot;);
			}
			else {	
			if (System.infoForSystem(galaxyNumber, player.ship.targetSystem).government &lt; 3 &amp;&amp; player.ship.targetSystem &lt; 101) {	//	dangerous systems
				mission.addMessageText(&quot;Thi planet is also mildly well known for the local tendency to lead a double-life.&quot;);
			}
			else {	
			if (System.infoForSystem(galaxyNumber, player.ship.targetSystem).government &lt; 3 &amp;&amp; player.ship.targetSystem &lt; 152) {	//	dangerous systems
				mission.addMessageText(&quot;Locals often like to have a hidden cache of something valuable, or illegal, or both.&quot;);
			}
			else {	
			if (System.infoForSystem(galaxyNumber, player.ship.targetSystem).government &lt; 3 &amp;&amp; player.ship.targetSystem &lt; 203) {	//	dangerous systems
				mission.addMessageText(&quot;As systems struggle to be competitive, the pressure and relative affluence can lead to a significant rise in the use of narcotics.&quot;);
			}
			else {	
			if (System.infoForSystem(galaxyNumber, player.ship.targetSystem).government &lt; 3) {
				mission.addMessageText(&quot;The endless grind of trying to get ahead drives many workers to distraction.&quot;);
			}
			else {	// safer systems
				if (player.ship.targetSystem &lt; 25) {
					mission.addMessageText(&quot;Bars of all kinds serve to distract the typical citizen from the daily grind of industrialised life.&quot;);
				}
				else {
				if (player.ship.targetSystem &lt; 50) {
					mission.addMessageText(&quot;Be they exotic spirits from otherworldly fauna or cheaply imported gutrot, there&#39;s a market for them here.&quot;);
				}
				else {
				if (player.ship.targetSystem &lt; 76) {		
					mission.addMessageText(&quot;Locals like to unwind after a tough work cycle and distractions are imported from across the sector.&quot;);
				}
				else {
				if (player.ship.targetSystem &lt; 101) {		
					mission.addMessageText(&quot;There is a long-standing tradition of local drinking songs but little concensus on what the words of any one of them might be.&quot;);
				}
				else {
				if (player.ship.targetSystem &lt; 127) {
				mission.addMessageText(&quot;Worlds like this one made the galaxy what is is today. Perhaps we chose the wrong model.&quot;);
				}
				else {
				if (player.ship.targetSystem &lt; 152) {
				mission.addMessageText(&quot;High levels of industry can take its toll upon a workforce.&quot;);
				}
				else {
				if (player.ship.targetSystem &lt; 178) {	
					mission.addMessageText(&quot;The grind of the rat-race can even get the rodents down sometimes. There&#39;s a high demand for escapism here.&quot;);
				}
				else {
				if (player.ship.targetSystem &lt; 203) {	
					mission.addMessageText(&quot;The typical citizen works long shifts for moderate pay. Doing better than most doesn&#39;t alwasy make folks happy.&quot;);
				}
				else {	
				if (player.ship.targetSystem &lt; 229) {	
					mission.addMessageText(&quot;You may have heard that drinking is bad for you. You won&#39;t hear it here.&quot;);
				}
				else {	
					mission.addMessageText(&quot;Quraveian Aron water, Soteraian lethal brandy and Teveriian evil juice are all very popular here.&quot;);
					}
					}
				}
			}
			}
			}
				}
				}
				}
			}
			}
			}
			}
			
		}
		}
		
		if (System.infoForSystem(galaxyNumber, player.ship.targetSystem).economy === 2) {	//	poor industrial
			if (System.infoForSystem(galaxyNumber, player.ship.targetSystem).government &lt; 3 &amp;&amp; player.ship.targetSystem &lt; 50) {	//	dangerous systems
				mission.addMessageText(&quot;Overwork is a big health problem here, as are certain means of trying to cope with it.&quot;);
			}
			else {	
			if (System.infoForSystem(galaxyNumber, player.ship.targetSystem).government &lt; 3 &amp;&amp; player.ship.targetSystem &lt; 101) {	//	dangerous systems
				mission.addMessageText(&quot;Poor industrial economies are built upon the backs of an even poorer workforce.&quot;);
			}
			else {	
			if (System.infoForSystem(galaxyNumber, player.ship.targetSystem).government &lt; 3 &amp;&amp; player.ship.targetSystem &lt; 152) {	//	dangerous systems
				mission.addMessageText(&quot;GalCop has expressed considerable concern over such systems. Cynics say is it to protect their wider influence rather than the citizens themselves.&quot;);
			}
			else {	
			if (System.infoForSystem(galaxyNumber, player.ship.targetSystem).government &lt; 3 &amp;&amp; player.ship.targetSystem &lt; 203) {	//	dangerous systems
				mission.addMessageText(&quot;&#39;Don&#39;t trade expensive trivia to a hungry world&#39;, has long been standard trading advice. Merchant visitors would do well to heed it in this case.&quot;);
			}
			else {	
			if (System.infoForSystem(galaxyNumber, player.ship.targetSystem).government &lt; 3) {
				mission.addMessageText(&quot;Many lives here are desperate struggles to find enough food to feed their families while avoiding other, even more desperate, people trying to take it from them.&quot;);
			}
			else {	// safer systems	
				if (player.ship.targetSystem &lt; 25) {
                mission.addMessageText(&quot;Great fabric mills work endlessly here, subject to adequate supply of course.&quot;);
				}
				else {
				if (player.ship.targetSystem &lt; 50) {
                mission.addMessageText(&quot;Clothing the galaxy is no small matter an it&#39;s a large part of what little income this system generates.&quot;);
				}
				else {	
				if (player.ship.targetSystem &lt; 76) {	
					mission.addMessageText(&quot;The resident industrialists make what they can in the less lucrative but more perrenial forms of manufacturing.&quot;);
				}
				else {
				if (player.ship.targetSystem &lt; 101) {	
					mission.addMessageText(&quot;Ornate fabrics are produced here and, with the import of foreign textiles, make simple luxury exports.&quot;);
				}
				else {	
				if (player.ship.targetSystem &lt; 127) {		
					mission.addMessageText(&quot;After food and water, people need warmth. The raw materials of the latter are made into clothes in numerous planet-side factories.&quot;);
				}
				else {
				if (player.ship.targetSystem &lt; 152) {		
					mission.addMessageText(&quot;The sheer variety of textiles that the galaxy can offer is staggering and many will find their way here to be made into clothes of one form or another.&quot;);
				}
				else {
				if (player.ship.targetSystem &lt; 178) {	
					mission.addMessageText(&quot;Superficially industry is booming, but profit is low. The cheap raw materials imported are only worth marginally more once processed.&quot;);
				}
				else {	
				if (player.ship.targetSystem &lt; 203) {	
					mission.addMessageText(&quot;Low demand necessitates cheap imports, cheap labour and even cheaper employers. It&#39;s what keeps systems like this one poor.&quot;);
				}
				else {	
				if (player.ship.targetSystem &lt; 229) {	
					mission.addMessageText(&quot;Hard work isn&#39;t just an admirable character trait here, it&#39;s the baseline for survival.&quot;);
				}
				else {	
					mission.addMessageText(&quot;Much work for little reward is the way of life here. Cheap clothes and produced in their trillions.&quot;);
										}
					}
				}
			}
			}
			}
				}
				}
				}
			}
			}
			}
			}
			
		}
		}
		
		if (System.infoForSystem(galaxyNumber, player.ship.targetSystem).economy === 3) {	//	mainly industrial
			if (System.infoForSystem(galaxyNumber, player.ship.targetSystem).government &lt; 3 &amp;&amp; player.ship.targetSystem &lt; 50) {	//	dangerous systems
				mission.addMessageText(&quot;Many missing people end up here. With a new name (or more likely a number) and a new job but seemingly little to live for.&quot;);
			}
			else {	
			if (System.infoForSystem(galaxyNumber, player.ship.targetSystem).government &lt; 3 &amp;&amp; player.ship.targetSystem &lt; 101) {	//	dangerous systems
				mission.addMessageText(&quot;More workers are always welcome here, seldom appreciated but always welcomed.&quot;);
			}
			else {	
			if (System.infoForSystem(galaxyNumber, player.ship.targetSystem).government &lt; 3 &amp;&amp; player.ship.targetSystem &lt; 152) {	//	dangerous systems
				mission.addMessageText(&quot;It may not be wise to step out of line in a place like this. Where life is cheap troublemakers don&#39;t tend to last for very long.&quot;);
			}
			else {	
			if (System.infoForSystem(galaxyNumber, player.ship.targetSystem).government &lt; 3 &amp;&amp; player.ship.targetSystem &lt; 203) {	//	dangerous systems
				mission.addMessageText(&quot;Cheap workers and ceap supplies to keep them working, that&#39;s what worlds like this one really run on.&quot;);
			}
			else {
			if (System.infoForSystem(galaxyNumber, player.ship.targetSystem).government &lt; 3) {
				mission.addMessageText(&quot;It wasn&#39;t supposed to be like this but the harsh reality of a mainly industrial system is the need for ever cheaper labour and the means to keep them working.&quot;);
			}
			else {	// safer systems	
				if (player.ship.targetSystem &lt; 25) {
					mission.addMessageText(&quot;Nuclear reactors are still the typical means of power generation on mainly industrial worlds.&quot;);
				}
				else {
				if (player.ship.targetSystem &lt; 50) {
					mission.addMessageText(&quot;This is the kind of place people escape to, trying to start a new life, only to wish that they hadn&#39;t.&quot;);
				}
				else {
				if (player.ship.targetSystem &lt; 76) {		
					mission.addMessageText(&quot;Many came here hoping for the best of both worlds only to end up working at one of the reactors that power this often dreary place.&quot;);
				}
				else {
				if (player.ship.targetSystem &lt; 101) {		
					mission.addMessageText(&quot;The atomic age never did quite live up to all that was hoped from it. Some systems got left behind, systems like this one.&quot;);
				}
				else {
				if (player.ship.targetSystem &lt; 127) {	
					mission.addMessageText(&quot;A world very much like this one was the site of a deadly industrial accident. The reactor where it took place is still in use.&quot;);
				}
				else {
				if (player.ship.targetSystem &lt; 152) {	
					mission.addMessageText(&quot;The distinctive local appearance is entirely unrelated to the long term and extensive use of radioactives on the planet. Thanks for clearing that up GalCop!&quot;);
				}
				else {
				if (player.ship.targetSystem &lt; 178) {	
				mission.addMessageText(&quot;Lacking the infrastructure to adequately harness the power of the planet, or of the star that it orbits, this world has instead turned to the atom.&quot;);
				}
				else {	
				if (player.ship.targetSystem &lt; 203) {	
				mission.addMessageText(&quot;&#39;Cleaner Power for a Cleaner Planet&#39;, so said Cleaner Radioactive Atomic Power Inc. an early subsidiary of GalCop. For better or worse, this place is one of their legacies.&quot;);
				}
				else {
				if (player.ship.targetSystem &lt; 229) {	
				mission.addMessageText(&quot;&#39;I&#39;m sure I&#39;ve been to worse places, unfortunately they were also on this planet.&#39; - Sample tourist review from systems with similar ratings.&quot;);
				}
				else {
					mission.addMessageText(&quot;You won&#39;t find them at the orbital station, planet-side visitors however can sometimes find old signs promoting nuclear energy as the planet&#39;s future.&quot;);
				}
					}
				}
			}
			}
			}
				}
				}
				}
			}
			}
			}
			}
			
		}
		}
		
		if (System.infoForSystem(galaxyNumber, player.ship.targetSystem).economy === 4) {	//	mainly agricultural
			if (System.infoForSystem(galaxyNumber, player.ship.targetSystem).government &lt; 3 &amp;&amp; player.ship.targetSystem &lt; 50) {	//	dangerous systems
				mission.addMessageText(&quot;Mining workers here perform some of the toughest shifts throughout the eight only to receive some of the smallest rewards in the sector.&quot;);
			}
			else {	
			if (System.infoForSystem(galaxyNumber, player.ship.targetSystem).government &lt; 3 &amp;&amp; player.ship.targetSystem &lt; 101) {	//	dangerous systems
				mission.addMessageText(&quot;A couple of generations ago there was a big publicity drive to bring in more workers. Most of them are dead now.&quot;);
			}
			else {	
			if (System.infoForSystem(galaxyNumber, player.ship.targetSystem).government &lt; 3 &amp;&amp; player.ship.targetSystem &lt; 152) {	//	dangerous systems
				mission.addMessageText(&quot;&#39;More work for less pay&#39; isn&#39;t just a joke here.&quot;);
			}
			else {	
			if (System.infoForSystem(galaxyNumber, player.ship.targetSystem).government &lt; 3 &amp;&amp; player.ship.targetSystem &lt; 203) {	//	dangerous systems
				mission.addMessageText(&quot;&#39;Rocks and Refugees: desperate work and desperate people&#39;, was the popular title of a leaked GalCop report, the contents of which included mention of this system.&quot;);
			}
			else {	
			if (System.infoForSystem(galaxyNumber, player.ship.targetSystem).government &lt; 3) {
				mission.addMessageText(&quot;That some of the most valuable commodities can be found within some of the cheapest is a cruel irony that locals know all too well.&quot;);
			}
			else {	// safer systems	
				if (player.ship.targetSystem &lt; 25) {
					mission.addMessageText(&quot;Increasing automation is a common goal of mainly agricultural systems.&quot;);
				}
				else {
				if (player.ship.targetSystem &lt; 50) {
					mission.addMessageText(&quot;Visitors often remark upon the promotion of robotics within the orbital station and the notable absence of the same on the planet itself.&quot;);
				}
				else {
				if (player.ship.targetSystem &lt; 76) {
					mission.addMessageText(&quot;The transition from manual labour to mechanisation on such worlds has left many workers worried for their futures.&quot;);
				}
				else {
				if (player.ship.targetSystem &lt; 101) {
					mission.addMessageText(&quot;The local word for &#39;modernisation&#39;, loosely translated, is also used as a slang word meaning, &#39;something that never happens&#39;.&quot;);
				}
				else {
				if (player.ship.targetSystem &lt; 127) {	
					mission.addMessageText(&quot;Marketing material for this system describes a swiftly modernising, developing economy.&quot;);
				}
				else {
				if (player.ship.targetSystem &lt; 152) {	
					mission.addMessageText(&quot;Early attempts at making work more palatable, such as the slogan &#39;Mining Rocks!&#39;, soon became reappropriated as &#39;Mining Sucks!&#39;.&quot;);
				}
				else {
				if (player.ship.targetSystem &lt; 178) {	
					mission.addMessageText(&quot;Systems like this one risk getting left behind without embracing something of industrial efficiency.&quot;);
				}
				else {		
				if (player.ship.targetSystem &lt; 203) {	
					mission.addMessageText(&quot;Local officials often complain that it requires considerable progress just to stay this far behind.&quot;);
				}
				else {	
				if (player.ship.targetSystem &lt; 229) {	
					mission.addMessageText(&quot;This is the kind of system that is periodically visited by senior GalCop personnel telling all that they haven&#39;t been forgotten about.&quot;);
				}
				else {	
					mission.addMessageText(&quot;&#39;Poor agriculture in waiting&#39; is how some of these systems are described. The desperate drive to escape that fate is palpable.&quot;);
					}
					}
				}
			}
			}
			}
				}
				}
				}
			}
			}
			}
			}
			
		}
		}
		
		if (System.infoForSystem(galaxyNumber, player.ship.targetSystem).economy === 5) {	//	rich agricultural
			if (System.infoForSystem(galaxyNumber, player.ship.targetSystem).government &lt; 3 &amp;&amp; player.ship.targetSystem &lt; 50) {	//	dangerous systems
				mission.addMessageText(&quot;When the political climate is a little more &#39;fluid&#39; then real wealth isn&#39;t really measured in credits anymore, or at least not for long.&quot;);
			}
			else {
			if (System.infoForSystem(galaxyNumber, player.ship.targetSystem).government &lt; 3 &amp;&amp; player.ship.targetSystem &lt; 101) {	//	dangerous systems
				mission.addMessageText(&quot;What the poor man works hardest for, the rich man adorns himself with. The two extremes of production economies in the 4th millenium.&quot;);
			}
			else {
			if (System.infoForSystem(galaxyNumber, player.ship.targetSystem).government &lt; 3 &amp;&amp; player.ship.targetSystem &lt; 152) {	//	dangerous systems
				mission.addMessageText(&quot;Not all that glitters is gold; sometimes it&#39;s even better!&quot;);
			}
			else {
			if (System.infoForSystem(galaxyNumber, player.ship.targetSystem).government &lt; 3 &amp;&amp; player.ship.targetSystem &lt; 203) {	//	dangerous systems
				mission.addMessageText(&quot;It&#39;s not that the super rich don&#39;t appreciate gold, it&#39;s just that there are more valuable comodities to hold their interest.&quot;);
			}
			else {
			if (System.infoForSystem(galaxyNumber, player.ship.targetSystem).government &lt; 3) {
				mission.addMessageText(&quot;Rich systems are seldom this politically unstable. Reliable forms of investment are much sought after by discerning buyers.&quot;);
			}
			else {	// safer systems	
				if (player.ship.targetSystem &lt; 25) {
					mission.addMessageText(&quot;Affluent rural worlds are often beautiful but sometimes lack the finer components of urban convenience.&quot;);
				}
				else {
				if (player.ship.targetSystem &lt; 50) {
					mission.addMessageText(&quot;Plenty of money but sometimes a little less opportunity to own the &#39;finer things&#39; of consumerism.&quot;);
				}
				else {
				if (player.ship.targetSystem &lt; 76) {	
					mission.addMessageText(&quot;Planet-siders are known for their love of the latest non-essentials. Advertisers exploit this trait mercilessly.&quot;);
				}
				else {
				if (player.ship.targetSystem &lt; 101) {	
					mission.addMessageText(&quot;More leisure time means more advertising exposure, certainly at this system it does.&quot;);
				}
				else {	
				if (player.ship.targetSystem &lt; 127) {
					mission.addMessageText(&quot;&#39;Beautiful scenery is all well and good but what use is it if I can&#39;t enjoy a good coffee?&#39;, is often heard from visitors.&quot;);
				}
				else {
				if (player.ship.targetSystem &lt; 152) {
					mission.addMessageText(&quot;People come here for the scenery but getting the most wealthy to stay is dependant upon the regular supply of luxury items.&quot;);
				}
				else {
				if (player.ship.targetSystem &lt; 178) {
					mission.addMessageText(&quot;It&#39;s remarkable how often one&#39;s needs increase in direct proportion to one&#39;s wealth.&quot;);
				}
				else {
				if (player.ship.targetSystem &lt; 203) {	
					mission.addMessageText(&quot;What can you get the world that has everything, when whatever it doesn&#39;t have it doesn&#39;t need? Whatever it doesn&#39;t need of course!&quot;);
				}
				else {		
				if (player.ship.targetSystem &lt; 229) {	
					mission.addMessageText(&quot;It is the ambition of many to one day afford to live on a world like this one. For most, such a dream will never be within their reach.&quot;);
				}
				else {	
					mission.addMessageText(&quot;One of the most exclusive holiday destinations, catering for the obscenely wealthy. They may be few but their appetites are voracious.&quot;);
				}
					}
				}
			}
			}
			}
				}
				}
				}
			}
			}
			}
			}
			
		}
		}
		
		if (System.infoForSystem(galaxyNumber, player.ship.targetSystem).economy === 6) {	//	average agricultural
			if (System.infoForSystem(galaxyNumber, player.ship.targetSystem).government &lt; 3 &amp;&amp; player.ship.targetSystem &lt; 50) {	//	dangerous systems
				mission.addMessageText(&quot;Cut-throat competition amongst farmers drives a fierce demand for &#39;insurance&#39; policies of various unofficial sorts.&quot;);
			}
			else {
			if (System.infoForSystem(galaxyNumber, player.ship.targetSystem).government &lt; 3 &amp;&amp; player.ship.targetSystem &lt; 101) {	//	dangerous systems
				mission.addMessageText(&quot;Due to general instability, the ideal gift for a local farmer in these parts is said to be a &#39;platinum assault rifle&#39;.&quot;);
			}
			else {
			if (System.infoForSystem(galaxyNumber, player.ship.targetSystem).government &lt; 3 &amp;&amp; player.ship.targetSystem &lt; 152) {	//	dangerous systems
				mission.addMessageText(&quot;Citizens seek to defend themselves from misfortunes both financial and physical.&quot;);
			}
			else {
			if (System.infoForSystem(galaxyNumber, player.ship.targetSystem).government &lt; 3 &amp;&amp; player.ship.targetSystem &lt; 203) {	//	dangerous systems
				mission.addMessageText(&quot;In this system, platinum doubles as a useful tecnological component as well as a guard against economic collapse.&quot;);
			}
			else {
			if (System.infoForSystem(galaxyNumber, player.ship.targetSystem).government &lt; 3) {
				mission.addMessageText(&quot;Crime and the war against it can easily get out of control despite GalCop&#39;s best efforts.&quot;);
			}
			else {	// safer systems	
				if (player.ship.targetSystem &lt; 25) {
					mission.addMessageText(&quot;Growing production economies like this one typically have good infrastructure but lack optimisation.&quot;);
				}
				else {
				if (player.ship.targetSystem &lt; 50) {
					mission.addMessageText(&quot;There is the common belief that such sytems aren&#39;t quite living up to their potential and that there is much room for growth.&quot;);
				}
				else {
				if (player.ship.targetSystem &lt; 76) {
					mission.addMessageText(&quot;Farmers here are often left frustrated at the success of their richer counterparts elsewhere.&quot;);
				}
				else {
				if (player.ship.targetSystem &lt; 101) {
					mission.addMessageText(&quot;Sophisticated climate prediction methods are in high demand here.&quot;);
				}
				else {
				if (player.ship.targetSystem &lt; 127) {
					mission.addMessageText(&quot;What worlds like this one lack to really be a success is the most up-to-date methods and strategies for monitoring, modelling and gene-editing crops.&quot;);
				}
				else {
				if (player.ship.targetSystem &lt; 152) {
					mission.addMessageText(&quot;Some see such areas as &#39;nearly systems&#39; with investors scrambling to get involved in those that are just about to fulfil their potential.&quot;);
				}
				else {
				if (player.ship.targetSystem &lt; 178) {		
					mission.addMessageText(&quot;Primary production requires responding to multiple variables as close to pre-emptively as possible. Any means of reliably doing so is highly valued here.&quot;);
				}
				else {	
				if (player.ship.targetSystem &lt; 203) {		
					mission.addMessageText(&quot;The latest computing technology is always in demand here. It&#39;s the standard means by which such systems advance.&quot;);
				}
				else {	
				if (player.ship.targetSystem &lt; 229) {		
					mission.addMessageText(&quot;Every average agricultural system would be rich if there weren&#39;t so many of them. Competitiomn between them is fierce.&quot;);
				}
				else {	
					mission.addMessageText(&quot;&#39;The Ma-Corn Baskets of the Eight&#39;, typical agriculturals end up feeding much of the galaxy while richer neighbours farm either more profitable goods or finer quality produce.&quot;);
					}
					}
				}
			}
			}
			}
				}
				}
				}
			}
			}
			}
			}
			
		}
		}
		
		if (System.infoForSystem(galaxyNumber, player.ship.targetSystem).economy === 7) {	//	poor agricultural
			if (System.infoForSystem(galaxyNumber, player.ship.targetSystem).government &lt; 3 &amp;&amp; player.ship.targetSystem &lt; 50) {	//	dangerous systems
				mission.addMessageText(&quot;In other systems people fight for wealth or glory, here it&#39;s just to survive.&quot;);
			}
			else {
			if (System.infoForSystem(galaxyNumber, player.ship.targetSystem).government &lt; 3 &amp;&amp; player.ship.targetSystem &lt; 101) {	//	dangerous systems
				mission.addMessageText(&quot;They say, &#39;Happiness is a super-cooled, rapid-fire, multi-targetting assault rifle&#39;. Almost no one can afford it but those that can tend to buy lots.&quot;);
			}
			else {
			if (System.infoForSystem(galaxyNumber, player.ship.targetSystem).government &lt; 3 &amp;&amp; player.ship.targetSystem &lt; 152) {	//	dangerous systems
				mission.addMessageText(&quot;Mining is still a thing here. It&#39;s dirty work but they&#39;re desperate enough to import minerals from which to extract tiny amounts of more valuable trace elements.&quot;);
			}
			else {
			if (System.infoForSystem(galaxyNumber, player.ship.targetSystem).government &lt; 3 &amp;&amp; player.ship.targetSystem &lt; 203) {	//	dangerous systems
				mission.addMessageText(&quot;In poor, near lawless societies, guns are the popular means of both control and rebellion.&quot;);
			}
			else {
			if (System.infoForSystem(galaxyNumber, player.ship.targetSystem).government &lt; 3) {
				mission.addMessageText(&quot;Not all production economies are an idyllic, pastoral paradise. Some are extraction based hell-holes, the kind of homeworld that encourages dreams of a life in space.&quot;);
			}
			else {	// safer systems	
				if (player.ship.targetSystem &lt; 25) {
					mission.addMessageText(&quot;Agricultural systems that are still trying to establish themselves often require basic structural components.&quot;);
				}
				else {
				if (player.ship.targetSystem &lt; 50) {
					mission.addMessageText(&quot;If systems like this one are going to progress then they will need to start with the basics.&quot;);
				}
				else {
				if (player.ship.targetSystem &lt; 76) {	
					mission.addMessageText(&quot;With little in the way of mod-cons, locals tend to be rugged, unsophisticated, loner types - just the sort to annoy pampered, unsophisticated, visitor types.&quot;);
				}
				else {
				if (player.ship.targetSystem &lt; 101) {	
					mission.addMessageText(&quot;Locals are tough, hard workers by necessity. They often display the charming custom of calling visiting off-worlders by the names of various local, delicate flowers.&quot;);
				}
				else {
				if (player.ship.targetSystem &lt; 127) {
					mission.addMessageText(&quot;It&#39;s not a lack of resources, nor is it a lack of machinery that&#39;s holding this system back, rather it&#39;s the lack of docks, adequate stores and expertise.&quot;);
				}
				else {
				if (player.ship.targetSystem &lt; 152) {
					mission.addMessageText(&quot;Infrastructure. Much discussed and little evidenced.&quot;);
				}
				else {
				if (player.ship.targetSystem &lt; 178) {	
					mission.addMessageText(&quot;Construction is underway to develop this system but material resources are low.&quot;);
				}
				else {	
				if (player.ship.targetSystem &lt; 203) {	
					mission.addMessageText(&quot;Modern alloys are in short supply here and shipments are always welcome..&quot;);
				}
				else {	
				if (player.ship.targetSystem &lt; 229) {	
					mission.addMessageText(&quot;The poorer systems need basic, relatively cheap materials. In the case of an agricultural world, it&#39;s not to consume but to build.&quot;);
				}
				else {	
					mission.addMessageText(&quot;One of the poorest systems in the sector. There is a desperate need for simple construction materials.&quot;);
						}
					}
				}
			}
			}
			}
				}
				}
				}
			}
			}
			}
			}
			
		}
		}
	}
}

//	Market Manipulation

this.shipExitedWitchspace = function()	// arrival and setting the markets

{
    if (system.isInterstellarSpace) return;	// no conventional market and no economy type... let&#39;s not bother
	
	//	player.ship.fuel = 7.0;	//	test code so I/you can zip about and see if this thing is actually working...

    var demand_mod = (system.population - 35); // price adjustment for imports
    var supply_mod = 28 - (system.productivity / 1000); // supply adjustment for exports
	var focus_mod = (system.techLevel - 8) * 2; // price adjustment for exports
	var new_stock; // stocking variation
	var new_price; // price variation
	var shortage_factor; //	where there&#39;s high demand there&#39;s low supply

	
	if(system.economy == 0)     // rich industrial
        {
		new_stock = Math.floor(((Math.random() + 0.5) * 60) - supply_mod);
		if(new_stock &lt; 0) {new_stock = 0};
        system.mainStation.setMarketQuantity(&quot;luxuries&quot;, new_stock);
		new_stock = Math.floor(((Math.random() + 0.5) * 60) - supply_mod);
		if(new_stock &lt; 0) {new_stock = 0};
        system.mainStation.setMarketQuantity(&quot;computers&quot;, new_stock);
		new_stock = Math.floor(((Math.random() + 0.5) * 60) - supply_mod);
		if(new_stock &lt; 0) {new_stock = 0};
        system.mainStation.setMarketQuantity(&quot;machinery&quot;, new_stock); 
		new_stock = Math.floor(((Math.random() + 0.5) * 60) - supply_mod);
		if(new_stock &lt; 0) {new_stock = 0};
		system.mainStation.setMarketQuantity(&quot;alloys&quot;, new_stock); 
		
		new_price = Math.floor(system.mainStation.market.luxuries.price + (focus_mod * 4) + (Math.random() * (10 - 1 + 1) - 5));
		system.mainStation.setMarketPrice(&quot;luxuries&quot;, new_price);
		new_price = Math.floor(system.mainStation.market.computers.price - (focus_mod * 3) + (Math.random() * (10 - 1 + 1) - 5));
        system.mainStation.setMarketPrice(&quot;computers&quot;, new_price);
		new_price = Math.floor(system.mainStation.market.machinery.price - (focus_mod * 2) + (Math.random() * (10 - 1 + 1) - 5));
        system.mainStation.setMarketPrice(&quot;machinery&quot;, new_price); 
		new_price = Math.floor(system.mainStation.market.alloys.price + focus_mod + (Math.random() * (10 - 1 + 1) - 5));
		system.mainStation.setMarketPrice(&quot;alloys&quot;, new_price);  
		
		new_price = Math.floor(560 + 80 + demand_mod + ((Math.random() * (10 - 1 + 1) - 5) * 4));
		system.mainStation.setMarketPrice(&quot;furs&quot;, new_price);
		new_price = Math.floor(252 + 61 + demand_mod + ((Math.random() * (10 - 1 + 1) - 5) * 3));
        system.mainStation.setMarketPrice(&quot;liquor_wines&quot;, new_price);
		new_price = Math.floor(212 + 48 + demand_mod + ((Math.random() * (10 - 1 + 1) - 5) * 2));
        system.mainStation.setMarketPrice(&quot;radioactives&quot;, new_price); 
		new_price = Math.floor(64 + 32 + demand_mod + (Math.random() * (10 - 1 + 1) - 5));
		system.mainStation.setMarketPrice(&quot;textiles&quot;, new_price); 
		
		shortage_factor = Math.floor(system.mainStation.market.textiles.quantity / 1.5);
		system.mainStation.setMarketQuantity(&quot;textiles&quot;, shortage_factor);
		shortage_factor = Math.floor(system.mainStation.market.radioactives.quantity / 3);
		system.mainStation.setMarketQuantity(&quot;radioactives&quot;, shortage_factor);
		shortage_factor = Math.floor(system.mainStation.market.liquor_wines.quantity / 6);
		system.mainStation.setMarketQuantity(&quot;liquor_wines&quot;, shortage_factor);
		shortage_factor = Math.floor(system.mainStation.market.furs.quantity / 12);
		system.mainStation.setMarketQuantity(&quot;furs&quot;, shortage_factor);
		
		if(system.government &lt; 3) {	//	riskier but more rewarding
			new_price = Math.floor(164 + 144 + demand_mod + ((Math.random() * (10 - 1 + 1) - 5) * 4));
			system.mainStation.setMarketPrice(&quot;gem_stones&quot;, new_price);
			new_price = Math.floor(372 + 202 + demand_mod + ((Math.random() * (10 - 1 + 1) - 5) * 3));
			system.mainStation.setMarketPrice(&quot;gold&quot;, new_price);
			
			shortage_factor = Math.floor(system.mainStation.market.gem_stones.quantity / 1.5);
			system.mainStation.setMarketQuantity(&quot;gem_stones&quot;, shortage_factor);
			shortage_factor = Math.floor(system.mainStation.market.gold.quantity / 3);
			system.mainStation.setMarketQuantity(&quot;gold&quot;, shortage_factor);
			}
        }
        
	if(system.economy == 1)     // average industrial
        {
        new_stock = Math.floor(((Math.random() + 0.5) * 40) - supply_mod);
		if(new_stock &lt; 0) {new_stock = 0};
        system.mainStation.setMarketQuantity(&quot;luxuries&quot;, new_stock);
		new_stock = Math.floor(((Math.random() + 0.5) * 40) - supply_mod);
		if(new_stock &lt; 0) {new_stock = 0};
        system.mainStation.setMarketQuantity(&quot;computers&quot;, new_stock);
		new_stock = Math.floor(((Math.random() + 0.5) * 40) - supply_mod);
		if(new_stock &lt; 0) {new_stock = 0};
        system.mainStation.setMarketQuantity(&quot;machinery&quot;, new_stock); 
		new_stock = Math.floor(((Math.random() + 0.5) * 40) - supply_mod);
		if(new_stock &lt; 0) {new_stock = 0};
		system.mainStation.setMarketQuantity(&quot;alloys&quot;, new_stock); 

		new_price = Math.floor(system.mainStation.market.luxuries.price + (focus_mod * 4) + (Math.random() * (10 - 1 + 1) - 5));
		system.mainStation.setMarketPrice(&quot;luxuries&quot;, new_price);
		new_price = Math.floor(system.mainStation.market.computers.price - (focus_mod * 3) + (Math.random() * (10 - 1 + 1) - 5));
        system.mainStation.setMarketPrice(&quot;computers&quot;, new_price);
		new_price = Math.floor(system.mainStation.market.machinery.price - (focus_mod * 2) + (Math.random() * (10 - 1 + 1) - 5));
        system.mainStation.setMarketPrice(&quot;machinery&quot;, new_price); 
		new_price = Math.floor(system.mainStation.market.alloys.price + focus_mod + (Math.random() * (10 - 1 + 1) - 5));
		system.mainStation.setMarketPrice(&quot;alloys&quot;, new_price);  
		
		new_price = Math.floor(560 + 47 + ((Math.random() * (20 - 1 + 1)) * 4));
		system.mainStation.setMarketPrice(&quot;furs&quot;, new_price);
		new_price = Math.floor(252 + 60 + ((Math.random() * (20 - 1 + 1)) * 3));
        system.mainStation.setMarketPrice(&quot;liquor_wines&quot;, new_price);
		new_price = Math.floor(212 + 36 + ((Math.random() * (20 - 1 + 1)) * 2));
        system.mainStation.setMarketPrice(&quot;radioactives&quot;, new_price); 
		new_price = Math.floor(64 + 24 + (Math.random() * (20 - 1 + 1)));
		system.mainStation.setMarketPrice(&quot;textiles&quot;, new_price); 
		
		shortage_factor = Math.floor(system.mainStation.market.textiles.quantity / 1.5);
		system.mainStation.setMarketQuantity(&quot;textiles&quot;, shortage_factor);
		shortage_factor = Math.floor(system.mainStation.market.radioactives.quantity / 3);
		system.mainStation.setMarketQuantity(&quot;radioactives&quot;, shortage_factor);
		shortage_factor = Math.floor(system.mainStation.market.furs.quantity / 6);
		system.mainStation.setMarketQuantity(&quot;furs&quot;, shortage_factor);
		shortage_factor = Math.floor(system.mainStation.market.liquor_wines.quantity / 12);
		system.mainStation.setMarketQuantity(&quot;liquor_wines&quot;, shortage_factor);
		
		if(system.government &lt; 3) {	//	riskier but more rewarding
			new_price = Math.floor(372 + 107 + demand_mod + ((Math.random() * (10 - 1 + 1) - 5) * 4));
			system.mainStation.setMarketPrice(&quot;gold&quot;, new_price);
			new_price = Math.floor(1148 + 139 + demand_mod + ((Math.random() * (10 - 1 + 1) - 5) * 3));
			system.mainStation.setMarketPrice(&quot;narcotics&quot;, new_price);
			
			shortage_factor = Math.floor(system.mainStation.market.gold.quantity / 1.5);
			system.mainStation.setMarketQuantity(&quot;gold&quot;, shortage_factor);
			shortage_factor = Math.floor(system.mainStation.market.narcotics.quantity / 3);
			system.mainStation.setMarketQuantity(&quot;narcotics&quot;, shortage_factor);	
			}
        }
        

	if(system.economy == 2)     // poor industrial
        {
        new_stock = Math.floor(((Math.random() + 0.5) * 30) - supply_mod);
		if(new_stock &lt; 0) {new_stock = 0};
        system.mainStation.setMarketQuantity(&quot;luxuries&quot;, new_stock);
		new_stock = Math.floor(((Math.random() + 0.5) * 30) - supply_mod);
		if(new_stock &lt; 0) {new_stock = 0};
        system.mainStation.setMarketQuantity(&quot;computers&quot;, new_stock);
		new_stock = Math.floor(((Math.random() + 0.5) * 30) - supply_mod);
		if(new_stock &lt; 0) {new_stock = 0};
        system.mainStation.setMarketQuantity(&quot;machinery&quot;, new_stock); 
		new_stock = Math.floor(((Math.random() + 0.5) * 30) - supply_mod);
		if(new_stock &lt; 0) {new_stock = 0};
		system.mainStation.setMarketQuantity(&quot;alloys&quot;, new_stock); 
		
		new_price = Math.floor(system.mainStation.market.luxuries.price + (focus_mod * 4) + (Math.random() * (10 - 1 + 1) - 5));
		system.mainStation.setMarketPrice(&quot;luxuries&quot;, new_price);
		new_price = Math.floor(system.mainStation.market.computers.price - (focus_mod * 3) + (Math.random() * (10 - 1 + 1) - 5));
        system.mainStation.setMarketPrice(&quot;computers&quot;, new_price);
		new_price = Math.floor(system.mainStation.market.machinery.price - (focus_mod * 2) + (Math.random() * (10 - 1 + 1) - 5));
        system.mainStation.setMarketPrice(&quot;machinery&quot;, new_price); 
		new_price = Math.floor(system.mainStation.market.alloys.price + focus_mod + (Math.random() * (10 - 1 + 1) - 5));
		system.mainStation.setMarketPrice(&quot;alloys&quot;, new_price);  
		
		new_price = Math.floor(560 + 7 + demand_mod + ((Math.random() * (10 - 1 + 1) - 5) * 4));
		system.mainStation.setMarketPrice(&quot;furs&quot;, new_price);
		new_price = Math.floor(252 + 11 + demand_mod + ((Math.random() * (10 - 1 + 1) - 5) * 3));
        system.mainStation.setMarketPrice(&quot;liquor_wines&quot;, new_price);
		new_price = Math.floor(212 + 15 + demand_mod + ((Math.random() * (10 - 1 + 1) - 5) * 2));
        system.mainStation.setMarketPrice(&quot;radioactives&quot;, new_price); 
		new_price = Math.floor(64 + 20 + demand_mod + ((Math.random() * (10 - 1 + 1) - 5)));
		system.mainStation.setMarketPrice(&quot;textiles&quot;, new_price); 
		
		shortage_factor = Math.floor(system.mainStation.market.furs.quantity / 1.5);
		system.mainStation.setMarketQuantity(&quot;furs&quot;, shortage_factor);
		shortage_factor = Math.floor(system.mainStation.market.liquor_wines.quantity / 3);
		system.mainStation.setMarketQuantity(&quot;liquor_wines&quot;, shortage_factor);
		shortage_factor = Math.floor(system.mainStation.market.radioactives.quantity / 6);
		system.mainStation.setMarketQuantity(&quot;radioactives&quot;, shortage_factor);
		shortage_factor = Math.floor(system.mainStation.market.textiles.quantity / 12);
		system.mainStation.setMarketQuantity(&quot;textiles&quot;, shortage_factor);
		
		if(system.government &lt; 3) {	//	riskier but more rewarding
			new_price = Math.floor(1148 + 48 + demand_mod + ((Math.random() * (10 - 1 + 1) - 5) * 4));
			system.mainStation.setMarketPrice(&quot;narcotics&quot;, new_price);
			new_price = Math.floor(44 + 37 + demand_mod + ((Math.random() * (10 - 1 + 1) - 5) * 3));
			system.mainStation.setMarketPrice(&quot;food&quot;, new_price);
			
			shortage_factor = Math.floor(system.mainStation.market.food.quantity / 1.5);
			system.mainStation.setMarketQuantity(&quot;food&quot;, shortage_factor);
			shortage_factor = Math.floor(system.mainStation.market.narcotics.quantity / 3);
			system.mainStation.setMarketQuantity(&quot;narcotics&quot;, shortage_factor);	
			}
        }
        

	if(system.economy == 3)     // mainly industrial
        {
        new_stock = Math.floor(((Math.random() + 0.5) * 20) - supply_mod);
		if(new_stock &lt; 0) {new_stock = 0};
        system.mainStation.setMarketQuantity(&quot;luxuries&quot;, new_stock);
		new_stock = Math.floor(((Math.random() + 0.5) * 20) - supply_mod);
		if(new_stock &lt; 0) {new_stock = 0};
        system.mainStation.setMarketQuantity(&quot;computers&quot;, new_stock);
		new_stock = Math.floor(((Math.random() + 0.5) * 20) - supply_mod);
		if(new_stock &lt; 0) {new_stock = 0};
        system.mainStation.setMarketQuantity(&quot;machinery&quot;, new_stock); 
		new_stock = Math.floor(((Math.random() + 0.5) * 20) - supply_mod);
		if(new_stock &lt; 0) {new_stock = 0};
		system.mainStation.setMarketQuantity(&quot;alloys&quot;, new_stock);  
		
		new_price = Math.floor(system.mainStation.market.luxuries.price + (focus_mod * 4) + (Math.random() * (10 - 1 + 1) - 5));
		system.mainStation.setMarketPrice(&quot;luxuries&quot;, new_price);
		new_price = Math.floor(system.mainStation.market.computers.price - (focus_mod * 3) + (Math.random() * (10 - 1 + 1) - 5));
        system.mainStation.setMarketPrice(&quot;computers&quot;, new_price);
		new_price = Math.floor(system.mainStation.market.machinery.price - (focus_mod * 2) + (Math.random() * (10 - 1 + 1) - 5));
        system.mainStation.setMarketPrice(&quot;machinery&quot;, new_price); 
		new_price = Math.floor(system.mainStation.market.alloys.price + focus_mod + (Math.random() * (10 - 1 + 1) - 5));
		system.mainStation.setMarketPrice(&quot;alloys&quot;, new_price);   
		
		new_price = Math.floor(560 + 15 + demand_mod + ((Math.random() * (10 - 1 + 1) - 5) * 4));
		system.mainStation.setMarketPrice(&quot;furs&quot;, new_price);
		new_price = Math.floor(252 + 40 + demand_mod + ((Math.random() * (10 - 1 + 1) - 5) * 3));
        system.mainStation.setMarketPrice(&quot;liquor_wines&quot;, new_price);
		new_price = Math.floor(212 + 72 + demand_mod + ((Math.random() * (10 - 1 + 1) - 5) * 2));
        system.mainStation.setMarketPrice(&quot;radioactives&quot;, new_price); 
		new_price = Math.floor(64 + 23 + demand_mod + (Math.random() * (10 - 1 + 1) - 5));
		system.mainStation.setMarketPrice(&quot;textiles&quot;, new_price); 
		
		shortage_factor = Math.floor(system.mainStation.market.furs.quantity / 1.5);
		system.mainStation.setMarketQuantity(&quot;furs&quot;, shortage_factor);
		shortage_factor = Math.floor(system.mainStation.market.textiles.quantity / 3);
		system.mainStation.setMarketQuantity(&quot;textiles&quot;, shortage_factor);
		shortage_factor = Math.floor(system.mainStation.market.liquor_wines.quantity / 6);
		system.mainStation.setMarketQuantity(&quot;liquor_wines&quot;, shortage_factor);
		shortage_factor = Math.floor(system.mainStation.market.radioactives.quantity / 12);
		system.mainStation.setMarketQuantity(&quot;radioactives&quot;, shortage_factor);
		
		if(system.government &lt; 3) {	//	riskier but more rewarding
			new_price = Math.floor(44 + 54 + demand_mod + ((Math.random() * (10 - 1 + 1) - 5) * 4));
			system.mainStation.setMarketPrice(&quot;food&quot;, new_price);
			new_price = Math.floor(80 + 72 + demand_mod + ((Math.random() * (10 - 1 + 1) - 5) * 3));
			system.mainStation.setMarketPrice(&quot;slaves&quot;, new_price);
			
			shortage_factor = Math.floor(system.mainStation.market.food.quantity / 1.5);
			system.mainStation.setMarketQuantity(&quot;food&quot;, shortage_factor);
			shortage_factor = Math.floor(system.mainStation.market.slaves.quantity / 3);
			system.mainStation.setMarketQuantity(&quot;slaves&quot;, shortage_factor);	
			}
        }
        

	if(system.economy == 4)     // mainly agricultural
        {
		new_stock = Math.floor(((Math.random() + 0.5) * 20) - supply_mod);
		if(new_stock &lt; 0) {new_stock = 0};
        system.mainStation.setMarketQuantity(&quot;furs&quot;, new_stock);
		new_stock = Math.floor(((Math.random() + 0.5) * 20) - supply_mod);
		if(new_stock &lt; 0) {new_stock = 0};
        system.mainStation.setMarketQuantity(&quot;liquor_wines&quot;, new_stock);
		new_stock = Math.floor(((Math.random() + 0.5) * 20) - supply_mod);
		if(new_stock &lt; 0) {new_stock = 0};
        system.mainStation.setMarketQuantity(&quot;radioactives&quot;, new_stock);
		new_stock = Math.floor(((Math.random() + 0.5) * 20) - supply_mod);
		if(new_stock &lt; 0) {new_stock = 0};
		system.mainStation.setMarketQuantity(&quot;textiles&quot;, new_stock); 
		
		new_price = Math.floor(system.mainStation.market.furs.price + (focus_mod * 4) + (Math.random() * (10 - 1 + 1) - 5));
		system.mainStation.setMarketPrice(&quot;furs&quot;, new_price);
		new_price = Math.floor(system.mainStation.market.liquor_wines.price - (focus_mod * 3) + (Math.random() * (10 - 1 + 1) - 5));
        system.mainStation.setMarketPrice(&quot;liquor_wines&quot;, new_price);
		new_price = Math.floor(system.mainStation.market.radioactives.price - (focus_mod * 2) + (Math.random() * (10 - 1 + 1) - 5));
        system.mainStation.setMarketPrice(&quot;radioactives&quot;, new_price); 
		new_price = Math.floor(system.mainStation.market.textiles.price + focus_mod + (Math.random() * (10 - 1 + 1) - 5));
		system.mainStation.setMarketPrice(&quot;textiles&quot;, new_price);  
		
		new_price = Math.floor(912 + 7 + demand_mod + ((Math.random() * (10 - 1 + 1) - 5) * 4));
		system.mainStation.setMarketPrice(&quot;luxuries&quot;, new_price);
		new_price = Math.floor(840 + 62 + demand_mod + ((Math.random() * (10 - 1 + 1) - 5) * 3));
        system.mainStation.setMarketPrice(&quot;computers&quot;, new_price);
		new_price = Math.floor(560 + 112 + demand_mod + ((Math.random() * (10 - 1 + 1) - 5) * 2));
        system.mainStation.setMarketPrice(&quot;machinery&quot;, new_price);
		new_price = Math.floor(328 + 47 + demand_mod + (Math.random() * (10 - 1 + 1) - 5));
		system.mainStation.setMarketPrice(&quot;alloys&quot;, new_price); 
		
		shortage_factor = Math.floor(system.mainStation.market.luxuries.quantity / 1.5);
		system.mainStation.setMarketQuantity(&quot;luxuries&quot;, shortage_factor);
		shortage_factor = Math.floor(system.mainStation.market.alloys.quantity / 3);
		system.mainStation.setMarketQuantity(&quot;alloys&quot;, shortage_factor);
		shortage_factor = Math.floor(system.mainStation.market.computers.quantity / 6);
		system.mainStation.setMarketQuantity(&quot;computers&quot;, shortage_factor);
		shortage_factor = Math.floor(system.mainStation.market.machinery.quantity / 12);
		system.mainStation.setMarketQuantity(&quot;machinery&quot;, shortage_factor);
		
		if(system.government &lt; 3) {	//	riskier but more rewarding
			new_price = Math.floor(80 + 112 + demand_mod + ((Math.random() * (10 - 1 + 1) - 5) * 4));
			system.mainStation.setMarketPrice(&quot;slaves&quot;, new_price);
			new_price = Math.floor(80 + 62 + demand_mod + ((Math.random() * (10 - 1 + 1) - 5) * 3));
			system.mainStation.setMarketPrice(&quot;minerals&quot;, new_price);
			
			shortage_factor = Math.floor(system.mainStation.market.minerals.quantity / 1.5);
			system.mainStation.setMarketQuantity(&quot;minerals&quot;, shortage_factor);
			shortage_factor = Math.floor(system.mainStation.market.slaves.quantity / 3);
			system.mainStation.setMarketQuantity(&quot;slaves&quot;, shortage_factor);	
			}
        }
        

	if(system.economy == 5)     // rich agricultural
        {
        new_stock = Math.floor(((Math.random() + 0.5) * 60) - supply_mod);
		if(new_stock &lt; 0) {new_stock = 0};
        system.mainStation.setMarketQuantity(&quot;furs&quot;, new_stock);
		new_stock = Math.floor(((Math.random() + 0.5) * 60) - supply_mod);
		if(new_stock &lt; 0) {new_stock = 0};
        system.mainStation.setMarketQuantity(&quot;liquor_wines&quot;, new_stock);
		new_stock = Math.floor(((Math.random() + 0.5) * 60) - supply_mod);
		if(new_stock &lt; 0) {new_stock = 0};
        system.mainStation.setMarketQuantity(&quot;radioactives&quot;, new_stock);
		new_stock = Math.floor(((Math.random() + 0.5) * 60) - supply_mod);
		if(new_stock &lt; 0) {new_stock = 0};
		system.mainStation.setMarketQuantity(&quot;textiles&quot;, new_stock);  
		
		new_price = Math.floor(system.mainStation.market.furs.price + (focus_mod * 4) + (Math.random() * (10 - 1 + 1) - 5));
		system.mainStation.setMarketPrice(&quot;furs&quot;, new_price);
		new_price = Math.floor(system.mainStation.market.liquor_wines.price - (focus_mod * 3) + (Math.random() * (10 - 1 + 1) - 5));
        system.mainStation.setMarketPrice(&quot;liquor_wines&quot;, new_price);
		new_price = Math.floor(system.mainStation.market.radioactives.price - (focus_mod * 2) + (Math.random() * (10 - 1 + 1) - 5));
        system.mainStation.setMarketPrice(&quot;radioactives&quot;, new_price); 
		new_price = Math.floor(system.mainStation.market.textiles.price + focus_mod + (Math.random() * (10 - 1 + 1) - 5));
		system.mainStation.setMarketPrice(&quot;textiles&quot;, new_price);  
		
		new_price = Math.floor(912 + 222 + demand_mod + ((Math.random() * (10 - 1 + 1) - 5) * 4));
		system.mainStation.setMarketPrice(&quot;luxuries&quot;, new_price);
		new_price = Math.floor(840 + 127 + demand_mod + ((Math.random() * (10 - 1 + 1) - 5) * 3));
        system.mainStation.setMarketPrice(&quot;computers&quot;, new_price);
		new_price = Math.floor(560 + 97 + demand_mod + ((Math.random() * (10 - 1 + 1) - 5) * 2));
        system.mainStation.setMarketPrice(&quot;machinery&quot;, new_price);
		new_price = Math.floor(328 + 16 + demand_mod + (Math.random() * (10 - 1 + 1) - 5));
		system.mainStation.setMarketPrice(&quot;alloys&quot;, new_price); 
		
		shortage_factor = Math.floor(system.mainStation.market.alloys.quantity / 1.5);
		system.mainStation.setMarketQuantity(&quot;alloys&quot;, shortage_factor);
		shortage_factor = Math.floor(system.mainStation.market.machinery.quantity / 3);
		system.mainStation.setMarketQuantity(&quot;machinery&quot;, shortage_factor);
		shortage_factor = Math.floor(system.mainStation.market.computers.quantity / 6);
		system.mainStation.setMarketQuantity(&quot;computers&quot;, shortage_factor);
		shortage_factor = Math.floor(system.mainStation.market.luxuries.quantity / 12);
		system.mainStation.setMarketQuantity(&quot;luxuries&quot;, shortage_factor);
		
		if(system.government &lt; 3) {	//	riskier but more rewarding
			new_price = Math.floor(652 + 222 + demand_mod + ((Math.random() * (10 - 1 + 1) - 5) * 4));
			system.mainStation.setMarketPrice(&quot;platinum&quot;, new_price);
			new_price = Math.floor(164 + 169 + demand_mod + ((Math.random() * (10 - 1 + 1) - 5) * 3));
			system.mainStation.setMarketPrice(&quot;gem_stones&quot;, new_price);
			
			shortage_factor = Math.floor(system.mainStation.market.gem_stones.quantity / 1.5);
			system.mainStation.setMarketQuantity(&quot;gem_stones&quot;, shortage_factor);
			shortage_factor = Math.floor(system.mainStation.market.platinum.quantity / 3);
			system.mainStation.setMarketQuantity(&quot;platinum&quot;, shortage_factor);	
			}
        }
        

	if(system.economy == 6)     // average agricultural
        {
        new_stock = Math.floor(((Math.random() + 0.5) * 40) - supply_mod);
		if(new_stock &lt; 0) {new_stock = 0};
        system.mainStation.setMarketQuantity(&quot;furs&quot;, new_stock);
		new_stock = Math.floor(((Math.random() + 0.5) * 40) - supply_mod);
		if(new_stock &lt; 0) {new_stock = 0};
        system.mainStation.setMarketQuantity(&quot;liquor_wines&quot;, new_stock);
		new_stock = Math.floor(((Math.random() + 0.5) * 40) - supply_mod);
		if(new_stock &lt; 0) {new_stock = 0};
        system.mainStation.setMarketQuantity(&quot;radioactives&quot;, new_stock);
		new_stock = Math.floor(((Math.random() + 0.5) * 40) - supply_mod);
		if(new_stock &lt; 0) {new_stock = 0};
		system.mainStation.setMarketQuantity(&quot;textiles&quot;, new_stock);  
		
		new_price = Math.floor(system.mainStation.market.furs.price + (focus_mod * 4) + (Math.random() * (10 - 1 + 1) - 5));
		system.mainStation.setMarketPrice(&quot;furs&quot;, new_price);
		new_price = Math.floor(system.mainStation.market.liquor_wines.price - (focus_mod * 3) + (Math.random() * (10 - 1 + 1) - 5));
        system.mainStation.setMarketPrice(&quot;liquor_wines&quot;, new_price);
		new_price = Math.floor(system.mainStation.market.radioactives.price - (focus_mod * 2) + (Math.random() * (10 - 1 + 1) - 5));
        system.mainStation.setMarketPrice(&quot;radioactives&quot;, new_price); 
		new_price = Math.floor(system.mainStation.market.textiles.price + focus_mod + (Math.random() * (10 - 1 + 1) - 5));
		system.mainStation.setMarketPrice(&quot;textiles&quot;, new_price);  
		
		new_price = Math.floor(912 + 95 + demand_mod + ((Math.random() * (10 - 1 + 1) - 5) * 4));
		system.mainStation.setMarketPrice(&quot;luxuries&quot;, new_price);
		new_price = Math.floor(840 + 167 + demand_mod + ((Math.random() * (10 - 1 + 1) - 5) * 3));
        system.mainStation.setMarketPrice(&quot;computers&quot;, new_price);
		new_price = Math.floor(560 + 72 + demand_mod + ((Math.random() * (10 - 1 + 1) - 5) * 2));
        system.mainStation.setMarketPrice(&quot;machinery&quot;, new_price);
		new_price = Math.floor(328 + 11 + demand_mod + (Math.random() * (10 - 1 + 1) - 5));
		system.mainStation.setMarketPrice(&quot;alloys&quot;, new_price); 
		
		shortage_factor = Math.floor(system.mainStation.market.alloys.quantity / 1.5);
		system.mainStation.setMarketQuantity(&quot;alloys&quot;, shortage_factor);
		shortage_factor = Math.floor(system.mainStation.market.machinery.quantity / 3);
		system.mainStation.setMarketQuantity(&quot;machinery&quot;, shortage_factor);
		shortage_factor = Math.floor(system.mainStation.market.luxuries.quantity / 6);
		system.mainStation.setMarketQuantity(&quot;luxuries&quot;, shortage_factor);
		shortage_factor = Math.floor(system.mainStation.market.computers.quantity / 12);
		system.mainStation.setMarketQuantity(&quot;computers&quot;, shortage_factor);
		
		if(system.government &lt; 3) {	//	riskier but more rewarding
			new_price = Math.floor(704 + 167 + demand_mod + ((Math.random() * (10 - 1 + 1) - 5) * 4));
			system.mainStation.setMarketPrice(&quot;firearms&quot;, new_price);
			new_price = Math.floor(652 + 126 + demand_mod + ((Math.random() * (10 - 1 + 1) - 5) * 3));
			system.mainStation.setMarketPrice(&quot;platinum&quot;, new_price);
			
			shortage_factor = Math.floor(system.mainStation.market.platinum.quantity / 1.5);
			system.mainStation.setMarketQuantity(&quot;platinum&quot;, shortage_factor);
			shortage_factor = Math.floor(system.mainStation.market.firearms.quantity / 3);
			system.mainStation.setMarketQuantity(&quot;firearms&quot;, shortage_factor);	
			}
        }
        

	if(system.economy == 7)     // poor agricultural
        {
        new_stock = Math.floor(((Math.random() + 0.5) * 30) - supply_mod);	
		if(new_stock &lt; 0) {new_stock = 0};
        system.mainStation.setMarketQuantity(&quot;furs&quot;, new_stock);
		new_stock = Math.floor(((Math.random() + 0.5) * 30) - supply_mod);
		if(new_stock &lt; 0) {new_stock = 0};
        system.mainStation.setMarketQuantity(&quot;liquor_wines&quot;, new_stock);
		new_stock = Math.floor(((Math.random() + 0.5) * 30) - supply_mod);
		if(new_stock &lt; 0) {new_stock = 0};
        system.mainStation.setMarketQuantity(&quot;radioactives&quot;, new_stock);
		new_stock = Math.floor(((Math.random() + 0.5) * 30) - supply_mod);
		if(new_stock &lt; 0) {new_stock = 0};
		system.mainStation.setMarketQuantity(&quot;textiles&quot;, new_stock); 
		
		new_price = Math.floor(system.mainStation.market.furs.price + (focus_mod * 4) + (Math.random() * (10 - 1 + 1) - 5));
		system.mainStation.setMarketPrice(&quot;furs&quot;, new_price);
		new_price = Math.floor(system.mainStation.market.liquor_wines.price - (focus_mod * 3) + (Math.random() * (10 - 1 + 1) - 5));
        system.mainStation.setMarketPrice(&quot;liquor_wines&quot;, new_price);
		new_price = Math.floor(system.mainStation.market.radioactives.price - (focus_mod * 2) + (Math.random() * (10 - 1 + 1) - 5));
        system.mainStation.setMarketPrice(&quot;radioactives&quot;, new_price); 
		new_price = Math.floor(system.mainStation.market.textiles.price + focus_mod + (Math.random() * (10 - 1 + 1) - 5));
		system.mainStation.setMarketPrice(&quot;textiles&quot;, new_price);  
		
		new_price = Math.floor(912 + 3 + demand_mod + ((Math.random() * (10 - 1 + 1) - 5) * 4));
		system.mainStation.setMarketPrice(&quot;luxuries&quot;, new_price);
		new_price = Math.floor(840 + 23 + demand_mod + ((Math.random() * (10 - 1 + 1) - 5) * 3));
        system.mainStation.setMarketPrice(&quot;computers&quot;, new_price);
		new_price = Math.floor(560 + 32 + demand_mod + ((Math.random() * (10 - 1 + 1) - 5) * 2));
        system.mainStation.setMarketPrice(&quot;machinery&quot;, new_price);
		new_price = Math.floor(328 + 55 + demand_mod + (Math.random() * (10 - 1 + 1) - 5));
		system.mainStation.setMarketPrice(&quot;alloys&quot;, new_price); 
		
		shortage_factor = Math.floor(system.mainStation.market.luxuries.quantity / 1.5);
		system.mainStation.setMarketQuantity(&quot;luxuries&quot;, shortage_factor);
		shortage_factor = Math.floor(system.mainStation.market.computers.quantity / 3);
		system.mainStation.setMarketQuantity(&quot;computers&quot;, shortage_factor);
		shortage_factor = Math.floor(system.mainStation.market.machinery.quantity / 6);
		system.mainStation.setMarketQuantity(&quot;machinery&quot;, shortage_factor);
		shortage_factor = Math.floor(system.mainStation.market.alloys.quantity / 12);
		system.mainStation.setMarketQuantity(&quot;alloys&quot;, shortage_factor);
		
		if(system.government &lt; 3) {	//	riskier but more rewarding
			new_price = Math.floor(704 + 55 + demand_mod + ((Math.random() * (10 - 1 + 1) - 5) * 4));
			system.mainStation.setMarketPrice(&quot;firearms&quot;, new_price);
			new_price = Math.floor(80 + 32 + demand_mod + ((Math.random() * (10 - 1 + 1) - 5) * 3));
			system.mainStation.setMarketPrice(&quot;minerals&quot;, new_price);
			
			shortage_factor = Math.floor(system.mainStation.market.minerals.quantity / 1.5);
			system.mainStation.setMarketQuantity(&quot;minerals&quot;, shortage_factor);
			shortage_factor = Math.floor(system.mainStation.market.firearms.quantity / 3);
			system.mainStation.setMarketQuantity(&quot;firearms&quot;, shortage_factor);	
			}
        }

}</pre></td>
                </tr>
            </table>
        </a>
    </body>
</html>
