<html>
    <head>
        <title>Expansion Bigships</title>
        <link rel="stylesheet" href="../style.css">
    </head>
    <body>
        <table border="0" width="100%">
            <tr>
                <td>Back to <a href='../index.html'>Index</a></td>
                <td align="right"><small>Page generated: Oct 11, 2023, 3:16:49 PM</small></td>
            </tr>
        </table>

        <h1>Expansion Bigships</h1>

        <h2>Content</h2>
        <ul>
          <li><a href="#warnings">Warnings</a></li>
          <li><a href="#manifest">Manifest</a></li>
          <li><a href="#documentation">Documentation</a></li>
          <li><a href="#equipment">0 Equipment</a></li>
          <li><a href="#ships">1 Ships</a></li>
          <li><a href="#models">0 Models</a></li>
          <li><a href="#scripts">1 Scripts</a></li>
        </ul>

          <a name="warnings">
            <h2>Warnings</h2>
            <ol>
                <li>Tags mismatch between OXP Manifest and Expansion Manager at character position 0002 (RIGHT SQUARE BRACKET vs LATIN SMALL LETTER S)(&#39;[]&#39; vs &#39;[ships]&#39;)</li>
            </ol>
          </a>

        <a name="manifest">
        <h2>Manifest</h2>
            <table border="1">
                <tr>
                    <th></th>
                    <th>from Expansion Manager's OXP list</th>
                    <th>from Expansion Manifest</th>
                </tr>
                <tr>
                    <td>Description</td>
                    <td>Additional populator for adding big ships to systems</td>
                    <td>Additional populator for adding big ships to systems</td>
                </tr>
                <tr>
                    <td>Identifier</td>
                    <td>oolite.oxp.Thargoid.Bigships</td>
                    <td>oolite.oxp.Thargoid.Bigships</td>
                </tr>
                <tr>
                    <td>Title</td>
                    <td>Bigships</td>
                    <td>Bigships</td>
                </tr>
                <tr>
                    <td>Category</td>
                    <td>Mechanics</td>
                    <td>Mechanics</td>
                </tr>
                <tr>
                    <td>Author</td>
                    <td>Thargoid and Eric Walch</td>
                    <td>Thargoid and Eric Walch</td>
                </tr>
                <tr>
                    <td>Version</td>
                    <td>1.02</td>
                    <td>1.02</td>
                </tr>
                <tr>
                    <td>Tags</td>
                    <td></td>
                    <td>ships</td>
                </tr>
                <tr>
                    <td>Required Oolite Version</td>
                    <td></td>
                    <td></td>
                </tr>
                <tr>
                    <td>Maximum Oolite Version</td>
                    <td></td>
                    <td></td>
                </tr>
                <tr>
                    <td>Required Expansions</td>
                    <td>
                    </td>
                    <td>
                    </td>
                </tr>
                <tr>
                    <td>Optional Expansions</td>
                    <td>
                    </td>
                    <td>
                    </td>
                </tr>
                <tr>
                    <td>Conflict Expansions</td>
                    <td>
                    </td>
                    <td>
                    </td>
                </tr>
                <tr>
                    <td>Information URL</td>
                    <td><a target="_blank" href="http://wiki.alioth.net/index.php/BigShips_OXP">http://wiki.alioth.net/index.php/BigShips_OXP</a></td>
                    <td><a target="_blank" href="">n/a</a></td>
                </tr>
                <tr>
                    <td>Download URL</td>
                    <td><a target="_blank" href="https://wiki.alioth.net/img_auth.php/e/ea/BigShips_1.02.oxz">https://wiki.alioth.net/img_auth.php/e/ea/BigShips_1.02.oxz</a></td>
                    <td><a target="_blank" href="">n/a</a></td>
                </tr>
                <tr>
                    <td>License</td>
                    <td>Creative Commons Attribution - Non-Commercial - Share Alike 3.0 license with clauses - see readme file</td>
                    <td>Creative Commons Attribution - Non-Commercial - Share Alike 3.0 license with clauses - see readme file</td>
                </tr>
                <tr>
                    <td>File Size</td>
                    <td>n/a</td>
                </tr>
                <tr>
                    <td>Upload date</td>
                    <td>1610873504</td>
                </tr>
            </table>
                </a>

        <a name="documentation">
        <h2>Documentation</h2>
        <p>Also read <a href='http://wiki.alioth.net/index.php/Bigships'>http://wiki.alioth.net/index.php/Bigships</a></p>
        <h3>BigShips v1.02 Readme &amp; License.txt</h3>
        <pre>BigTrader v1.0.2 by Thargoid and Eric Walch

This OXP by itself does not add any new ships to the game. What it does do is enable the role &quot;bigTrader&quot;, which can be used by other creators of ship OXPs whose vessels should act with a trader-type role but are too large to launch from and dock through a standard station docking slit.

Included in the OXP is a populator script which selectively adds ships with the bigTrader role to the system, plus an AI bigTrader_route1BigTraderAI.plist which is available for use in place of the normal route1TraderAI.plist for the ships. The second AI bigShips_traderInterceptAI.plist is a sub-AI for it.

It is envisaged that the OXP of the large ships should include the zip file of this OXP (only 5KB in size) and instructions that it too should be installed on the users system if they do not already have it in place.

The main reason for using this generic populator instead of a custom one is to avoid overpopulation of a system. When every oxp with bigTraders would use its own addition script, it would mean that if you have 10 of such oxp&#39;s installed, you would also see 10 times as much of those ships in the system. With this generic populator you just get more variation when adding more oxp&#39;s with such big traders.

For programmers only:
To check in JS if the populator is loaded, use if(worldScripts[&quot;bigShips_populator&quot;]) , which will be true if it is present. This way your script knows if the player has installed the oxp. If not, you can act upon it. e.g. by giving a warning or do the population by yourself.

--------------------------------------------------------------

License:

This OXP is released under the Creative Commons Attribution - Non-Commercial - Share Alike 3.0 license with the following clauses:

* Whilst you are free (and encouraged) to re-use any of the scripting, models or texturing in this OXP, the usage must be distinct from that within this OXP. Unique identifiers such as (but not limited to) unique shipdata.plist entity keys, mission variables, script names (this.name), equipment identity strings (EQ_), description list arrays and entity roles must not be re-used without prior agreement. Basically if it&#39;s unique or would identify or overwrite anything in the original OXP, then you may not re-use it (for obvious compatibility reasons).
* rebundling of this OXP within another distribution is permitted as long as it is unchanged. It is preferred that it is bundled whole as its zip file.
* The license information must be included in the OXP.
* Even though it is not compulsory, if you are re-using any sizable or recognisable piece of this OXP, please let me know :)

--------------------------------------------------------------

Versions:

1.0.0 - Original release.
1.0.1 - Added docking acceptance function to AI, for big traders with docking ports.
1.0.2 - Amended script to stop spawning in systems going or gone nova.</pre>
        </a>

        <a name="equipment">          
        <h2>Equipment</h2>
            This expansion declares no equipment. This may be related to warnings.
        </a>

        <a name="ships">    
        <h2>Ships</h2>
            <table>
                <tr>
                    <th>Name</th>
                </tr>
                <tr>
                    <td><a href="../ships/bigShips_anaconda.html">bigShips_anaconda</a></td>
                </tr>
            </table>
        </a>

        <a name="models">    
        <h2>Models</h2>
            This expansion declares no models. This may be related to warnings.
        </a>

        <a name="scripts">    
        <h2>Scripts</h2>
            <table>
                <tr>
                    <th>Path</th>
                </tr>
                <tr>
                    <td valign="top">Scripts/bigShips_populator.js</td>
                    <td><pre>this.name					= &quot;bigShips_populator&quot;;
this.author					= &quot;Thargoid &amp; Eric Walch&quot;;
this.copyright				= &quot;Creative Commons Attribution - Non-Commercial - Share Alike 3.0 license.&quot;;
this.description				= &quot;Populator for generic big ships facilitator OXP.&quot;;
this.version				= &quot;1.0.2&quot;;

/*The main reason for using this generic populator instead of a custom one is to avoid overpopulation of a system. When every oxp with bigTraders would use its own addition script, it would mean that if you have 10 of such oxp&#39;s installed, you would also see 10 times as much of those ships in the system. With this generic populator you just get more variation when adding more oxp&#39;s with such big traders.

For programmers only:
To check in JS if the populator is loaded, use if(worldScripts[&quot;bigShips_populator&quot;]) , which will be true if it is present. This way your script knows if the player has installed the oxp. If not, you can act upon it. e.g. by giving a warning or do the population by yourself. */

this.startUp = this.reset = function()
	{
	this.firstLaunch = false;
	}

this.shipWillExitWitchspace = function()
	{
	if(!system.isInterstellarSpace)
		{
		this.populator();
		}
	}

this.shipWillLaunchFromStation = function(station)
	{
	if(!this.firstLaunch)
		{
		this.populator();
		}
	}

this.populator = function()
	{
	this.firstLaunch = true;
	if(system.isInterstellarSpace || system.sun.isGoingNova || system.sun.hasGoneNova) 
		{ // stop the script if interstellar space, or system is going nova or indeed if it has gone nova already.
		return;
		}
	var productivity = system.productivity;
	var radius = system.mainPlanet.radius;
	var bigTraderCount = 0
	for(var loopCount = 0; loopCount &lt; 5; loopCount++)
		{
		if(productivity &gt; ((Math.random() * 56320) + (bigTraderCount * 5000)) &amp;&amp; radius &gt; Math.random() * 70E3)  // 56320 is maximum posible value of productivity.
			{
			system.legacy_addShipsWithinRadius(&quot;bigTrader&quot;, 1, &quot;pwu&quot;, [0, 0, (Math.random() * 0.7) + 0.2], radius*0.5);
			++bigTraderCount
			}
		}
	log(this.name, bigTraderCount + &quot; big trader(s) added to the &quot; + system.name + &quot; system.&quot;);
	}</pre></td>
                </tr>
            </table>
        </a>
    </body>
</html>
