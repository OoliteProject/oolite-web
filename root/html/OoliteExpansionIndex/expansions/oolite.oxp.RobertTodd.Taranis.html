<html>
    <head>
        <title>Expansion Taranis</title>
        <link rel="stylesheet" href="../style.css">
    </head>
    <body>
        <table border="0" width="100%">
            <tr>
                <td>Back to <a href='../index.html'>Index</a></td>
                <td align="right"><small>Page generated: Oct 11, 2023, 3:16:49 PM</small></td>
            </tr>
        </table>

        <h1>Expansion Taranis</h1>

        <h2>Content</h2>
        <ul>
          <li><a href="#warnings">Warnings</a></li>
          <li><a href="#manifest">Manifest</a></li>
          <li><a href="#documentation">Documentation</a></li>
          <li><a href="#equipment">0 Equipment</a></li>
          <li><a href="#ships">6 Ships</a></li>
          <li><a href="#models">0 Models</a></li>
          <li><a href="#scripts">2 Scripts</a></li>
        </ul>

          <a name="warnings">
            <h2>Warnings</h2>
            <ol>
                <li>License not specified</li>
                <li>XML Manifest found</li>
                <li>Unknown key &#39;licence&#39; in XML manifest.plist</li>
            </ol>
          </a>

        <a name="manifest">
        <h2>Manifest</h2>
            <table border="1">
                <tr>
                    <th></th>
                    <th>from Expansion Manager's OXP list</th>
                    <th>from Expansion Manifest</th>
                </tr>
                <tr>
                    <td>Description</td>
                    <td>Adds the Taranis mission to the Lerelace system (28 light years from Lave)</td>
                    <td>Adds the Taranis mission to the Lerelace system (28 light years from Lave)</td>
                </tr>
                <tr>
                    <td>Identifier</td>
                    <td>oolite.oxp.RobertTodd.Taranis</td>
                    <td>oolite.oxp.RobertTodd.Taranis</td>
                </tr>
                <tr>
                    <td>Title</td>
                    <td>Taranis</td>
                    <td>Taranis</td>
                </tr>
                <tr>
                    <td>Category</td>
                    <td>Missions</td>
                    <td>Missions</td>
                </tr>
                <tr>
                    <td>Author</td>
                    <td>Robert Todd</td>
                    <td>Robert Todd</td>
                </tr>
                <tr>
                    <td>Version</td>
                    <td>1.3</td>
                    <td>1.3</td>
                </tr>
                <tr>
                    <td>Tags</td>
                    <td></td>
                    <td></td>
                </tr>
                <tr>
                    <td>Required Oolite Version</td>
                    <td></td>
                    <td></td>
                </tr>
                <tr>
                    <td>Maximum Oolite Version</td>
                    <td></td>
                    <td></td>
                </tr>
                <tr>
                    <td>Required Expansions</td>
                    <td>
                    </td>
                    <td>
                    </td>
                </tr>
                <tr>
                    <td>Optional Expansions</td>
                    <td>
                    </td>
                    <td>
                    </td>
                </tr>
                <tr>
                    <td>Conflict Expansions</td>
                    <td>
                    </td>
                    <td>
                    </td>
                </tr>
                <tr>
                    <td>Information URL</td>
                    <td><a target="_blank" href="http://wiki.alioth.net/index.php/Taranis_OXP">http://wiki.alioth.net/index.php/Taranis_OXP</a></td>
                    <td><a target="_blank" href="">n/a</a></td>
                </tr>
                <tr>
                    <td>Download URL</td>
                    <td><a target="_blank" href="https://wiki.alioth.net/img_auth.php/a/a5/Taranis_1.3.oxz">https://wiki.alioth.net/img_auth.php/a/a5/Taranis_1.3.oxz</a></td>
                    <td><a target="_blank" href="">n/a</a></td>
                </tr>
                <tr>
                    <td>License</td>
                    <td></td>
                    <td></td>
                </tr>
                <tr>
                    <td>File Size</td>
                    <td>n/a</td>
                </tr>
                <tr>
                    <td>Upload date</td>
                    <td>1610873402</td>
                </tr>
            </table>
                </a>

        <a name="documentation">
        <h2>Documentation</h2>
        <p>Also read <a href='http://wiki.alioth.net/index.php/Taranis'>http://wiki.alioth.net/index.php/Taranis</a></p>
        <h3>readme.txt</h3>
        <pre>Taranis
-------

by Robert Todd (Roberto on Oolite Forums)


Overview
--------

Based in the Lerelace system (28 light years from Lave), shipbuilder Taranis Corp originally had its main offices on the planet&#39;s surface, but strong sales of the Outrider escort vessel enabled the firm to relocate to a new orbital HQ, while retaining a few facilities &quot;planetside&quot;. The cost of the HQ is unknown, but is estimated at around half a billion credits, a collosal sum even by the standards of big business. Noted Ineran architect Philippe K Lizzard reportedly had a hand in its design.


Notable features
----------------

In addition to being the company&#39;s managerial and administrative centre, Taranis&#39;s HQ houses extensive R&amp;D facilities and accommodation for its staff, many of whom rarely leave the premises. The most opulent interiors are to be found on the executive levels in the rotating central sphere; the outer ring uses artificial gravity, except in certain zero-G test areas. The ring has a diameter of over 4.6km, while &quot;The Ball&quot;, as it is known, has a diameter of around 2.3km.

The HQ is extremely well defended, thanks largely to Taranis&#39;s military connections. Anyone attempting an assault would have to contend with military-grade shields far more powerful than those of even a Torus station, 41 turrets and a squadron of five Outriders, reportedly equipped with military lasers and enhanced shields.

Less suicidal visitors will be able to take advantage of tech-level-15 ship-outfitting facilities and a shop selling a range of luxury items bearing the Taranis logo.


Notes
-----

This OXP requires you to also have the new version (or no version, but not the old one) of the Outrider OXP (uploaded 14/8/2006).

This is my second OXP, and is far more ambitious than the first, but I&#39;ve tested everything extensively, so I&#39;m reasonably confident it&#39;s all working as it should :) I plan to implement a shipyard selling only Taranis ships when it&#39;s possible to do this.

My thanks to all those who have assisted me - especially Giles, Murgh and Arexack_Heretic (who helped me through my darkest hours with the AIs!). Thanks again to Murgh for the use of his Wolf Mark II as the mission ship.

23/8/2006: New version adding smoothing to the ring (as suggested by Arexack_Heretic) and a line about Taranis in the planet description (as suggested by LittleBear). If you prefer the model unsmoothed, you can change it by deleting the following lines in shipdata.plist (in the Config folder):
&lt;key&gt;smooth&lt;/key&gt;
&lt;true/&gt;

24/8/2006: Renamed turret files so as not to affect other OXPs (as suggested by Ahruman).

12/4/2009: Version 1.1 Added anti mission clash code. Should now be compatible with simultaneously offers by other oxp&#39;s. (Eric)

01/10/2009: Version 1.2 Fixed wrong definition for Gold/Planinum weight at the Taranis station commodities.plist. Before it was mainly a cosmetic bug, but it can crash Oolite version 1.73. (maik)

19/5/2012: Version 1.3 Converted to JS. (Eric)
</pre>
        </a>

        <a name="equipment">          
        <h2>Equipment</h2>
            This expansion declares no equipment. This may be related to warnings.
        </a>

        <a name="ships">    
        <h2>Ships</h2>
            <table>
                <tr>
                    <th>Name</th>
                </tr>
                <tr>
                    <td><a href="../ships/taranis.html">Taranis Corporation HQ</a></td>
                </tr>
                <tr>
                    <td><a href="../ships/taranis-ball.html">Taranis Corporation HQ</a></td>
                </tr>
                <tr>
                    <td><a href="../ships/taranis-ballturret.html">Ball Turret</a></td>
                </tr>
                <tr>
                    <td><a href="../ships/taranis-dock.html">Taranis Corporation HQ</a></td>
                </tr>
                <tr>
                    <td><a href="../ships/taranis-wolftooth.html">Wolf Laser Mount</a></td>
                </tr>
                <tr>
                    <td><a href="../ships/wolfmk2-taranis.html">Wolf Mark II (Taranis Corp)</a></td>
                </tr>
            </table>
        </a>

        <a name="models">    
        <h2>Models</h2>
            This expansion declares no models. This may be related to warnings.
        </a>

        <a name="scripts">    
        <h2>Scripts</h2>
            <table>
                <tr>
                    <th>Path</th>
                </tr>
                <tr>
                    <td valign="top">Scripts/taranis_one.js</td>
                    <td><pre>this.name      = &quot;taranis_one&quot;; 
this.author    = &quot;Robert Todd (Roberto on Oolite Forums)&quot;; 
this.copyright = &quot;ï¿½ 2006 Creative Commons: attribution, non-commercial, sharealike.&quot;;
this.description = &quot;worldScript for the taranis mission&quot;;
this.version   = &quot;1.3&quot;;


this.startUp = function (){
    if (missionVariables.taranis_one == &quot;TAR1_COMPLETE&quot; || missionVariables.taranis_one == &quot;TAR1_FAILED&quot;) {
        this.$cleanUp();
    }
};

this.missionScreenOpportunity = function (){
    if (!player.ship.docked || galaxyNumber != 0) return;
    this.missionOffers();
};

this.missionOffers = function (){
    if (player.ship.dockedStation.isMainStation)
    {
        if (missionVariables.taranis_one == &quot;TAR1_ACTIVE&quot; &amp;&amp; missionVariables.taranis_one_startdate + 2 &lt; clock.days) {
            mission.runScreen({
                title: &quot;Taranis one&quot;, 
                messageKey: &quot;taranis_one_incoming&quot;,
                music: &quot;taranis_comms.ogg&quot;,
                choicesKey: &quot;taranis_one_incoming2_justyes&quot;
                }, this.choiceEvaluation
            );
        }
        if (missionVariables.taranis_one == &quot;TAR1_DESTROYED&quot;) {
            mission.runScreen({
                title: &quot;Taranis one&quot;, 
                messageKey: &quot;taranis_one_incoming&quot;,
                music: &quot;taranis_comms.ogg&quot;,
                choicesKey: &quot;taranis_one_incoming_justyes&quot;
                }, this.choiceEvaluation
            );
        }
    } else if (system.ID == 141 &amp;&amp; player.ship.dockedStation.name == &quot;Taranis Corporation HQ&quot;){
        if (!missionVariables.taranis_one &amp;&amp; player.score &gt; 127 &amp;&amp; player.bounty &lt; 5) {
            mission.runScreen({
                title: &quot;Taranis one&quot;,
                messageKey: &quot;taranis_one_preamble&quot;,
                choicesKey: &quot;taranis_one_preamble_justyes&quot;,
                music: &quot;swifts_theme.ogg&quot;
                }, this.choiceEvaluation
            );
        }
    }
};


this.choiceEvaluation = function (choice){
    switch (choice) {

        case &quot;1&quot;:
            mission.runScreen({
                title: &quot;Taranis one&quot;, 
                messageKey: &quot;taranis_one_intro1&quot;,
                choicesKey: &quot;taranis_one_cont1_justyes&quot;,
                music: &quot;swifts_theme.ogg&quot;
                }, this.choiceEvaluation
            );
            break;
        case &quot;2&quot;:
            mission.runScreen({
                title: &quot;Taranis one&quot;, 
                messageKey: &quot;taranis_one_intro2&quot;,
                choicesKey: &quot;taranis_one_cont2_justyes&quot;,
                music: &quot;swifts_theme.ogg&quot;
                }, this.choiceEvaluation
            );
            break;
        case &quot;3&quot;:
            mission.runScreen({
                title: &quot;Taranis one&quot;, 
                messageKey: &quot;taranis_one_decision&quot;,
                choicesKey: &quot;taranis_one_offer_yesno&quot;,
                music: &quot;swifts_theme.ogg&quot;
                }, this.choiceEvaluation
            );
            break;
        case &quot;4&quot;:
            mission.runScreen({
                title: &quot;Taranis one&quot;, 
                messageKey: &quot;taranis_one_accepted&quot;,
                choicesKey: &quot;taranis_one_cont3_justyes&quot;,
                music: &quot;swifts_theme.ogg&quot;
                }, this.choiceEvaluation
            );
            break;
        case &quot;5&quot;:
            missionVariables.taranis_one = &quot;TAR1_PASSED&quot;;
            mission.runScreen({
                title: &quot;Taranis one&quot;, 
                messageKey: &quot;taranis_one_declined&quot;
            });
            break;
        case &quot;6&quot;:
            missionVariables.taranis_one_startdate = clock.days;
            missionVariables.taranis_one = &quot;TAR1_ACTIVE&quot;;
            mission.runScreen({
                title: &quot;Taranis one&quot;, 
                messageKey: &quot;taranis_one_briefing&quot;,
                music: &quot;swifts_theme.ogg&quot;
            });
            mission.markSystem(111);
            player.credits += 2000;
            this.updateTimeLeft();
            break;
        case &quot;7&quot;:
            missionVariables.taranis_one = &quot;TAR1_COMPLETE&quot;;
            mission.runScreen({
                title: &quot;Taranis one&quot;, 
                messageKey: &quot;taranis_one_success&quot;,
                music: &quot;swifts_theme.ogg&quot;
            });
            mission.setInstructionsKey(null);
            mission.unmarkSystem(111);
            player.credits += 2000;
            delete missionVariables.taranis_one_startdate;
            delete missionVariables.taranis_one_daysremaining;
            this.$cleanUp();
            break;
        case &quot;8&quot;:
            missionVariables.taranis_one = &quot;TAR1_FAILED&quot;;
            mission.runScreen({
                title: &quot;Taranis one&quot;, 
                messageKey: &quot;taranis_one_failure&quot;,
                music: &quot;swifts_theme.ogg&quot;
            });
            mission.setInstructionsKey(null);
            mission.unmarkSystem(111);
            // repay the advance fee for the mission.
            if (player.credits &gt; 2000) player.credits -= 2000; else player.credits = 0;
            delete missionVariables.taranis_one_startdate;
            delete missionVariables.taranis_one_daysremaining;
            this.$cleanUp();
            break;

        default:
            break;
    }
};

this.shipLaunchedFromStation = function () {
    if (missionVariables.taranis_one == &quot;TAR1_ACTIVE&quot;) {
        this.updateTimeLeft();
    }
};

this.shipExitedWitchspace = function () {
    if (missionVariables.taranis_one == &quot;TAR1_ACTIVE&quot;  &amp;&amp; !this.messagesTimer) {
        this.messagesTimer = new Timer(this, this.waitForAdjusting, 0, 2); // clock might not be valid yet.
    }
    if (missionVariables.taranis_one == &quot;TAR1_PASSED&quot; &amp;&amp; Math.random() &lt; 0.05) {
        missionVariables.taranis_one = null; // restart mission offers
    }
};

this.waitForAdjusting = function () {
    if (clock.isAdjusting) return;
        var timePast = this.updateTimeLeft();
    if (system.ID == 111 &amp;&amp; timePast &lt; 3) {
        system.addShips(&quot;taranis-wolf&quot;, 1, Vector3D(127112, 20303, 662546).fromCoordinateSystem(&quot;pwm&quot;), 0);
    }
    this.messagesTimer.stop();
    delete this.messagesTimer;
}

this.updateTimeLeft = function () {
    var timePast = clock.days - missionVariables.taranis_one_startdate;
    switch (timePast) {
        case 0:
            missionVariables.taranis_one_daysremaining = &quot;three days&quot;;
            break;
        case 1:
            missionVariables.taranis_one_daysremaining = &quot;two days&quot;;
            break;
        case 2:
            missionVariables.taranis_one_daysremaining = &quot;one day&quot;;
            break;
        default:
            // Mission ended not in time.
            mission.setInstructionsKey(&quot;mission_taranis_one_desc2&quot;);
            mission.unmarkSystem(111);
            break;
    }
    if (timePast &lt; 3) mission.setInstructionsKey(&quot;mission_taranis_one_desc1&quot;);
    
    return timePast;
};


this.$cleanUp = function () {
    delete this.missionScreenOpportunity;
    delete this.shipLaunchedFromStation;
    delete this.shipExitedWitchspace;
};
</pre></td>
                </tr>
                <tr>
                    <td valign="top">Scripts/taranis_wolfmk2.js</td>
                    <td><pre>this.name      = &quot;taranis_wolfmk2&quot;; 
this.author    = &quot;Robert Todd (Roberto on Oolite Forums)&quot;; 
this.copyright = &quot;ï¿½ 2006 Creative Commons: attribution, non-commercial, sharealike.&quot;;
this.description = &quot;shipScript taranis mission&quot;;
this.version   = &quot;1.2&quot;;


this.shipDied = function () {
    missionVariables.taranis_one = &quot;TAR1_DESTROYED&quot;;
    mission.setInstructionsKey(null, &quot;taranis_one&quot;);
    mission.unmarkSystem(111);
}</pre></td>
                </tr>
            </table>
        </a>
    </body>
</html>
