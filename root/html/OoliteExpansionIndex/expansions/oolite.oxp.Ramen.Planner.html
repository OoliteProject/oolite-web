<html>
    <head>
        <title>Expansion Planner</title>
        <link rel="stylesheet" href="../style.css">
    </head>
    <body>
        <table border="0" width="100%">
            <tr>
                <td>Back to <a href='../index.html'>Index</a></td>
                <td align="right"><small>Page generated: Oct 11, 2023, 3:16:49 PM</small></td>
            </tr>
        </table>

        <h1>Expansion Planner</h1>

        <h2>Content</h2>
        <ul>
          <li><a href="#warnings">Warnings</a></li>
          <li><a href="#manifest">Manifest</a></li>
          <li><a href="#documentation">Documentation</a></li>
          <li><a href="#equipment">0 Equipment</a></li>
          <li><a href="#ships">0 Ships</a></li>
          <li><a href="#models">0 Models</a></li>
          <li><a href="#scripts">1 Scripts</a></li>
        </ul>

          <a name="warnings">
            <h2>Warnings</h2>
            <ol>
                <li>Information URL mismatch between OXP Manifest and Expansion Manager string length at character position 0</li>
            </ol>
          </a>

        <a name="manifest">
        <h2>Manifest</h2>
            <table border="1">
                <tr>
                    <th></th>
                    <th>from Expansion Manager's OXP list</th>
                    <th>from Expansion Manifest</th>
                </tr>
                <tr>
                    <td>Description</td>
                    <td>Planner for those who play Oolite too much.</td>
                    <td>Planner for those who play Oolite too much.</td>
                </tr>
                <tr>
                    <td>Identifier</td>
                    <td>oolite.oxp.Ramen.Planner</td>
                    <td>oolite.oxp.Ramen.Planner</td>
                </tr>
                <tr>
                    <td>Title</td>
                    <td>Planner</td>
                    <td>Planner</td>
                </tr>
                <tr>
                    <td>Category</td>
                    <td>Miscellaneous</td>
                    <td>Miscellaneous</td>
                </tr>
                <tr>
                    <td>Author</td>
                    <td>Ramen</td>
                    <td>Ramen</td>
                </tr>
                <tr>
                    <td>Version</td>
                    <td>1.0.0</td>
                    <td>1.0.0</td>
                </tr>
                <tr>
                    <td>Tags</td>
                    <td></td>
                    <td></td>
                </tr>
                <tr>
                    <td>Required Oolite Version</td>
                    <td></td>
                    <td></td>
                </tr>
                <tr>
                    <td>Maximum Oolite Version</td>
                    <td></td>
                    <td></td>
                </tr>
                <tr>
                    <td>Required Expansions</td>
                    <td>
                    </td>
                    <td>
                    </td>
                </tr>
                <tr>
                    <td>Optional Expansions</td>
                    <td>
                    </td>
                    <td>
                    </td>
                </tr>
                <tr>
                    <td>Conflict Expansions</td>
                    <td>
                    </td>
                    <td>
                    </td>
                </tr>
                <tr>
                    <td>Information URL</td>
                    <td><a target="_blank" href=""></a></td>
                    <td><a target="_blank" href="">n/a</a></td>
                </tr>
                <tr>
                    <td>Download URL</td>
                    <td><a target="_blank" href="https://wiki.alioth.net/img_auth.php/d/d5/Planner_1.0.0.oxz">https://wiki.alioth.net/img_auth.php/d/d5/Planner_1.0.0.oxz</a></td>
                    <td><a target="_blank" href="http://wiki.alioth.net/img_auth.php/d/d5/Planner_1.0.0.oxz">http://wiki.alioth.net/img_auth.php/d/d5/Planner_1.0.0.oxz</a></td>
                </tr>
                <tr>
                    <td>License</td>
                    <td>CC-BY-NC-SA 3.0</td>
                    <td>CC-BY-NC-SA 3.0</td>
                </tr>
                <tr>
                    <td>File Size</td>
                    <td>n/a</td>
                </tr>
                <tr>
                    <td>Upload date</td>
                    <td>1610873479</td>
                </tr>
            </table>
                </a>

        <a name="documentation">
        <h2>Documentation</h2>
        <p>Also read <a href='http://wiki.alioth.net/index.php/Planner'>http://wiki.alioth.net/index.php/Planner</a></p>
        <h3>README.txt</h3>
        <pre>Written by Ramen.

Changelog:
Mon Jun  8 12:37:41 EDT 2015 - first version



</pre>
        </a>

        <a name="equipment">          
        <h2>Equipment</h2>
            This expansion declares no equipment. This may be related to warnings.
        </a>

        <a name="ships">    
        <h2>Ships</h2>
            This expansion declares no ships. This may be related to warnings.
        </a>

        <a name="models">    
        <h2>Models</h2>
            This expansion declares no models. This may be related to warnings.
        </a>

        <a name="scripts">    
        <h2>Scripts</h2>
            <table>
                <tr>
                    <th>Path</th>
                </tr>
                <tr>
                    <td valign="top">Scripts/planner.js</td>
                    <td><pre>this.name           = &quot;planner.js&quot;;
this.author         = &quot;Ramen&quot;;
this.copyright      = &quot;(C) 2015 Ramen&quot;;
this.licence        = &quot;CC-NC-by-SA 3.0&quot;;
this.description    = &quot;This OXP doesn&#39;t do very much yet.&quot;;
this.version        = &quot;1.0.0&quot;;

&quot;use strict&quot;;

this._tempVal = &quot;&quot;; 

this.startUpComplete = function()
{
    if (!missionVariables.planner_planNames)
    {
	missionVariables.planner_plans = JSON.stringify({});
	missionVariables.planner_planNames = JSON.stringify({&quot;1_EXIT&quot;:
							     &quot;Exit.&quot;});
    }
    this._plans = JSON.parse(missionVariables.planner_plans);
    this._planNames =  JSON.parse(missionVariables.planner_planNames);
    this.$dockedCheck();
}

this.shipDockedWithStation = function()
{
    this.$dockedCheck();
    this.playerWillSaveGame();
}

this.playerWillSaveGame = function()
{
    missionVariables.planner_plans = JSON.stringify(this._plans);
    missionVariables.planner_planNames = JSON.stringify(this._planNames);
}

this.$dockedCheck = function()
{
    player.ship.dockedStation.setInterface(&quot;Planner&quot;,
					       { title: &quot;Planner&quot;,
						 category: &quot;Info&quot;,
						 summary: &quot;A Planner for &quot;+
						 &quot;&#39;Real life&#39; or Oolite&quot;,
						 callback:
						 this.$planner.bind(this)});
}

this.$planner = function()
{
    mission.runScreen({
	title: &quot;Planner&quot;,
	message: &quot;Choose an option.&quot;,
	choicesKey: &quot;planner_options&quot;},
		      this.$choice);
}
this.$choice = function(choice)
{
    if (choice == &quot;1_ADD&quot;)
    {
	mission.runScreen({
	    title: &quot;Planner&quot;,
	    message: &quot;Enter subject. (30 char. max)&quot;,
	    textEntry: &quot;TRUE&quot;},
		      this.$subject);
    }
    else if (choice == &quot;2_REMOVE&quot;)
    {
	mission.runScreen({
	    title: &quot;Planner&quot;,
	    message: &quot;Choose plan to remove.&quot;,
	    choices: this._planNames},
			  this.$remove);
    }
    else if (choice == &quot;3_VIEW&quot;)
    {
	mission.runScreen({
	    title: &quot;Planner&quot;,
	    message: &quot;Choose a plan.&quot;,
	    choices: this._planNames},
			  this.$view);
    }
    else
    {
	return;
    }
}

this.$subject = function(choice)
{
    this._tempVal = choice;
    mission.runScreen({
	title: &quot;Planner&quot;,
	message: &quot;Enter details. (30 char. max)&quot;,
	exitScreen: &quot;GUI_SCREEN_INTERFACES&quot;,
	textEntry: &quot;TRUE&quot;},
		      this.$details);
}

this.$details = function(choice)
{
    if (choice == &quot;&quot;)
    {
	return;
    }
    this._plans[this._tempVal] = choice;
    this._planNames[this._tempVal] = this._tempVal;
}

this.$remove = function(choice)
{
    if (choice == &quot;1_EXIT&quot;)
    {
	return;
    }
    delete this._plans[choice];
    delete this._planNames[choice];
    player.consoleMessage(choice + &quot; removed.&quot;);
}

this.$view = function(choice)
{
    if (choice == &quot;1_EXIT&quot;)
    {
	return;
    }
    mission.runScreen({
	title: choice,
	message: &quot;Details:\n&quot; + this._plans[choice]});
}
</pre></td>
                </tr>
            </table>
        </a>
    </body>
</html>
