<html>
    <head>
        <title>Expansion SKS Plasma Mark I</title>
        <link rel="stylesheet" href="../style.css">
    </head>
    <body>
        <table border="0" width="100%">
            <tr>
                <td>Back to <a href='../index.html'>Index</a></td>
                <td align="right"><small>Page generated: Oct 11, 2023, 3:16:49 PM</small></td>
            </tr>
        </table>

        <h1>Expansion SKS Plasma Mark I</h1>

        <h2>Content</h2>
        <ul>
          
          <li><a href="#manifest">Manifest</a></li>
          <li><a href="#documentation">Documentation</a></li>
          <li><a href="#equipment">2 Equipment</a></li>
          <li><a href="#ships">2 Ships</a></li>
          <li><a href="#models">0 Models</a></li>
          <li><a href="#scripts">2 Scripts</a></li>
        </ul>


        <a name="manifest">
        <h2>Manifest</h2>
            <table border="1">
                <tr>
                    <th></th>
                    <th>from Expansion Manager's OXP list</th>
                    <th>from Expansion Manifest</th>
                </tr>
                <tr>
                    <td>Description</td>
                    <td>From Silver Knight Shipyards on Diqudi in chart 3 comes the Plasma Mark I, a small multi-roll craft designed primarily for a pilot who is trying to make a living in the business of passenger carrying, and who, to be able to get contracts, must take the ones through more dangerous systems than most pilots would be willing to. From it&#39;s speed of 0.4 LM to it&#39;s patented SpaceCamo(tm), it is a craft that, wherever you go, assassins would have a hard time spotting you.</td>
                    <td>From Silver Knight Shipyards on Diqudi in chart 3 comes the Plasma Mark I, a small multi-roll craft designed primarily for a pilot who is trying to make a living in the business of passenger carrying, and who, to be able to get contracts, must take the ones through more dangerous systems than most pilots would be willing to. From it&#39;s speed of 0.4 LM to it&#39;s patented SpaceCamo(tm), it is a craft that, wherever you go, assassins would have a hard time spotting you.</td>
                </tr>
                <tr>
                    <td>Identifier</td>
                    <td>oolite.oxp.sirarian.sks-plasma-mk-1</td>
                    <td>oolite.oxp.sirarian.sks-plasma-mk-1</td>
                </tr>
                <tr>
                    <td>Title</td>
                    <td>SKS Plasma Mark I</td>
                    <td>SKS Plasma Mark I</td>
                </tr>
                <tr>
                    <td>Category</td>
                    <td>Ships</td>
                    <td>Ships</td>
                </tr>
                <tr>
                    <td>Author</td>
                    <td>SirArian</td>
                    <td>SirArian</td>
                </tr>
                <tr>
                    <td>Version</td>
                    <td>2.0</td>
                    <td>2.0</td>
                </tr>
                <tr>
                    <td>Tags</td>
                    <td></td>
                    <td></td>
                </tr>
                <tr>
                    <td>Required Oolite Version</td>
                    <td></td>
                    <td></td>
                </tr>
                <tr>
                    <td>Maximum Oolite Version</td>
                    <td></td>
                    <td></td>
                </tr>
                <tr>
                    <td>Required Expansions</td>
                    <td>
                    </td>
                    <td>
                    </td>
                </tr>
                <tr>
                    <td>Optional Expansions</td>
                    <td>
                    </td>
                    <td>
                    </td>
                </tr>
                <tr>
                    <td>Conflict Expansions</td>
                    <td>
                    </td>
                    <td>
                    </td>
                </tr>
                <tr>
                    <td>Information URL</td>
                    <td><a target="_blank" href="http://aegidian.org/bb/viewtopic.php?f=4&amp;t=16380">http://aegidian.org/bb/viewtopic.php?f=4&amp;t=16380</a></td>
                    <td><a target="_blank" href="">n/a</a></td>
                </tr>
                <tr>
                    <td>Download URL</td>
                    <td><a target="_blank" href="https://wiki.alioth.net/img_auth.php/0/04/Oolite.oxp.SirArian.SKS-Plasma-Mk1.oxz">https://wiki.alioth.net/img_auth.php/0/04/Oolite.oxp.SirArian.SKS-Plasma-Mk1.oxz</a></td>
                    <td><a target="_blank" href="">n/a</a></td>
                </tr>
                <tr>
                    <td>License</td>
                    <td>CC-BY-NC-SA 4.0</td>
                    <td>CC-BY-NC-SA 4.0</td>
                </tr>
                <tr>
                    <td>File Size</td>
                    <td>n/a</td>
                </tr>
                <tr>
                    <td>Upload date</td>
                    <td>1610873211</td>
                </tr>
            </table>
                </a>

        <a name="documentation">
        <h2>Documentation</h2>
        <p>Also read <a href='http://wiki.alioth.net/index.php/SKS%20Plasma%20Mark%20I'>http://wiki.alioth.net/index.php/SKS%20Plasma%20Mark%20I</a></p>
        <h3>readme.txt</h3>
        <pre>ï»¿From Silver Knight Shipyards on Diqudi in chart 3 comes the Plasma Mark I, a small multi-roll craft designed primarily for a pilot who is trying to make a living in the business of passenger carrying, and who, to be able to get contracts, must take the ones through more dangerous systems than most pilots would be willing to. From it&#39;s speed of 0.4 LM to it&#39;s patented SpaceCamo(tm), it is a craft that, wherever you go, assassins would have a hard time spotting you.

Special thanks to Smivs for helping me out on this OXP. Without his help, it would not have been possible.

I would also like to thank Nyarlatothep and Smivs for writing the JavaScript needed for the passenger berth control. (And thanks also to Paradox for putting it in his D.T.T Atlas so I could find it and use it in my OXP.)

*LICENSE*
This work is licensed under the Creative Commons Attribution-NonCommercial-ShareAlike 4.0 International (CC BY-NC-SA 4.0)
For more information, please visit: http://creativecommons.org/licenses/by-nc-sa/4.0/
</pre>
        </a>

        <a name="equipment">          
        <h2>Equipment</h2>
            <table>
                <tr>
                    <th>Name</th>
                    <th>Visible</th>
                    <th>Cost [deci-credits]</th>
                    <th>Tech-Level</th>
                </tr>
                <tr>
                    <td><a href="../equipment/EQ_PASSENGER_BERTH.html">Passenger Berth - takes up 5t of cargo space</a></td>
                    <td>yes</td>
                    <td align="right">8250</td>
                    <td align="center">6+</td>
                </tr>
                <tr>
                    <td><a href="../equipment/EQ_PASSENGER_BERTH_REMOVAL.html">Remove Passenger Berth - reclaims 5t of cargo space</a></td>
                    <td>yes</td>
                    <td align="right">1000</td>
                    <td align="center">2+</td>
                </tr>
            </table>
        </a>

        <a name="ships">    
        <h2>Ships</h2>
            <table>
                <tr>
                    <th>Name</th>
                </tr>
                <tr>
                    <td><a href="../ships/sks_plasma_mk1.html">SKS Plasma Mark I</a></td>
                </tr>
                <tr>
                    <td><a href="../ships/sks_plasma_mk1_player.html">sks_plasma_mk1_player</a></td>
                </tr>
            </table>
        </a>

        <a name="models">    
        <h2>Models</h2>
            This expansion declares no models. 
        </a>

        <a name="scripts">    
        <h2>Scripts</h2>
            <table>
                <tr>
                    <th>Path</th>
                </tr>
                <tr>
                    <td valign="top">Scripts/berthControl-conditions.js</td>
                    <td><pre>
/*jslint white: true, undef: true, eqeqeq: true, bitwise: true, regexp: true, newcap: true, immed: true */
/*global missionVariables, player*/


&quot;use strict&quot;;


this.name			= &quot;berthControl-conditions&quot;;
this.author			= &quot;Nyarlatothep&quot;;
this.copyright		= &quot;This script is hereby placed in the public domain.&quot;;
this.version		= &quot;1.2&quot;;


/* contexts: npc, purchase, scripted, newShip, (loading), (damage), (portable) */
this.allowAwardEquipment = function(equipment, ship, context)
{

	// OXP hook to allow stations to forbid specific equipment
	if (context == &quot;purchase&quot; &amp;&amp; player.ship.dockedStation &amp;&amp; player.ship.dockedStation.scriptInfo[&quot;oolite-barred-equipment&quot;])
	{
		if (player.ship.dockedStation.scriptInfo[&quot;oolite-barred-equipment&quot;].indexOf(equipment) != -1)
		{
			return false;
		}
	}

	// fixed berthts?
	var fixedBerths = ship.scriptInfo.fixedBerths;
	if (context == &quot;purchase&quot; &amp;&amp; (fixedBerths === &quot;Yes&quot; || fixedBerths === &quot;Y&quot;))
	{
		player.consoleMessage(missionVariables.berthControl_marketMessage, 1.5);
		return false;
	}
	
	if (context == &quot;purchase&quot; &amp;&amp; equipment == &quot;EQ_PASSENGER_BERTH_REMOVAL&quot;)
	{
		//var removableBerths = parseInt(missionVariables.berthControl_removableBerths);
		if (missionVariables.berthControl_removableBerths === 0)
		{
			player.consoleMessage(missionVariables.berthControl_marketMessage, 1.5);
			return false;
		}
	}


	// otherwise allowed
	return true;
}
</pre></td>
                </tr>
                <tr>
                    <td valign="top">Scripts/berthControl.js</td>
                    <td><pre>/*jslint white: true, undef: true, eqeqeq: true, bitwise: true, regexp: true, newcap: true, immed: true */

&quot;use strict&quot;;

// Standard attributes
this.name           = &quot;BerthControl&quot;;
this.author         = &quot;Smivs, Nyarlatothep&quot;;
this.copyright      = &quot;This script is hereby placed in the public domain.&quot;;
this.version        = &quot;1.2&quot;;
this.description    = &quot;Passenger berths management script.&quot;;


this.playerBoughtNewShip = function(ship)
// set removable berth count when ship is bought
{
	missionVariables.berthControl_removableBerths = null;
	missionVariables.berthControl_marketMessage = null;
	
	var msg = &quot;&quot;;
	var berths = ship.passengerCapacity;  // !
	var fixedBerths = ship.scriptInfo.fixedBerths;
	// get bool value from string
	fixedBerths = (fixedBerths === &quot;Yes&quot; || fixedBerths === &quot;Y&quot;);
	
	if (fixedBerths)
	{
		msg = &quot;This ship cannot be equipped with standard Passenger Berths.&quot;;
	}
	
	var minBerths = parseInt(ship.scriptInfo.minBerths);
	// ensure minBerth is a valid integer &amp; it&#39;s &gt; 0
	if (fixedBerths || (!isNaN(minBerths) &amp;&amp; minBerths &gt; 0))
	{
		// no berths to start with? no need for minBerths!
		if (berths &gt; 0)
		{
			//  calculate the actual number of permanent berths
			if (fixedBerths || minBerths &gt; berths) minBerths = berths;
			//  compose a nice formatted message...
			msg = (minBerths ===  berths ? &quot;The &quot; + minBerths : minBerths + &quot; of the&quot; ) + &quot; Passenger Berth&quot; + (berths === 1 ? &quot;&quot; : &quot;s&quot;);
			msg += &quot; that came with the ship cannot be &quot; + (fixedBerths? &quot;modified&quot; : &quot;removed&quot;) + &quot; at this shipyard.&quot;;
			// save the number of removable berths for later
			missionVariables.berthControl_removableBerths =  berths - minBerths;
		}
	}
	
	if (msg !== &quot;&quot;)
	{
		player.consoleMessage(msg, 5);
		//  save a message for later
		if (berths &gt; 0 &amp;&amp; minBerths &gt; 0)
		{
			msg = minBerths + &quot; Passenger Berths cannot be modified at this shipyard.&quot;
		}
		missionVariables.berthControl_marketMessage = msg;
	}
}

this.playerBoughtEquipment = function(equipment)
{
  if (missionVariables.berthControl_removableBerths === null)
	{
		// no berthControl mission variable? do nothing
		return;
	}
 
  if (equipment == &quot;EQ_PASSENGER_BERTH&quot;)
    {
		missionVariables.berthControl_removableBerths++;  // update counter
    }

  if (equipment == &quot;EQ_PASSENGER_BERTH_REMOVAL&quot;)
    {
		missionVariables.berthControl_removableBerths--;  // update counter
    }
}</pre></td>
                </tr>
            </table>
        </a>
    </body>
</html>
