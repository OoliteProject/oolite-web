<html>
    <head>
        <title>Expansion Life In The Frontier - Revival</title>
        <link rel="stylesheet" href="../style.css">
    </head>
    <body>
        <table border="0" width="100%">
            <tr>
                <td>Back to <a href='../index.html'>Index</a></td>
                <td align="right"><small>Page generated: Oct 11, 2023, 3:16:48 PM</small></td>
            </tr>
        </table>

        <h1>Expansion Life In The Frontier - Revival</h1>

        <h2>Content</h2>
        <ul>
          
          <li><a href="#manifest">Manifest</a></li>
          <li><a href="#documentation">Documentation</a></li>
          <li><a href="#equipment">0 Equipment</a></li>
          <li><a href="#ships">0 Ships</a></li>
          <li><a href="#models">0 Models</a></li>
          <li><a href="#scripts">6 Scripts</a></li>
        </ul>


        <a name="manifest">
        <h2>Manifest</h2>
            <table border="1">
                <tr>
                    <th></th>
                    <th>from Expansion Manager's OXP list</th>
                    <th>from Expansion Manifest</th>
                </tr>
                <tr>
                    <td>Description</td>
                    <td>(Phase 1) Creates a system BBS where the player can read and accept missions. Generates missions depending on system governments. Reward the player with credits and feedback, that in turn generates longer missions with better rewards.</td>
                    <td>(Phase 1) Creates a system BBS where the player can read and accept missions. Generates missions depending on system governments. Reward the player with credits and feedback, that in turn generates longer missions with better rewards.</td>
                </tr>
                <tr>
                    <td>Identifier</td>
                    <td>oolite.oxp.BeeTLeBeTHLeHeM.Life-In-The-Frontier-Revival</td>
                    <td>oolite.oxp.BeeTLeBeTHLeHeM.Life-In-The-Frontier-Revival</td>
                </tr>
                <tr>
                    <td>Title</td>
                    <td>Life In The Frontier - Revival</td>
                    <td>Life In The Frontier - Revival</td>
                </tr>
                <tr>
                    <td>Category</td>
                    <td>Activities</td>
                    <td>Activities</td>
                </tr>
                <tr>
                    <td>Author</td>
                    <td>BeeTLe BeTHLeHeM</td>
                    <td>BeeTLe BeTHLeHeM</td>
                </tr>
                <tr>
                    <td>Version</td>
                    <td>0.10.0</td>
                    <td>0.10.0</td>
                </tr>
                <tr>
                    <td>Tags</td>
                    <td></td>
                    <td></td>
                </tr>
                <tr>
                    <td>Required Oolite Version</td>
                    <td></td>
                    <td></td>
                </tr>
                <tr>
                    <td>Maximum Oolite Version</td>
                    <td></td>
                    <td></td>
                </tr>
                <tr>
                    <td>Required Expansions</td>
                    <td>
                    </td>
                    <td>
                    </td>
                </tr>
                <tr>
                    <td>Optional Expansions</td>
                    <td>
                    </td>
                    <td>
                    </td>
                </tr>
                <tr>
                    <td>Conflict Expansions</td>
                    <td>
                    </td>
                    <td>
                    </td>
                </tr>
                <tr>
                    <td>Information URL</td>
                    <td><a target="_blank" href=""></a></td>
                    <td><a target="_blank" href="">n/a</a></td>
                </tr>
                <tr>
                    <td>Download URL</td>
                    <td><a target="_blank" href="https://wiki.alioth.net/img_auth.php/5/5a/Oolite.oxp.BeeTLeBeTHLeHeM.Life-In-The-Frontier-Revival.oxz">https://wiki.alioth.net/img_auth.php/5/5a/Oolite.oxp.BeeTLeBeTHLeHeM.Life-In-The-Frontier-Revival.oxz</a></td>
                    <td><a target="_blank" href="">n/a</a></td>
                </tr>
                <tr>
                    <td>License</td>
                    <td>CC BY-NC-SA 4</td>
                    <td>CC BY-NC-SA 4</td>
                </tr>
                <tr>
                    <td>File Size</td>
                    <td>n/a</td>
                </tr>
                <tr>
                    <td>Upload date</td>
                    <td>1610873303</td>
                </tr>
            </table>
                </a>

        <a name="documentation">
        <h2>Documentation</h2>
        <p>Also read <a href='http://wiki.alioth.net/index.php/Life%20In%20The%20Frontier%20-%20Revival'>http://wiki.alioth.net/index.php/Life%20In%20The%20Frontier%20-%20Revival</a></p>
        <h3>LITF_readme.txt</h3>
        <pre>LIFE IN THE FRONTIER - REVIVAL
------------------------------
</pre>
        </a>

        <a name="equipment">          
        <h2>Equipment</h2>
            This expansion declares no equipment. 
        </a>

        <a name="ships">    
        <h2>Ships</h2>
            This expansion declares no ships. 
        </a>

        <a name="models">    
        <h2>Models</h2>
            This expansion declares no models. 
        </a>

        <a name="scripts">    
        <h2>Scripts</h2>
            <table>
                <tr>
                    <th>Path</th>
                </tr>
                <tr>
                    <td valign="top">Scripts/LITF.js</td>
                    <td><pre>/* eslint-disable semi, no-multi-spaces, quotes, indent, no-tabs, yoda */
/* global worldScripts, system, missionVariables, player, mission, clock, randomName */

&quot;use strict&quot;;

this.name	     = &quot;LITF&quot;;
this.author	     = &quot;BeeTLe BeTHLeHeM&quot;;
this.copyright	 = &quot;2018 BeeTLe BeTHLeHeM&quot;;
this.description = &quot;Main OSP file&quot;;
this.version	 = &quot;0.10.0&quot;;
this.licence	 = &quot;CC BY-NC-SA 4.0&quot;;

var _co  = null;
var _mi  = null;
var _bbs = null;
var _nav = null;

this.startUp = function () {
    _co = worldScripts.LITF_Common;
    _co.$init();

    _mi = worldScripts.LITF_Missions;
    _mi.$init();

    _bbs = worldScripts.LITF_BBS;

    _nav = worldScripts.LITF_Station_ALPHA;

    _co.$log(&quot;[LITF] startup - [LIFE IN THE FRONTIER v&quot; + this.version + &quot;]&quot;);

    this.$initOXPVariables();

    this.$checkOtherOXP();

    // Starting up
    if (this.litfVars.starting === true) {
        _co.$log(&quot;creating initial BBS items&quot;);
        _bbs.$createBBSItems();
        this.litfVars.starting = false;
    }

    this.$LITFinterface();
}

this.playerWillSaveGame = function () {
    _co.$log(&quot;[LITF] playerWillSaveGame&quot;);

    // Store variables in savegame
    missionVariables.litfCommander = JSON.stringify(this.litfCommander);
    missionVariables.litfVars = JSON.stringify(this.litfVars);
}

this.shipWillDockWithStation = function (station) {
    _co.$log(&quot;[LITF] shipWillDockWithStation&quot;);

    // Player is going to dock with a station
}

this.shipDockedWithStation = function () {
    _co.$log(&quot;[LITF] shipDockedWithStation&quot;);

    // Player has just docked with a station

    // Store system data for BBS generation - only if player has changed system
    if (this.litfVars.stationParams.id !== system.ID) {
        var stationParams = {
            systemId: system.ID,
            government: _co.$systemGovernment(),
            economy: _co.$systemEconomy(),
            techLevel: _co.$systemTechLevel()
        };

        this.litfVars.stationParams = stationParams;
    }

    this.$checkExpiredMissions();

    if (this.litfVars.config.debug === true) {
        this.$checkMissingPerson();
    }

    // BBS item generation
    if (this.litfVars.refreshBBS === true) {
        _bbs.$createBBSItems();
        this.litfVars.refreshBBS = false;
        this.litfVars.bbsItems = this.litfVars.bbsData.bbsItemsArr;
    } else {
        this.litfVars.bbsData.bbsItemsArr = this.litfVars.bbsItems;
    }

    this.$LITFinterface();
}

this.shipExitedWitchspace = function () {
    _co.$log(&quot;[LITF] shipExitedWitchspace&quot;);

    // Player has just exited a witchspace jump

    // New messages when changing system
    this.litfVars.refreshBBS = true;
    this.litfVars.bbsItems = null;

    // Console message if there is a mission to complete in the present system.
    if (this.litfCommander.activeMissions.length &gt; 0) {
        var missionsHere = 0;

        for (var m = 0; m &lt; this.litfCommander.activeMissions.length; m++) {
            var mObj = this.litfCommander.activeMissions[m];

            var mSystems = _bbs.$getMissionTask(mObj, mObj.currentTask).info.systems;
            _co.$log(&quot;system.ID = &quot; + system.ID + &quot; mSystems = &quot; + JSON.stringify(mSystems));

            for (var s = 0; s &lt; mSystems.length; s++) {
                if (mSystems[s].id === system.ID) {
                    missionsHere = missionsHere + 1;
                }
            }
        }

        _co.$log(missionsHere + &quot; tasks can be completed in this system.&quot;);

        if (missionsHere &gt; 0) {
            var pl = missionsHere &gt; 1 ? &quot;s&quot; : &quot;&quot;;
            player.commsMessage(&quot;You have &quot; + missionsHere + &quot; active BBS mission&quot; + pl + &quot; in this system.&quot;);
        }
    }
}

this.playerEnteredNewGalaxy = function (galaxyNumber) {
    _co.$log(&quot;[LITF] playerEnteredNewGalaxy&quot;);

    // Player changed galaxy

    // Re-Initializing

    this.litfCommander = {
        feedback: 0,
        activeMissions: [],
        busyCargo: false,
        busyPassenger: false,
        busyParcel: false,
        statistics: {
            missionAccepted: [],
            missionCompleted: [],
            missionFailed: [],
            feedbackGained: [],
            feedbackLost: []
            // creditsGained: []
        }
    };

    for (var g = 0; g &lt; _co.groupsLabels.length; g++) {
        this.litfCommander.statistics.missionAccepted.push(0);
        this.litfCommander.statistics.missionCompleted.push(0);
        this.litfCommander.statistics.missionFailed.push(0);
        this.litfCommander.statistics.feedbackGained.push(0);
        this.litfCommander.statistics.feedbackLost.push(0);
        // this.litfCommander.statistics.creditsGained.push(0);
    }
}

// Add OXP interfaces to station screen (F4)
this.$LITFinterface = function () {
    _co.$log(&quot;[LITF] LITFinterface&quot;);

	player.ship.dockedStation.setInterface(&quot;LITF_bbs&quot;,
		{
			title: &quot;Login to BBS&quot;,
			category: &quot;Activity&quot;,
			summary: &quot;Connect to local Bulletin Board System&quot;,
			callback: this.$accessBBS.bind(this)
		}
    );

	player.ship.dockedStation.setInterface(&quot;LITF_profile&quot;,
		{
			title: &quot;Your online status&quot;,
			category: &quot;Activity&quot;,
			summary: &quot;Check your online feedback and accepted missions.&quot;,
			callback: this.$displayOnlineStatus.bind(this)
		}
	);

    if (this.litfVars.config.debug === true) {
        player.ship.dockedStation.setInterface(&quot;LITF_navigation&quot;,
            {
                title: &quot;Disembark from your ship&quot;,
                category: &quot;Activity&quot;,
                summary: &quot;Go roaming through the station.&quot;,
                callback: this.$navigateStation.bind(this)
            }
        );
    }
}

this.$navigateStation = function () {
    _co.$log(&quot;[LITF] navigateStation&quot;);

    _nav.$init();
    _nav.$start();
}

// Open the BBS message list screen
this.$accessBBS = function () {
    _co.$log(&quot;[LITF] accessBBS&quot;);

    this.$checkExpiredMissions();

    var _bbs = worldScripts.LITF_BBS;

    this.litfVars.enterBBSFlag = true;

    _bbs.$run();
}

// Open the Online Profile screen
this.$displayOnlineStatus = function () {
    _co.$log(&quot;[LITF] displayOnlineStatus&quot;);

    var displayText = null;
    var opts = null;
    var choices = null;

    if (this.litfVars.statusPage === 0) {
        this.$checkExpiredMissions();

        displayText = &quot;NAME: &quot; + player.name;
        displayText += &quot;                                        &quot;;
        displayText += &quot;FEEDBACK: &quot; + _co.$getFeedbackRanking(this.litfCommander.feedback) + &quot; (&quot; + this.litfCommander.feedback + &quot;)&quot;;
        displayText += &quot;\n\n&quot;;

        var maxActiveMissions = parseInt(Math.abs(this.litfCommander.feedback) / 25) + 1;

        displayText += &quot;-- ACTIVE MISSIONS (&quot; + this.litfCommander.activeMissions.length + &quot; / &quot; + maxActiveMissions + &quot;) --&quot;;
        displayText += &quot;\n\n&quot;;

        if (this.litfCommander.activeMissions.length === 0) {
            displayText += &quot;&gt;&gt; No active missions at the moment &lt;&lt;&quot;;
        } else {
            for (var m = 0; m &lt; this.litfCommander.activeMissions.length; m++) {
                var mObj = this.litfCommander.activeMissions[m];

                var deadline = parseInt(mObj.startTime) + parseInt(mObj.timeAllowed);
                var timeText = _co.$formatTime(deadline, true);

                var missionText = &quot;&gt; &quot;;

                if (this.litfVars.config.debug === true) {
                    missionText += &quot;(&quot; + mObj.groupId + &quot;.&quot; + mObj.tasks[0].typeId + &quot;.&quot; + mObj.index + &quot;) &quot;;
                }

                missionText += _bbs.$getMissionTask(mObj, mObj.currentTask).description;
                missionText += &quot; Mission expires in &quot; + timeText + &quot;.&quot;;

                if (mObj.reward &gt; 0) {
                    missionText += &quot; Payment: &quot; + mObj.reward + &quot; credits.&quot;;
                }

                displayText += missionText + &quot;\n\n&quot;;
            }
        }

        choices = {
            &quot;QUIT&quot;: &quot;Exit the profile page.&quot;
        };

        if (this.litfVars.config.debug === true) {
            choices[&quot;NEXTPAGE&quot;] = &quot;Go to the Statistics screen.&quot;;
        }

        opts = {
            title: &quot;Online Profile Data&quot;,
            exitScreen: &quot;GUI_SCREEN_INTERFACES&quot;,
            message: displayText,
            choices: choices
        };
    } else if (this.litfVars.statusPage === 1) {
        displayText = &quot;&quot;;

        for (var g = 0; g &lt; _co.groupsLabels.length; g++) {
            displayText += _co.groupsLabels[g] + &quot;: &quot;;

            displayText += &quot;Accepted: &quot; + this.litfCommander.statistics.missionAccepted[g] + &quot;, &quot;;
            displayText += &quot;Completed: &quot; + this.litfCommander.statistics.missionCompleted[g] + &quot;, &quot;;
            displayText += &quot;Failed: &quot; + this.litfCommander.statistics.missionFailed[g] + &quot;, &quot;;

            displayText += &quot; Feedback: &quot;;
            if (this.litfCommander.statistics.feedbackGained[g] &gt; 0) {
                displayText += &quot;+&quot; + this.litfCommander.statistics.feedbackGained[g];
            } else {
                displayText += this.litfCommander.statistics.feedbackGained[g];
            }

            displayText += &quot; / &quot;;
            if (this.litfCommander.statistics.feedbackLost[g] &gt; 0) {
                displayText += &quot;-&quot; + this.litfCommander.statistics.feedbackLost[g];
            } else {
                displayText += this.litfCommander.statistics.feedbackLost[g];
            }

            displayText += &quot;\n&quot;;
        }

        choices = {
            &quot;NEXTPAGE&quot;: &quot;Go to the Profile screen.&quot;,
            &quot;QUIT&quot;: &quot;Exit the profile page.&quot;
        };

        opts = {
            title: &quot;Online Statistics&quot;,
            exitScreen: &quot;GUI_SCREEN_INTERFACES&quot;,
            message: displayText,
            choices: choices
        };
    }

    mission.runScreen(opts, this.$executeStatusAction);
}

this.$executeStatusAction = function (choice) {
    if (choice === &quot;QUIT&quot;) {
        this.litfVars.statusPage = 0;
        this.$LITFinterface();
    } else if (choice === &quot;NEXTPAGE&quot;) {
        this.litfVars.statusPage = this.litfVars.statusPage + 1;
        if (this.litfVars.statusPage &gt; 1) { this.litfVars.statusPage = 0; }
        this.$displayOnlineStatus();
    }
}

// Check expired missions and delete them
this.$checkExpiredMissions = function () {
    var failed = [];

    if (this.litfCommander.activeMissions) {
        for (var am = 0; am &lt; this.litfCommander.activeMissions.length; am++) {
            var amItem = this.litfCommander.activeMissions[am];

            var deadline = parseInt(amItem.startTime) + parseInt(amItem.timeAllowed) - clock.seconds;

            if (deadline &lt; 0) { failed.push(amItem.missionId); }
        }

        _co.$log(&quot;failed = &quot; + JSON.stringify(failed));

        if (failed.length &gt; 0) {
            var pl = null;

            pl = failed.length &gt; 1 ? &quot;s&quot; : &quot;&quot;;
            player.commsMessage(&quot;Time expired: &quot; + failed.length + &quot; mission&quot; + pl + &quot; failed.&quot;);
            _co.$log(&quot;Time expired: &quot; + failed.length + &quot; mission&quot; + pl + &quot; failed.&quot;);

            // var removedPassengers = 0;
            // var deadPassengers = 0;

            // Delete failed missions from active missions list
            for (var fm = 0; fm &lt; failed.length; fm++) {
                var ret = _bbs.$deleteActiveMission(failed[fm]);

                // removedPassengers = removedPassengers + ret.removedPassengers;
                // deadPassengers = deadPassengers + ret.deadPassengers;

                if (ret.cargo !== null) {
                    player.ship.removeAllCargo();
                    player.commsMessage(&quot;A shipment of &quot; + ret.cargo + &quot; has been removed from your ship.&quot;);
                }

                if (ret.parcel !== null) {
                    player.ship.removeParcel(ret.parcel);
                    var parcelDesc = ret.parcel.substring(ret.parcel.indexOf(&quot; &quot;) + 1);
                    player.commsMessage(parcelDesc + &quot; has been removed from your ship.&quot;);
                }

                _co.$updateStatistics(&quot;missionFailed&quot;, ret.groupId, 1);

                // Get feedback penalty
                if (ret.groupId !== 3) {
                    _co.$setPlayerFeedback(-ret.feedback.lost);
                }
                _co.$updateStatistics(&quot;feedbackLost&quot;, ret.groupId, ret.feedback.lost);

                if (ret.removedPassengers &gt; 0) {
                    pl = ret.removedPassengers &gt; 1 ? &quot;s&quot; : &quot;&quot;;
                    player.commsMessage(&quot;&quot; + ret.removedPassengers + &quot; passenger&quot; + pl + &quot; have left your ship!&quot;);

                    // Get feedback penalty (1 point per passenger)
                    if (ret.groupId !== 3) {
                        _co.$setPlayerFeedback(-ret.removedPassengers);
                    }
                    _co.$updateStatistics(&quot;feedbackLost&quot;, ret.groupId, ret.removedPassengers);
                }

                if (ret.deadPassengers &gt; 0) {
                    pl = ret.deadPassengers &gt; 1 ? &quot;s&quot; : &quot;&quot;;
                    player.commsMessage(&quot;&quot; + ret.deadPassengers + &quot; dead passenger&quot; + pl + &quot; has been removed from your ship!&quot;);

                    // Get feedback penalty (3 point per passenger)
                    if (ret.groupId !== 3) {
                        _co.$setPlayerFeedback(-ret.deadPassengers * 3);
                    }
                    _co.$updateStatistics(&quot;feedbackLost&quot;, ret.groupId, ret.deadPassengers * 3);
                }
            }
        }
    }
}

this.$initOXPVariables = function () {
    // OXP player commander data

    if (missionVariables.litfCommander) {
        // Loading from savegame
        _co.$log(&quot;Loading litfCommander object&quot;);
        this.litfCommander = JSON.parse(missionVariables.litfCommander);
    } else {
        // Initializing
        this.litfCommander = {
            feedback: 0,
            activeMissions: [],
            busyCargo: false,
            busyPassenger: false,
            busyParcel: false,
            statistics: {
                missionAccepted: [],
                missionCompleted: [],
                missionFailed: [],
                feedbackGained: [],
                feedbackLost: []
                // creditsGained: []
            }
        };

        for (var g = 0; g &lt; _co.groupsLabels.length; g++) {
            this.litfCommander.statistics.missionAccepted.push(0);
            this.litfCommander.statistics.missionCompleted.push(0);
            this.litfCommander.statistics.missionFailed.push(0);
            this.litfCommander.statistics.feedbackGained.push(0);
            this.litfCommander.statistics.feedbackLost.push(0);
            // this.litfCommander.statistics.creditsGained.push(0);
        }
    }

    // OXP variables and flags

    if (missionVariables.litfVars) {
        // Loading from savegame
        _co.$log(&quot;Loading litfVars object&quot;);
        this.litfVars = JSON.parse(missionVariables.litfVars);
    } else {
        this.litfVars = {
            starting: true,
            config: {
                enableLog: false,
                debug: false,
                disableMissionBackground: true
            },
            stationParams: {
                systemId: system.ID,
                government: _co.$systemGovernment(),
                economy: _co.$systemEconomy(),
                techLevel: _co.$systemTechLevel()
            },
            refreshBBS: true,
            bbsItems: null,
            enterBBSFlag: false,
            generalId: 1,
            bbsData: {
                bbsItemsArr: [],
                checkDuplicatesArr: [],
                selectedItem: 0,
                lastChoice: &quot;02_NEXT_ITEM&quot;,
                firstItemIdx: 0,
                totalItems: 0,
                rowsSize: 14,
                bbsMode: 0, // 0 - item list, 1 - item details
                selectedItemObj: null
            },
            statusPage: 0,
            oxp: {}
        };
    }

    this.litfVars.config.debug = false;
    this.litfVars.config.enableLog = false;
}

this.$checkMissingPerson = function () {
    _co.$log(&quot;[LITF] checkMissingPerson&quot;);

    if (!this.litfVars.missingPerson || this.litfVars.missingPerson === null) {
        var mPerson = {};

        mPerson.name = randomName() + &quot; &quot; + randomName();
        mPerson.currentPos = 0;
        mPerson.active = false;

        mPerson.posArr = this.$defineMissingPersonTravel();
        mPerson.nextMove = clock.seconds + (_co.$roll(4, 16) * 3600);

        _co.$log(&quot;missingPerson = &quot; + JSON.stringify(mPerson));

        this.litfVars.missingPerson = mPerson;
    }
}

this.$defineMissingPersonTravel = function () {
    _co.$log(&quot;[LITF] defineMissingPersonTravel&quot;);

    var posArr = [];
    var jumps = 0;

    var firstSystem = _co.$randomSystem(-1);
    posArr.push(firstSystem.id);

    var enough = false;
    while (enough === false) {
        var startSystem = posArr[posArr.length - 1];
        var endSystem = null;

        var valid = false;
        while (valid === false) {
            valid = true;
            endSystem = _co.$randomSystem(-1);
            for (var s = 0; s &lt; posArr.length; s++) {
                if (posArr[s].id === endSystem.id) {
                    valid = false;
                }
            }
        }

        _co.$log(&quot;startSystem[&quot; + startSystem + &quot;] endSystem[&quot; + endSystem + &quot;]&quot;);

        var systemRoute = _co.$getSystemRoute(startSystem, endSystem.id);
        jumps += systemRoute.route.length;

        _co.$log(&quot;jumps = &quot; + jumps);

        for (var sr = 1; sr &lt; systemRoute.route.length; sr++) {
            posArr.push(systemRoute.route[sr]);
        }

        if (jumps &gt;= 10) {
            enough = true;
        }
    }

    return posArr;
}

this.$checkOtherOXP = function () {
    // Check OXPs main files (look into the OXZs) and set associate flags

    // Examples:
    // this.litfVars.oxp.fuelStation = worldScripts[&quot;FuelStation-Setup&quot;] ? 1 : 0;
    // this.litfVars.oxp.hoopyCasino = worldScripts[&quot;hoopy_casino&quot;] ? 1 : 0;

    // _co.$log(&quot;[LITF] checkOtherOXP = &quot; + JSON.stringify(this.litfVars.oxp));
}
</pre></td>
                </tr>
                <tr>
                    <td valign="top">Scripts/LITF_BBS.js</td>
                    <td><pre>/* eslint-disable semi, no-multi-spaces, quotes, indent, no-tabs, yoda */
/* global worldScripts, system, mission, player, clock, randomName, setScreenBackground  */

&quot;use strict&quot;;

this.name        = &quot;LITF_BBS&quot;;
this.author      = &quot;BeeTLe BeTHLeHeM&quot;;
this.copyright   = &quot;2018 BeeTLe BeTHLeHeM&quot;;
this.description = &quot;Code for BBS management - message list, mission creation, mission details&quot;;
this.version     = &quot;0.10.0&quot;;
this.licence     = &quot;CC BY-NC-SA 4.0&quot;;

// Feedback requirements defaults

// Currently not used
this.minFeedbackDefault = -10; // Default minimum feedback required for missions (except GalShady ones)
this.maxFeedbackDefault = 24; // Default maximum feedback required for missions (only GalShady ones)

this.halfAdvanceMinFeedbackDefault = 10; // Default minimum feedback required for obtaining half advance reward
this.fullAdvanceMinFeedbackDefault = 50; // Default minimum feedback required for obtaining full advance reward
this.moreMoneyMinFeedbackDefault   = 25; // Default minimum feedback required for obtaining more reward (10-25% more)

this.bbsData = null;

var _litf    = null;
var _co      = null;
var _md      = null;
var _mi      = null;

// Local var reference for callback methods

var $display = this.$display;
var $executeCharityActions = this.$executeCharityActions;
var $executeMissionActions = this.$executeMissionActions;
var $executePlayerWaitingActions = this.$executePlayerWaitingActions;

this.$run = function () {
    _co.$log(&quot;[LITF_BBS] run&quot;);

    _litf = worldScripts.LITF;

    this.bbsData = _litf.litfVars.bbsData;

    _co   = worldScripts.LITF_Common;
    _md   = worldScripts.LITF_MissionData;
    _mi   = worldScripts.LITF_Missions;

    // Load the BBS list
    this.$init();

    // Display the BBS page
    this.$display();
}

this.$init = function () {
    _co.$log(&quot;[LITF_BBS] init&quot;);

    // What to do with this?
    if (_litf.litfVars.enterBBSFlag === true) {
        _litf.litfVars.enterBBSFlag = false;
    }
}

this.$createBBSItems = function () {
    _co.$log(&quot;[LITF_BBS] createBBSItems&quot;);

    var bbsData = _litf.litfVars.bbsData;

    bbsData.bbsItemsArr = [];
    bbsData.checkDuplicatesArr = [];

    // From the system government we get the active groups
    var stationData = _litf.litfVars.stationParams;
    var activeGroups = _mi.groupsByGov[stationData.government];

    // Cycle the active groups and eventually set some mission each group
    var totGroupMissions = 5 + _co.$roll(0, activeGroups.length / 2);
    for (var g = 0; g &lt; totGroupMissions; g++) {
        var mObj = _mi.$generateMission(activeGroups);
        if (mObj != null) {
            mObj.missionId = _co.$getGeneralId();
            bbsData.bbsItemsArr.push(mObj);
        }
    }

    // Waiting mission generation (dummy)
    var totWaitingMissions = _co.$roll(1, 4);
    for (var w = 0; w &lt; totWaitingMissions; w++) {
        var wObj = _mi.$generateRandomItem(_md.waitingStore);
        wObj.missionId = _co.$getGeneralId();
        bbsData.bbsItemsArr.push(wObj);
    }

    // Government specific messages
    var totGovItems = _co.$roll(3, 6);
    for (var go = 0; go &lt; totGovItems; go++) {
        var gObj = _mi.$generateGovernmentItem();
        gObj.missionId = _co.$getGeneralId();
        bbsData.bbsItemsArr.push(gObj);
    }

    // Advertising messages generation
    var totAdItems = activeGroups.length + _co.$roll(0, 4);
    for (var a = 0; a &lt; totAdItems; a++) {
        var aObj = _mi.$generateRandomItem(_md.adStore);
        aObj.missionId = _co.$getGeneralId();
        bbsData.bbsItemsArr.push(aObj);
    }

    // Charity request messages generation
    var totCharityItems = _co.$roll(1, 1);
    for (var c = 0; c &lt; totCharityItems; c++) {
        var cObj = _mi.$generateRandomItem(_md.charityStore);
        cObj.missionId = _co.$getGeneralId();
        bbsData.bbsItemsArr.push(cObj);
    }

    // Debug //
    if (_litf.litfVars.config.debubg === true) {
        _co.$log(&quot;generate debug items&quot;);
        var dObj = null;
        for (var d = 0; d &lt; 2; d++) {
            // dObj = _mi.$generateMission([&quot;debug&quot;], 1);
            // bbsData.bbsItemsArr.push(dObj);

            // dObj = _mi.$generateMission([&quot;debug&quot;], 2);
            // bbsData.bbsItemsArr.push(dObj);

            // dObj = _mi.$generateMission([&quot;debug&quot;], 3);
            // bbsData.bbsItemsArr.push(dObj);

            dObj = _mi.$generateMission([&quot;debug&quot;], 4);
            if (dObj !== null) {
                bbsData.bbsItemsArr.push(dObj);
            }
        }
    }
    // Debug //

    _co.$log(&quot;generate player waiting items&quot;)

    // Check if there&#39;s a mission to complete in this system - create BBS message accordingly.
    var activeMissions = _litf.litfCommander.activeMissions;
    _co.$log(&quot;activeMissions length = &quot; + activeMissions.length);

    if (activeMissions.length &gt; 0) {
        for (var am = 0; am &lt; activeMissions.length; am++) {
            var amItem = activeMissions[am];

            if (this.$checkActiveMissionHere(amItem) === true) {
                var pwObj = _mi.$generatePlayerWaitingMission(amItem);

                bbsData.bbsItemsArr.push(pwObj);
                _co.$log(&quot;pwObj = &quot; + JSON.stringify(pwObj));
            }
        }
    }

    _co.$log(&quot;shuffleArray&quot;);

    // Shuffle the list
    bbsData.bbsItemsArr = _co.$shuffleArray(bbsData.bbsItemsArr);
}

this.$checkActiveMissionHere = function (amItem) {
    _co.$log(&quot;[LITF_BBS] checkActiveMissionHere&quot;);
    _co.$log(&quot;amItem = &quot; + JSON.stringify(amItem));

    var cTask = this.$getMissionTask(amItem, amItem.currentTask);
    _co.$log(&quot;cTask = &quot; + JSON.stringify(cTask));

    var systems = cTask.info.systems;
    var amHere = false;

    for (var sy = 0; sy &lt; systems.length; sy++) {
        if (this.$isSystems(systems) === true) {
            amHere = true;
            break;
        }
    }

    return amHere;
}

// Check if the player is in one of the systems of the input array
this.$isSystems = function (systemArr) {
    _co.$log(&quot;[LITF_BBS] isSystem&quot;);

    var isSystems = false;

    for (var s = 0; s &lt; systemArr.length; s++) {
        // System exists and its not already &quot;completed&quot; (visit + talk)

        _co.$log(&quot;system.ID = &quot; + system.ID + &quot; systemArr[&quot; + s + &quot;] = &quot; + JSON.stringify(systemArr[s]));

        if (!systemArr[s].hidden || systemArr[s].hidden === false) {
            if (systemArr[s].id === system.ID) {
                isSystems = true;
            }
        }
    }

    return isSystems;
}

this.$display = function () {
    var bbsData = _litf.litfVars.bbsData;

    _co.$log(&quot;[LITF_BBS] display&quot;);
    _co.$log(&quot;bbsMode = &quot; + bbsData.bbsMode);

    var displayText = &quot;&quot;;
    var opts = null;
    var curChoices = null;

    if (bbsData.bbsMode === 0) {
        // BBS message list
        displayText = &quot;(&quot; + (bbsData.selectedItem + 1) + &quot; / &quot; + bbsData.bbsItemsArr.length + &quot;)\n\n&quot;;

        this.$setPageListEdges();

        var lastItemIdx = bbsData.firstItemIdx + bbsData.rowsSize;
        if (lastItemIdx &gt; bbsData.bbsItemsArr.length) {
            lastItemIdx = bbsData.bbsItemsArr.length;
        }

        for (var r = bbsData.firstItemIdx; r &lt; lastItemIdx; r++) {
            var iObj = bbsData.bbsItemsArr[r];

            if (r === bbsData.selectedItem) {
                displayText += &quot;&gt; &quot;;
            } else {
                displayText += &quot;    &quot;;
            }

            var iTitle = iObj.title;
            if (iTitle.length &gt; 70) {
                iTitle = iTitle.substring(0, 70) + &quot;...&quot;;
            }

            displayText += iTitle + &quot;\n&quot;;
        }

        curChoices = this.$definePageListChoices();

        opts = {
            title: system.name + &quot; Bulletin Board&quot;,
            exitScreen: &quot;GUI_SCREEN_INTERFACES&quot;,
            message: displayText,
            choices: curChoices,
            initialChoicesKey: bbsData.lastChoice
        };

        mission.runScreen(opts, this.$updateMissionList);
    } else if (bbsData.bbsMode === 1) {
        // BBS item details
        var selItemObj = bbsData.selectedItemObj;

        displayText += &quot;// &quot; + selItemObj.title + &quot;\n\n&quot;;

        _co.$log(&quot;mission details: &quot; + JSON.stringify(selItemObj));

        if (selItemObj.groupId === 97) {
            // Player waiting message item

            var stepObj = this.$getCurrentStep(selItemObj);
            displayText += stepObj.description + &quot;\n&quot;;

            curChoices = stepObj.choice;
        } else {
            displayText += selItemObj.description + &quot;\n&quot;;

            if (selItemObj.showCredits === true) {
                displayText += &quot;\nYOUR CREDITS: &quot; + player.credits;
            } else if (selItemObj.choices !== &quot;hangup&quot;) {
                var etaTime = _co.$formatTime(selItemObj.timeAllowed, false);
                displayText += &quot;\nDEADLINE: &quot; + etaTime + &quot;.&quot;;
            }

            if (selItemObj.choices !== &quot;hangup&quot;) {
                for (var t = 0; t &lt; selItemObj.tasks.length; t++) {
                    var task = selItemObj.tasks[t];
                    if (!task.hideSystemData) {
                        for (var s = 0; s &lt; task.info.systems.length; s++) {
                            var sItem = task.info.systems[s];
                            if (sItem.distance &gt; 0) {
                                displayText += &quot;\nSYSTEM DATA: &quot; + sItem.name + &quot; (distance: &quot; + sItem.distance + &quot; ly)&quot;;
                            }
                        }
                    }
                }

                _co.$log(&quot;response = &quot; + selItemObj.response);
                if (selItemObj.response &amp;&amp; selItemObj.response !== null) {
                    displayText += &quot;\n\n&gt; &quot; + selItemObj.response;
                }
            }

            curChoices = this.$getChoices(selItemObj.choices);
        }

        opts = {
            title: system.name + &quot; Bulletin Board&quot;,
            exitScreen: &quot;GUI_SCREEN_INTERFACES&quot;,
            message: displayText,
            choices: curChoices
        };

        mission.runScreen(opts, this.$updateMissionDetails);

        // Frontier: Elite face backgrounds - disabled because I am afraid are copyrighted.
        if (_litf.litfVars.config.disableMissionBackground &amp;&amp; _litf.litfVars.config.disableMissionBackground === false) {
            if (selItemObj.faceBackground) {
                setScreenBackground(selItemObj.faceBackground);
            }
        }
    }
}

this.$getCurrentStep = function (pwObj) {
    _co.$log(&quot;[LITF_BBS] getCurrentStep&quot;);

    var steps = pwObj.steps;
    var currentStep = pwObj.currentStep;
    var sObj = {};

    for (var s = 0; s &lt; steps.length; s++) {
        var sItem = steps[s];
        if (sItem.index === currentStep) {
            sObj = sItem;
            break;
        }
    }

    _co.$log(&quot;step[&quot; + currentStep + &quot;] = &quot; + JSON.stringify(sObj));

    return sObj;
}

this.$getChoices = function (cLabel) {
    var choices = null;

    if (cLabel === &quot;mission&quot;) {
        choices = _md.missionChoices;
    } else if (cLabel === &quot;transport&quot;) {
        choices = _md.transportChoices;
    } else if (cLabel === &quot;cargo&quot;) {
        choices = _md.cargoChoices;
    } else if (cLabel === &quot;hangup&quot;) {
        choices = _md.hangupChoices;
    } else if (cLabel === &quot;charity&quot;) {
        choices = _md.charityChoices;
    } else {
        choices = _md.hangupChoices;
    }

    return choices;
}

this.$setPageListEdges = function () {
    var bbsData = _litf.litfVars.bbsData;

    if (bbsData.selectedItem &lt; bbsData.firstItemIdx) {
        bbsData.firstItemIdx = bbsData.selectedItem;
    }

    if (bbsData.selectedItem &gt; (bbsData.firstItemIdx + bbsData.rowsSize - 1)) {
        bbsData.firstItemIdx = (bbsData.selectedItem - bbsData.rowsSize + 1);
    }
}

this.$updateMissionDetails = function (choice) {
    _co.$log(&quot;[LITF_BBS] updateMissionDetails&quot;);

    var bbsData = _litf.litfVars.bbsData;

    var cLabel = bbsData.selectedItemObj.choices;

    _co.$log(&quot;choice = &quot; + choice);

    if (!choice) {
        _co.$log(&quot;NULL choice? What&#39;s happened there?&quot;);
        return;
    } else if (choice.indexOf(&quot;_QUIT&quot;) &gt; -1) {
        bbsData.bbsMode = 0;
        $display();
    } else if (cLabel === &quot;mission&quot;) {
        $executeMissionActions(choice);
        $display();
    } else if (cLabel === &quot;transport&quot;) {
        $executeMissionActions(choice);
        $display();
    } else if (cLabel === &quot;cargo&quot;) {
        $executeMissionActions(choice);
        $display();
    } else if (cLabel === &quot;charity&quot;) {
        $executeCharityActions(choice);
        $display();
    } else if (cLabel === &quot;waiting&quot;) {
        $executePlayerWaitingActions(choice);
        $display();
    }
}

this.$updateMissionList = function (choice) {
    var bbsData = _litf.litfVars.bbsData;

    if (!choice) {
        _co.$log(&quot;NULL choice? What&#39;s happened there?&quot;);
        return;
    } else if (choice === &quot;99_DISCONNECT&quot;) {
        bbsData.firstItemIdx = 0;
        bbsData.selectedItem = 0;
        _litf.$LITFinterface();
    } else {
        if (choice === &quot;01_PREV_ITEM&quot;) {
            if (bbsData.selectedItem &gt; 0) {
                bbsData.selectedItem = bbsData.selectedItem - 1;
            }
        } else if (choice === &quot;02_NEXT_ITEM&quot;) {
            if (bbsData.selectedItem &lt; bbsData.bbsItemsArr.length - 1) {
                bbsData.selectedItem = bbsData.selectedItem + 1;
            }
        } else if (choice === &quot;03_SELECT_ITEM&quot;) {
            // Open the details screen

            bbsData.selectedItemObj = bbsData.bbsItemsArr[bbsData.selectedItem];
            bbsData.selectedItemObj.response = null;

            bbsData.bbsMode = 1;
        }

        bbsData.lastChoice = choice;

        $display();
    }
}

this.$definePageListChoices = function () {
    _co.$log(&quot;[LITF_BBS] definePageListChoices&quot;);

    var bbsData = _litf.litfVars.bbsData;

    var choices = {};

    if (bbsData.selectedItem &gt; 0) {
        choices[&quot;01_PREV_ITEM&quot;] = { text: &quot;Select previous item&quot;, color: &quot;yellowColor&quot; };
    } else {
        choices[&quot;01_PREV_ITEM&quot;] = { text: &quot;Select previous item&quot;, color: &quot;darkGrayColor&quot;, unselectable: true };
    }

    if (bbsData.selectedItem &lt; bbsData.bbsItemsArr.length - 1) {
        choices[&quot;02_NEXT_ITEM&quot;] = { text: &quot;Select next item&quot;, color: &quot;yellowColor&quot; };
    } else {
        choices[&quot;02_NEXT_ITEM&quot;] = { text: &quot;Select next item&quot;, color: &quot;darkGrayColor&quot;, unselectable: true };
    }

    // Check mission object to see if it allows for a detail screen

    var sObj = bbsData.bbsItemsArr[bbsData.selectedItem];
    _co.$log(&quot;selectedItem = &quot; + bbsData.selectedItem + &quot; sObj = &quot; + JSON.stringify(sObj));

    if (sObj.choices) {
        choices[&quot;03_SELECT_ITEM&quot;] = { text: &quot;Contact Sender&quot;, color: &quot;yellowColor&quot; };
    } else {
        choices[&quot;03_SELECT_ITEM&quot;] = { text: &quot;Contact Sender&quot;, color: &quot;darkGrayColor&quot;, unselectable: true };
    }

    choices[&quot;99_DISCONNECT&quot;] = { text: &quot;Disconnect from BBS&quot;, color: &quot;yellowColor&quot; };

    return choices;
}

this.$getParentMissionObject = function (pwObj) {
    var pmObj = null;

    for (var am = 0; am &lt; _litf.litfCommander.activeMissions.length; am++) {
        var amItem = _litf.litfCommander.activeMissions[am];

        if (amItem.missionId === pwObj.parentMissionId) {
            pmObj = amItem;
            break;
        }
    }

    return pmObj;
}

this.$executePlayerWaitingActions = function (choice) {
    _co.$log(&quot;[LITF_BBS] executePlayerWaitingActions&quot;);

    var bbsData = _litf.litfVars.bbsData;

    var pwObj = bbsData.selectedItemObj; // Player wwaiting BBS item

    var pmObj = this.$getParentMissionObject(pwObj); // Original active mission item
    _co.$log(&quot;pmObj = &quot; + JSON.stringify(pmObj));

    var currentTask = this.$getMissionTask(pmObj, pmObj.currentTask);
    var nextTask = this.$getMissionTask(pmObj, pmObj.currentTask + 1);
    _co.$log(&quot;currentTask = &quot; + JSON.stringify(currentTask));

    var start = -1;
    var destination = -1;
    var arrivalTime = -1;
    var risk = -1;
    var parcel = null;
    //

    if (choice.indexOf(&quot;_GOTO_&quot;) &gt; -1) {
        var choiceSplit = choice.split(&quot;_&quot;);
        pwObj.currentStep = parseInt(choiceSplit[2]);
        _co.$log(&quot;go to step = &quot; + pwObj.currentStep);
    } else if (choice.indexOf(&quot;_NEXTTASK&quot;) &gt; -1) {
        var advance = true;

        // Parcel Contracts
        if (currentTask.parcel) {
            parcel = &quot;(BBS) &quot; + currentTask.parcel;

            var newParcel = false;

            start = currentTask.info.systems[0].id;
            destination = nextTask.info.systems[0].id;

            arrivalTime = clock.seconds + pmObj.timeAllowed + 5;

            risk = 0;
            if (pmObj.risk) { risk = pmObj.risk; }

            newParcel = player.ship.addParcel(parcel, start, destination, arrivalTime, 0, 0, risk);
            _co.$log(&quot;newParcel = &quot; + newParcel);

            advance = newParcel;
        }

        if (currentTask.passengers) {
            var passengers = currentTask.passengers; // Number of passengers
            _co.$log(&quot;passengerCapacity = &quot; + player.ship.passengerCapacity + &quot; passengerCount = &quot; + player.ship.passengerCount);

            var availableCabins = player.ship.passengerCapacity - player.ship.passengerCount;
            _co.$log(&quot;availableCabins = &quot; + availableCabins + &quot; for Passengers = &quot; + passengers);

            if (availableCabins &lt; passengers) {
                var choiceStr = pwObj.steps[pwObj.currentStep].choices[choice];
                if (passengers === 1) {
                    pwObj.response = choiceStr + &quot;\nI&#39;m sorry, but we can&#39;t leave! You haven&#39;t an available cabin for me!&quot;
                } else {
                    pwObj.response = choiceStr + &quot;\nI&#39;m sorry, but we can&#39;t leave! You haven&#39;t enough available cabins for all of us!&quot;
                }

                advance = false;
            } else {
                // Create a contract for every passenger

                if (!pmObj.passengerList) { pmObj.passengerList = []; }

                start = currentTask.info.systems[0].id;
                destination = nextTask.info.systems[0].id;
                // _co.$log(&quot;transport from [&quot; + currentTask.info.systems[0].name + &quot;] to [&quot; + nextTask.info.systems[0].name + &quot;]&quot;);

                arrivalTime = clock.seconds + pmObj.timeAllowed + 5;

                risk = 0;
                if (pmObj.risk) { risk = pmObj.risk; }

                for (var p = 0; p &lt; passengers; p++) {
                    if (p &lt; currentTask.info.names.length) {
                        var pName = &quot;(BBS) &quot; + currentTask.info.names[p];
                        pmObj.passengerList.push(pName);

                        var newPassenger = player.ship.addPassenger(pName, start, destination, arrivalTime, 0, 0, risk);
                        _co.$log(&quot;addPassenger(&quot; + pName + &quot;, &quot; + start + &quot;, &quot; + destination + &quot;, &quot; + arrivalTime + &quot;, 0, &quot; + risk + &quot;) == &quot; + newPassenger);
                    }
                }
            }
        }

        if (currentTask.typeId === 5) {
            // Cargo mission
            if (player.ship.cargoSpaceUsed &gt; 0) {
                pwObj.response = choiceStr + &quot;\nI&#39;m sorry, but we need all your ship space for this shipment. Empty your cargo before accepting the job.&quot;
                advance = false;
            } else {
                var cargoGoods = currentTask.info.goods[0];
                _co.$log(&quot;Cargo mission for &quot; + cargoGoods);

                player.ship.useSpecialCargo(&quot;(BBS) A shipment of &quot; + cargoGoods);
            }
        }

        //

        if (advance === true) {
            this.$advanceActiveMissionTask(pwObj.parentMissionId);

            // Delete player waiting item from BBS
            this.$deleteBBSItem(pwObj.missionId);

            player.consoleMessage(&quot;Mission advanced to next task.&quot;);

            bbsData.bbsMode = 0;
        }

        $display();
    } else if (choice.indexOf(&quot;_COMPLETE&quot;) &gt; -1) {
        if (currentTask.typeId &lt; 4) {
            // Remove parcel contract

            parcel = null;
            if (pmObj.parcel) {
                parcel = &quot;(BBS) &quot; + pmObj.parcel;
            } else {
                for (var t = 0; t &lt; pmObj.tasks.length; t++) {
                    var task = pmObj.tasks[t];
                    if (task.parcel) {
                        parcel = &quot;(BBS) &quot; + task.parcel;
                    }
                }
            }

            player.ship.removeParcel(parcel);
            _co.$log(&quot;removing parcel: &quot; + parcel);
        } else if (currentTask.typeId === 4) {
            // Remove every passenger contract

            if (pmObj.passengerList) {
                for (var pa = 0; pa &lt; pmObj.passengerList.length; pa++) {
                    player.ship.removePassenger(pmObj.passengerList[pa]);
                    _co.$log(&quot;removePassenger(&quot; + pmObj.passengerList[pa] + &quot;)&quot;);
                }
            }
        } else if (currentTask.typeId === 5) {
            // Cargo mission

            player.ship.removeAllCargo();
            _co.$log(&quot;removing special cargo (I hope)&quot;);
        }

        // Mission completed
        var consText = &quot;Mission complete.&quot;;

        // Get credits award
        if (pwObj.reward &gt; 0) {
            player.credits = player.credits + pwObj.reward;
            consText += &quot; &quot; + pwObj.reward + &quot;cr received.&quot;;
        }

        // Get feedback award
        if (pmObj.groupId === 3) {
            _co.$setPlayerFeedback(-pwObj.feedbackSuccess);
        } else {
            _co.$setPlayerFeedback(pwObj.feedbackSuccess);
        }

        // Delete active mission
        this.$deleteActiveMission(pwObj.parentMissionId);

        // Delete player waiting item from BBS
        this.$deleteBBSItem(pwObj.missionId);

        _co.$updateStatistics(&quot;missionCompleted&quot;, pmObj.groupId, 1);
        _co.$updateStatistics(&quot;feedbackGained&quot;, pmObj.groupId, pwObj.feedbackSuccess);

        player.consoleMessage(consText);

        bbsData.bbsMode = 0;
        $display();
    }
}

this.$advanceActiveMissionTask = function (advanceMissionId) {
    _co.$log(&quot;[LITF_BBS] deleteActiveMission&quot;);

    var updated = false;

    for (var am = 0; am &lt; _litf.litfCommander.activeMissions.length; am++) {
        var amItem = _litf.litfCommander.activeMissions[am];

        _co.$log(&quot;[&quot; + am + &quot;] item.missionId[&quot; + amItem.missionId + &quot;] advanceMissionId = &quot; + advanceMissionId);

        if (amItem.missionId === advanceMissionId) {
            amItem.currentTask = amItem.currentTask + 1;
            updated = true;
            break;
        }
    }

    _co.$log(&quot;updated = &quot; + updated);
}

this.$deleteActiveMission = function (deleteMissionId) {
    _co.$log(&quot;[LITF_BBS] deleteActiveMission&quot;);

    var ret = {
        groupId: -1,
        deleted: false,
        removedPassengers: 0,
        deadPassengers: 0,
        cargo: null,
        parcel: null,
        feedback: {}
    }

    var removedPassengers = 0;
    var deadPassengers = 0;

    for (var am = 0; am &lt; _litf.litfCommander.activeMissions.length; am++) {
        var amItem = _litf.litfCommander.activeMissions[am];

        _co.$log(&quot;[&quot; + am + &quot;] item.missionId[&quot; + amItem.missionId + &quot;] deleteMissionId = &quot; + deleteMissionId);

        if (amItem.tasks[0].typeId === 5) {
            // Cargo contract
            ret.cargo = amItem.tasks[0].info.goods[0];
        }

        if (amItem.tasks[0].typeId &lt; 4) {
            // Parcel contract
            if (amItem.parcel) {
                ret.parcel = amItem.parcel;
            } else {
                for (var t = 0; t &lt; amItem.tasks.length; t++) {
                    var task = amItem.tasks[t];
                    if (task.parcel) {
                        ret.parcel = task.parcel;
                    }
                }
            }
        }

        if (amItem.missionId === deleteMissionId) {
            // Remove passengers, if any
            if (amItem.passengerList) {
                if (amItem.failureDead === true) {
                    deadPassengers = deadPassengers + amItem.passengerList.length;
                } else {
                    removedPassengers = removedPassengers + amItem.passengerList.length;
                }

                for (var pa = 0; pa &lt; amItem.passengerList.length; pa++) {
                    player.ship.removePassenger(amItem.passengerList[pa]);
                    _co.$log(&quot;removePassenger(&quot; + amItem.passengerList[pa] + &quot;)&quot;);
                }

                ret.groupId = amItem.groupId;

                ret.feedback.gained = amItem.feedbackSuccess;
                ret.feedback.lost = amItem.feedbackFailure;
            }

            _litf.litfCommander.activeMissions.splice(am, 1);
            ret.deleted = true;
            break;
        }
    }

    ret.removedPassengers = removedPassengers;
    ret.deadPassengers = deadPassengers;

    _co.$log(&quot;ret = &quot; + JSON.stringify(ret));

    return ret;
}

this.$executeMissionActions = function (choice) {
    _co.$log(&quot;[LITF_BBS] executeMissionActions&quot;);

    var bbsData = _litf.litfVars.bbsData;

    var mObj = bbsData.selectedItemObj;
    var currentTask = this.$getMissionTask(mObj, mObj.currentTask);

    var choiceStr = this.$getChoices(mObj.choices)[choice];
    var pFeedback = _litf.litfCommander.feedback;
    var minFeedback = 0;

    var start = -1;
    var destination = -1;
    var arrivalTime = -1;
    var risk = -1;

    if (choice === &quot;01_OK&quot;) {
        // &quot;Ok - agreed.&quot;

        var agree = true;

        // Parcel Contracts
        if (mObj.parcel) {
            var parcel = &quot;(BBS) &quot; + mObj.parcel;

            var newParcel = false;

            start = mObj.startingSystem.id;
            destination = currentTask.info.systems[0].id;

            arrivalTime = clock.seconds + mObj.timeAllowed + 5;

            risk = 0;
            if (mObj.risk) { risk = mObj.risk; }

            newParcel = player.ship.addParcel(parcel, start, destination, arrivalTime, 0, 0, risk);
            _co.$log(&quot;newParcel = &quot; + newParcel);

            agree = newParcel;
        }

        // Passengers contracts
        if (mObj.passengers) {
            var passengers = mObj.passengers; // Number of passengers

            // _co.$log(&quot;passengerCapacity = &quot; + player.ship.passengerCapacity + &quot; passengerCount = &quot; + player.ship.passengerCount);

            var availableCabins = player.ship.passengerCapacity - player.ship.passengerCount;
            // _co.$log(&quot;availableCabins = &quot; + availableCabins + &quot; for Passengers = &quot; + passengers);

            if (availableCabins &lt; passengers) {
                if (passengers === 1) {
                    if (mObj.firstPassenger &amp;&amp; mObj.firstPassenger === 0) {
                        mObj.response = choiceStr + &quot;\nI&#39;m sorry, but we can&#39;t leave! You haven&#39;t an available cabin for me!&quot;
                    } else {
                        mObj.response = choiceStr + &quot;\nI&#39;m sorry, but we can&#39;t leave! You haven&#39;t an available cabin for the passenger!&quot;
                    }
                } else {
                    if (mObj.firstPassenger &amp;&amp; mObj.firstPassenger === 0) {
                        mObj.response = choiceStr + &quot;\nI&#39;m sorry, but we can&#39;t leave! You haven&#39;t enough available cabins for all of us!&quot;
                    } else {
                        mObj.response = choiceStr + &quot;\nI&#39;m sorry, but we can&#39;t leave! You haven&#39;t an available cabin for all the passengers!&quot;
                    }
                }
                agree = false;
            } else {
                // Create a contract for every passenger

                if (!mObj.passengerList) { mObj.passengerList = []; }

                start = mObj.startingSystem.id;
                destination = currentTask.info.systems[0].id;

                _co.$log(&quot;transport from [&quot; + mObj.startingSystem.name + &quot;] to [&quot; + currentTask.info.systems[0].name + &quot;]&quot;);

                arrivalTime = clock.seconds + mObj.timeAllowed + 5;

                risk = 0;
                if (mObj.risk) { risk = mObj.risk; }

                var newPassenger = false;

                if (mObj.firstPassenger) {
                    var passenger1 = null;
                    if (mObj.firstPassenger === 0) {
                        passenger1 = mObj.contractor;
                    } else if (mObj.firstPassenger &gt; 0) {
                        var pTask = this.$getMissionTask(mObj, mObj.firstPassenger);
                        passenger1 = pTask.info.names[0];
                    }
                    newPassenger = player.ship.addPassenger(passenger1, start, destination, arrivalTime, 0, 0, risk);
                    _co.$log(&quot;addPassenger(&quot; + passenger1 + &quot;, &quot; + start + &quot;, &quot; + destination + &quot;, &quot; + arrivalTime + &quot;, 0, &quot; + risk + &quot;) == &quot; + newPassenger);
                    passengers = passengers - 1;
                }

                for (var p = 0; p &lt; passengers; p++) {
                    var pName = &quot;(BBS) &quot; + randomName() + &quot; &quot; + randomName();
                    mObj.passengerList.push(pName);

                    newPassenger = player.ship.addPassenger(pName, start, destination, arrivalTime, 0, 0, risk);
                    _co.$log(&quot;addPassenger(&quot; + mObj.contractor + &quot;, &quot; + start + &quot;, &quot; + destination + &quot;, &quot; + arrivalTime + &quot;, 0, &quot; + risk + &quot;) == &quot; + newPassenger);
                }
            }
        } else if (currentTask.typeId === 4) {
            var pCapacity = player.ship.passengerCapacity
            if (pCapacity === 0) {
                mObj.response = choiceStr + &quot;\nI&#39;m sorry, but you haven&#39;t a single cabin on your ship!&quot;
                agree = false;
            }
        }

        // Cargo contracts
        if (currentTask.typeId === 5) {
            if (player.ship.cargoSpaceUsed &gt; 0) {
                mObj.response = choiceStr + &quot;\nI&#39;m sorry, but we need all your ship space for this shipment. Empty your cargo before accepting the job.&quot;
                agree = false;
            } else {
                var cargoGoods = currentTask.info.goods[0];
                _co.$log(&quot;Cargo mission for &quot; + cargoGoods);

                player.ship.useSpecialCargo(&quot;(BBS) A shipment of &quot; + cargoGoods);
            }
        }

        // Check max active missions limit
        if (agree === true) {
            var maxActiveMissions = parseInt(Math.abs(pFeedback) / 25) + 1;
            if (_litf.litfCommander.activeMissions.length === maxActiveMissions) {
                mObj.response = choiceStr + &quot;\nI&#39;m sorry, your feedback doesn&#39;t allow you to accept more missions. Increasing the feedback you&#39;ll be able to accept more missions at the same time.&quot;
                agree = false;
            }
            _co.$log(&quot;active missions: &quot; + _litf.litfCommander.activeMissions.length + &quot; max: &quot; + maxActiveMissions + &quot; agree = &quot; + agree);
        }

        //

        if (agree === true) {
            var advance = 0;

            // Accept mission
            if (mObj.rewardAdvanceObtained !== null) {
                if (mObj.rewardAdvanceObtained === &quot;half&quot;) {
                    advance = mObj.reward / 2;
                    player.credits = player.credits + advance;
                    mObj.reward = mObj.reward / 2;
                } else if (mObj.rewardAdvanceObtained === &quot;full&quot;) {
                    advance = mObj.reward;
                    player.credits = player.credits + advance;
                    mObj.reward = 0;
                }
            }

            // define reputation success and failure score
            mObj.feedbackSuccess = this.$feedbackSuccessScore(mObj);
            mObj.feedbackFailure = this.$feedbackFailureScore(mObj);

            //

            mObj.startTime = clock.seconds;

            _litf.litfCommander.activeMissions.push(mObj);

            this.$deleteBBSItem(mObj.missionId);

            _co.$updateStatistics(&quot;missionAccepted&quot;, mObj.groupId, 1);

            player.consoleMessage(&quot;Mission has been accepted.&quot;);
            if (advance &gt; 0) {
                player.consoleMessage(&quot;Received &quot; + advance + &quot;cr as advance.&quot;);
            }

            bbsData.bbsMode = 0;
        }

        $display();
    } else if (choice === &quot;02_HOWMANY&quot;) {
        // &quot;How many of you are there?&quot;
        var totPassengers = this.$howManyPassengers(mObj);
        if (totPassengers === 1) {
            mObj.response = choiceStr + &quot;\nOnly one person.&quot;;
        } else if (totPassengers &gt; 1) {
            mObj.response = choiceStr + &quot;\nA group of &quot; + totPassengers + &quot; persons.&quot;;
        }
    } else if (choice === &quot;03_MONEY&quot;) {
        // &quot;Why so much money?&quot;
        mObj.response = choiceStr + &quot;\n&quot; + mObj.responses.money;
    } else if (choice === &quot;04_PROBLEMS&quot;) {
        // &quot;Will there be any problems?&quot;
        mObj.response = choiceStr + &quot;\n&quot; + mObj.responses.problems;
    } else if (choice === &quot;05_PERMIT&quot;) {
        // &quot;Do I need a permit, and if so can I have one?&quot;
        mObj.response = choiceStr + &quot;\nDon&#39;t be silly - you don&#39;t need a permit.&quot;;
    } else if (choice === &quot;05_UNAWARE&quot;) {
        // &quot;Do the recipient will know of my arrival?&quot;
        if (currentTask.unaware === false) {
            mObj.response = choiceStr + &quot;\n&quot; + mObj.responses.unaware[0];
        } else {
            mObj.response = choiceStr + &quot;\n&quot; + mObj.responses.unaware[1];
        }
    } else if (choice === &quot;06_MOREMONEY&quot;) {
        // &quot;I want more money.&quot;
        minFeedback = mObj.moreMoneyMinFeedback ? mObj.moreMoneyMinFeedback : this.moreMoneyMinFeedbackDefault;
        if (pFeedback &lt; minFeedback) {
            mObj.response = choiceStr + &quot;\n&quot; + mObj.reward + &quot;cr is all I can pay.&quot;;
        } else if (mObj.moreMoneyObtained === false) {
            var percentMore = (_co.$roll(0, 3) * 5) + 10;
            var newReward = mObj.reward + (mObj.reward / 100 * percentMore);

            mObj.reward = newReward;
            mObj.response = choiceStr + &quot;\nOk. Considering your feedback I can increase the reward to &quot; + mObj.reward + &quot; credits.&quot;;
            mObj.moreMoneyObtained = true;
        } else {
            mObj.response = choiceStr + &quot;\nWe&#39;ve agreed on payment of &quot; + mObj.reward + &quot; credits.&quot;;
        }
    } else if (choice === &quot;07_HALFADVANCE&quot;) {
        // &quot;I want half the money now.&quot;
        minFeedback = mObj.halfAdvanceMinFeedback ? mObj.halfAdvanceMinFeedback : this.halfAdvanceMinFeedbackDefault;
        if (pFeedback &lt; minFeedback) {
            mObj.response = choiceStr + &quot;\nWhat sort of fool do you take me for?&quot;;
        } else if (mObj.rewardAdvanceObtained === null) {
            mObj.response = choiceStr + &quot;\nOk. I&#39;ll pay half once you agree, and half on arrival.&quot;;
            mObj.rewardAdvanceObtained = &quot;half&quot;;
        } else {
            mObj.response = choiceStr + &quot;\nWe&#39;ve agreed on payment.&quot;;
        }
    } else if (choice === &quot;08_FULLADVANCE&quot;) {
        // &quot;I want all the money now.&quot;
        minFeedback = mObj.fullAdvanceMinFeedback ? mObj.fullAdvanceMinFeedback : this.fullAdvanceMinFeedbackDefault;
        if (pFeedback &lt; minFeedback) {
            mObj.response = choiceStr + &quot;\nWhat sort of fool do you take me for?&quot;;
        } else if (mObj.rewardAdvanceObtained === null) {
            mObj.response = choiceStr + &quot;\nOk. I&#39;ll pay the full reward once you agree.&quot;;
            mObj.rewardAdvanceObtained = &quot;full&quot;;
        } else {
            mObj.response = choiceStr + &quot;\nWe&#39;ve agreed on payment.&quot;;
        }
    }
}

this.$howManyPassengers = function (mObj) {
    _co.$log(&quot;[LITF_BBS] howManyPassengers&quot;);
    var totalPassengers = 0;

    if (mObj.passengers) {
        totalPassengers = totalPassengers + mObj.passengers;
    }

    for (var ta = 0; ta &lt; mObj.tasks.length; ta++) {
        var task = mObj.tasks[ta];
        if (task.passengers) {
            totalPassengers = totalPassengers + task.passengers;
        }
    }

    _co.$log(&quot;totalPassengers = &quot; + totalPassengers);
    return totalPassengers;
}

this.$deleteBBSItem = function (itemId) {
    var deleted = false;

    var bbsData = _litf.litfVars.bbsData;

    for (var i = 0; i &lt; bbsData.bbsItemsArr.length; i++) {
        var item = bbsData.bbsItemsArr[i];

        if (item.missionId === itemId) {
            bbsData.bbsItemsArr.splice(i, 1);
            deleted = true;
            break;
        }
    }

    if (deleted === true) {
        while (bbsData.selectedItem &gt;= bbsData.bbsItemsArr.length) {
            bbsData.selectedItem = bbsData.selectedItem - 1;
        }
    }
}

this.$executeCharityActions = function (choice) {
    _co.$log(&quot;[LITF_BBS] executeCharityActions&quot;);

    if (choice === &quot;01_DONATE01&quot;) {
        this.$actionDonate(choice, 0.1);
    } else if (choice === &quot;02_DONATE1&quot;) {
        this.$actionDonate(choice, 1);
    } else if (choice === &quot;03_DONATE10&quot;) {
        this.$actionDonate(choice, 10);
    } else if (choice === &quot;04_DONATE100&quot;) {
        this.$actionDonate(choice, 100);
    } else if (choice === &quot;05_DONATE1000&quot;) {
        this.$actionDonate(choice, 1000);
    } else if (choice === &quot;06_DONATE10000&quot;) {
        this.$actionDonate(choice, 10000);
    }
}

this.$actionDonate = function (choice, amount) {
    _co.$log(&quot;[LITF_BBS] actionDonate&quot;);

    var bbsData = _litf.litfVars.bbsData;

    var choiceStr = this.$getChoices(bbsData.selectedItemObj.choices)[choice];

    if (player.credits &lt; amount) {
        bbsData.selectedItemObj.response = choiceStr + &quot;\nYou don&#39;t have enough cash.&quot;;
    } else {
        player.credits = player.credits - amount;
        bbsData.selectedItemObj.response = choiceStr + &quot;\nThank you. All donations are gratefully received.&quot;;

        // Feedback reward

        if (amount === 0.1) {
            // No feedback reward
        } else if (amount === 1) {
            if (_co.$roll(1, 100) &lt; 5) {
                _co.$setPlayerFeedback(1);
            }
        } else if (amount === 10) {
            if (_co.$roll(1, 100) &lt; 20) {
                _co.$setPlayerFeedback(1);
            }
        } else if (amount === 100) {
            _co.$setPlayerFeedback(1);
        } else if (amount === 1000) {
            _co.$setPlayerFeedback(5);
        } else if (amount === 10000) {
            _co.$setPlayerFeedback(10);
        }
    }
}

this.$feedbackSuccessScore = function (mObj) {
    _co.$log(&quot;[LITF_BBS] feedbackSuccessScore&quot;);

    var score = 2;

    if (mObj.local === false) {
        if (mObj.moreMoneyObtained === false) {
            score = score + 1;
        }

        if (mObj.rewardAdvanceObtained === null) {
            score = score + 1;
        }
    }

    return score;
}

this.$feedbackFailureScore = function (mObj) {
    _co.$log(&quot;[LITF_BBS] feedbackFailureScore&quot;);

    var score = 2;

    if (mObj.local === false) {
        if (mObj.moreMoneyObtained === true) {
            score = score + 2;
        }

        if (mObj.rewardAdvanceObtained === &quot;half&quot;) {
            score = score + 1;
        } else if (mObj.rewardAdvanceObtained === &quot;full&quot;) {
            score = score + 2;
        }
    }

    return score;
}

this.$getMissionTask = function (mObj, taskIndex) {
    _co.$log(&quot;[LITF_BBS] getCurrentTask&quot;);

    var tasks = mObj.tasks;
    var tObj = {};

    for (var t = 0; t &lt; tasks.length; t++) {
        var tItem = tasks[t];
        if (tItem.index === taskIndex) {
            tObj = tItem;
            break;
        }
    }

    _co.$log(&quot;task[&quot; + taskIndex + &quot;] = &quot; + JSON.stringify(tObj));

    return tObj;
}
</pre></td>
                </tr>
                <tr>
                    <td valign="top">Scripts/LITF_Common.js</td>
                    <td><pre>/* eslint-disable semi, no-multi-spaces, quotes, indent, no-tabs, yoda */
/* global worldScripts, player, log, system, clock, galaxyNumber */

&quot;use strict&quot;;

this.name        = &quot;LITF_Common&quot;;
this.author      = &quot;BeeTLe BeTHLeHeM&quot;;
this.copyright   = &quot;2018 BeeTLe BeTHLeHeM&quot;;
this.description = &quot;Library of common methods&quot;;
this.version     = &quot;0.10.0&quot;;
this.licence     = &quot;CC BY-NC-SA 4.0&quot;;

// Groups labels

this.groupsLabels = [&quot;GalCop&quot;, &quot;GalBook&quot;, &quot;GalChurch&quot;, &quot;GalShady&quot;, &quot;GalMedical&quot;, &quot;GalCivic&quot;, &quot;GalTourism&quot;, &quot;GalShopping&quot;, &quot;GalNature&quot;, &quot;GalCulture&quot;, &quot;GalGovernment&quot;, &quot;GalDebug&quot;];

// Sub-commodity and associated commodity (for reference price)

this.commodityReference = {
	&quot;food&quot;: [ &quot;Grain&quot;, &quot;Generic Foods&quot;, &quot;Food Dispensers&quot;, &quot;Medicines&quot;, &quot;Farm Animals&quot;, &quot;Colture Plants&quot;, &quot;Junk Foods&quot; ],
	&quot;textiles&quot;: [ &quot;Textiles&quot; ],
	&quot;machinery&quot;: [ &quot;Factory Equipment&quot;, &quot;Mining Equipment&quot;, &quot;Robo-Servants&quot;, &quot;Robo-Workers&quot;, &quot;Robo-Fighters&quot;, &quot;Robo-Pleasures&quot;, &quot;Robo-Medics&quot; ],
	&quot;gem_stones&quot;: [ &quot;Industrial Gems&quot; ],
	&quot;luxuries&quot;: [ &quot;Luxury Foods&quot;, &quot;Electric Pets&quot;, &quot;Artwork&quot;, &quot;Games&quot;, &quot;Movies&quot;, &quot;Holographics&quot;, &quot;Home Entertainment&quot;, &quot;Books&quot;, &quot;Furniture&quot;, &quot;Paleo-Arts&quot;, &quot;Archeo-Sims&quot;, &quot;Relics&quot;, &quot;Religious Texts&quot;, &quot;Wood&quot;, &quot;Dream Cards&quot;, &quot;Hacked Dream Cards&quot; ],
	&quot;firearms&quot;: [ &quot;Weaponry&quot;, &quot;Combat Drones&quot;, &quot;Recon Drones&quot; ],
	&quot;platinum&quot;: [],
	&quot;slaves&quot;: [ &quot;Slaves&quot;, &quot;Black Market Organs&quot;, &quot;Altered Embryos&quot;, &quot;Counterfeit DNA Sequences&quot; ],
	&quot;furs&quot;: [ &quot;Furs&quot; ],
	&quot;radioactives&quot;: [ &quot;Plutonium&quot;, &quot;Uranium&quot;, &quot;Advanced Fuels&quot;, &quot;Radium&quot;, &quot;Thorium&quot;, &quot;Hazardous Waste&quot; ],
	&quot;alien_items&quot;: [ &quot;Holy Symbols&quot;, &quot;Prayer Books&quot;, &quot;Fossils&quot;, &quot;Stolen Cargos&quot; ],
	&quot;alloys&quot;: [ &quot;Construction Materials&quot;, &quot;Pre-Fabs&quot;, &quot;Space Salvage&quot;, &quot;Plastics&quot;, &quot;Synthetics&quot; ],
	&quot;liquor_wines&quot;: [ &quot;Liquors&quot; ],
	&quot;narcotics&quot;: [ &quot;Brilliance&quot;, &quot;Tobacco&quot;, &quot;Cheap Spice&quot;, &quot;Unlicensed Pharmaceuticals&quot;, &quot;Contaminated Products&quot; ],
	&quot;minerals&quot;: [ &quot;Iron&quot;, &quot;Tungsten&quot;, &quot;Nickel&quot;, &quot;Quartz&quot; ],
	&quot;computers&quot;: [ &quot;Communication Equipment&quot;, &quot;Computers&quot;, &quot;Home Appliances&quot;, &quot;Medical Equipment&quot;, &quot;Music Equipment&quot;, &quot;Industrial Capacitors&quot;, &quot;Artificial Limbs&quot;, &quot;Artificial Organs&quot;, &quot;Neural Interfaces&quot;, &quot;Spy Microchips&quot; ],
	&quot;gold&quot;: [ &quot;Gold&quot; ]
};

// Sub-commodity list by group

this.commodityGroups = [
	[ &quot;Weaponry&quot;, &quot;Robo-Servants&quot;, &quot;Communication Equipment&quot;, &quot;Combat Drones&quot;, &quot;Recon Drones&quot; ], // GalCop
	[ &quot;Books&quot; ], // GalBook
	[ &quot;Relics&quot;, &quot;Religious Texts&quot;, &quot;Prayer Books&quot;, &quot;Holy Symbols&quot; ], // GalChurch
	[ &quot;Plutonium&quot;, &quot;Uranium&quot;, &quot;Radium&quot;, &quot;Thorium&quot;, &quot;Slaves&quot;, &quot;Brilliance&quot;, &quot;Tobacco&quot;, &quot;Cheap Spice&quot;, &quot;Liquors&quot;, &quot;Weaponry&quot;, &quot;Industrial Gems&quot;, &quot;Gold&quot;, &quot;Platinum&quot;, &quot;Robo-Fighters&quot;, &quot;Robo-Pleasures&quot;, &quot;Hacked Dream Cards&quot;, &quot;Space Salvage&quot;, &quot;Combat Drones&quot;, &quot;Recon Drones&quot;, &quot;Black Market Organs&quot;, &quot;Altered Embryos&quot;, &quot;Counterfeit DNA Sequences&quot;, &quot;Stolen Cargos&quot;, &quot;Spy Microchips&quot;, &quot;Unlicensed Pharmaceuticals&quot;, &quot;Hazardous Waste&quot;, &quot;Contaminated Products&quot; ], // GalShady
	[ &quot;Medicines&quot;, &quot;Robo-Medics&quot;, &quot;Medical Equipment&quot;, &quot;Artificial Limbs&quot;, &quot;Artificial Organs&quot;, &quot;Neural Interfaces&quot; ], // GalMedical
	[ &quot;Generic Foods&quot;, &quot;Luxury Foods&quot;, &quot;Textiles&quot;, &quot;Liquors&quot;, &quot;Electric Pets&quot;, &quot;Games&quot;, &quot;Holographics&quot;, &quot;Home Entertainment&quot;, &quot;Furs&quot;, &quot;Furniture&quot;, &quot;Robo-Servants&quot; ], // GalCivic
	[ &quot;Plants&quot;, &quot;Robo-Servants&quot;, &quot;Luxury Foods&quot;, &quot;Electric Pets&quot;, &quot;Movies&quot;, &quot;Holographics&quot;, &quot;Furniture&quot;, &quot;Liquors&quot;, &quot;Tobacco&quot; ], // GalTourism
	[ &quot;Junk Foods&quot;, &quot;Grain&quot;, &quot;Food Dispensers&quot;, &quot;Textiles&quot;, &quot;Liquors&quot;, &quot;Luxury Foods&quot;, &quot;Wood&quot;, &quot;Computers&quot;, &quot;Home Appliances&quot;, &quot;Furs&quot;, &quot;Dream Cards&quot; ], // GalShopping
	[ &quot;Farm Animals&quot;, &quot;Colture Plants&quot;, &quot;Paleo-Arts&quot;, &quot;Archeo-Sims&quot; ], // GalNature
	[ &quot;Paleo-Arts&quot;, &quot;Archeo-Sims&quot;, &quot;Fossils&quot;, &quot;Artwork&quot;, &quot;Movies&quot;, &quot;Holographics&quot;, &quot;Music Equipment&quot; ], // GalCulture,
	[ &quot;Generic Foods&quot;, &quot;Factory Equipment&quot;, &quot;Mining Equipment&quot;, &quot;Weaponry&quot;, &quot;Construction Materials&quot;, &quot;Communication Equipment&quot; ], // GalGovernment
	[ &quot;Books&quot;, &quot;Relics&quot;, &quot;Liquors&quot;, &quot;Medicines&quot;, &quot;Electric Pets&quot;, &quot;Computers&quot; ], // GalDebug
	[ &quot;Grain&quot;, &quot;Generic Foods&quot;, &quot;Food Dispensers&quot;, &quot;Medicines&quot;, &quot;Farm Animals&quot;, &quot;Colture Plants&quot;, &quot;Junk Foods&quot;, &quot;Textiles&quot;, &quot;Factory Equipment&quot;, &quot;Mining Equipment&quot;, &quot;Robo-Servants&quot;, &quot;Robo-Workers&quot;, &quot;Robo-Fighters&quot;, &quot;Robo-Pleasures&quot;, &quot;Robo-Medics&quot;, &quot;Industrial Gems&quot;, &quot;Luxury Foods&quot;, &quot;Electric Pets&quot;, &quot;Artwork&quot;, &quot;Games&quot;, &quot;Movies&quot;, &quot;Holographics&quot;, &quot;Home Entertainment&quot;, &quot;Books&quot;, &quot;Furniture&quot;, &quot;Paleo-Arts&quot;, &quot;Archeo-Sims&quot;, &quot;Relics&quot;, &quot;Religious Texts&quot;, &quot;Wood&quot;, &quot;Dream Cards&quot;, &quot;Hacked Dream Cards&quot;, &quot;Weaponry&quot;, &quot;Slaves&quot;, &quot;Furs&quot;, &quot;Plutonium&quot;, &quot;Uranium&quot;, &quot;Radium&quot;, &quot;Thorium&quot;, &quot;Advanced Fuels&quot;, &quot;Holy Symbols&quot;, &quot;Prayer Books&quot;, &quot;Fossils&quot;, &quot;Construction Materials&quot;, &quot;Pre-Fabs&quot;, &quot;Space Salvage&quot;, &quot;Synthetics&quot;, &quot;Plastics&quot;, &quot;Liquors&quot;, &quot;Brilliance&quot;, &quot;Tobacco&quot;, &quot;Spice&quot;, &quot;Iron&quot;, &quot;Tungsten&quot;, &quot;Nickel&quot;, &quot;Quartz&quot;, &quot;Communication Equipment&quot;, &quot;Computers&quot;, &quot;Home Appliances&quot;, &quot;Medical Equipment&quot;, &quot;Music Equipment&quot;, &quot;Gold&quot;, &quot;Industrial Capacitors&quot; ] // EVERYTHING
];

// System governments labels

this.govLabels = [&quot;Anarchy&quot;, &quot;Feudal&quot;, &quot;Multigovernmental&quot;, &quot;Dictatorship&quot;, &quot;Communist&quot;, &quot;Confederacy&quot;, &quot;Democracy&quot;, &quot;Corporate&quot;];

var _litf = null;

this.$init = function () {
	_litf = worldScripts.LITF;

	this.$log(&quot;[LITF_Common] init&quot;);
}

// Print a text message on the Oolite log file
this.$log = function (msg) {
	if (!_litf.litfVars || _litf.litfVars.config.enableLog === true) {
		log(this.name, msg);
	}
};

this.$decodeGroup = function (groupId) {
	var groupLabel = this.groupsLabels[groupId];
	return groupLabel;
}

this.$encodeGroup = function (groupLabel) {
	var groupId = this.groupsLabels.indexOf(groupLabel);
	return groupId;
}

this.$systemEconomy = function () {
	this.$log(&quot;[LITF_Common] systemEconomy&quot;);

	var economy = system.economy;
	return economy;
}

this.$systemTechLevel = function () {
	this.$log(&quot;[LITF_Common] systemTechLevel&quot;);

	var tl = system.techLevel;
	return tl;
}

this.$systemGovernment = function () {
	this.$log(&quot;[LITF_Common] systemGovernment&quot;);

	var gov = system.government;
	return gov;
}

// Replace all occurences of a string in a text
this.$replaceAll = function (find, replace, str) {
	this.$log(&quot;[LITF_Common] replaceAll&quot;);

	return str.split(find).join(replace);
};

// Generates a random number between two limits
this.$roll = function (min, max) {
	this.$log(&quot;[LITF_Common] roll&quot;);

	if (min &gt; max) {
		var buf = min;
		min = max;
		max = buf;
	}

	var rv = Math.floor(Math.random() * (max - min + 1)) + min;
	return rv;
};

// // Replace constants in a mission title text
// this.$replaceConstants = function (text, groupId, maxSystemDistance) {
// 	this.$log(&quot;[LITF_Common] replaceConstants&quot;);

// 	var result = {};
// 	var rtext = null;

// 	if (text.indexOf(&quot;%BOOK%&quot;) &gt; -1) {
// 		rtext = expandDescription(&quot;[litf_Books]&quot;);
// 		text = text.replace(&quot;%BOOK%&quot;, rtext);
// 		if (!result.randBook) { result.randBook = []; }
// 		result.randBook.push(rtext);
// 	}

// 	if (text.indexOf(&quot;%ITEM%&quot;) &gt; -1) {
// 		rtext = expandDescription(&quot;[litf_Items]&quot;);
// 		text = text.replace(&quot;%ITEM%&quot;, rtext);
// 		if (!result.randItem) { result.randItem = []; }
// 		result.randItem.push(rtext);
// 	}

// 	if (text.indexOf(&quot;%JOB%&quot;) &gt; -1) {
// 		rtext = expandDescription(&quot;[litf_Jobs]&quot;);
// 		text = text.replace(&quot;%JOB%&quot;, rtext);
// 		if (!result.randJob) { result.randJob = []; }
// 		result.randJob.push(rtext);
// 	}

// 	if (text.indexOf(&quot;%CHARITY%&quot;) &gt; -1) {
// 		rtext = expandDescription(&quot;[litf_Charity]&quot;);
// 		text = text.replace(&quot;%CHARITY%&quot;, rtext);
// 		if (!result.randCharity) { result.randCharity = []; }
// 		result.randCharity.push(rtext);
// 	}

// 	if (text.indexOf(&quot;%PLAYERNAME%&quot;) &gt; -1) {
// 		text = text.replace(&quot;%PLAYERNAME%&quot;, player.name);
// 	}

// 	if (text.indexOf(&quot;%NAME%&quot;) &gt; -1) {
// 		rtext = randomName() + &quot; &quot; + randomName();
// 		text = text.replace(&quot;%NAME%&quot;, rtext);
// 		if (!result.randName) { result.randName = []; }
// 		result.randName.push(rtext);
// 	}

// 	if (text.indexOf(&quot;%SYSTEM%&quot;) &gt; -1) {
// 		var rObj = this.$randomSystem(maxSystemDistance);
// 		text = text.replace(&quot;%SYSTEM%&quot;, rObj.name);
// 		if (!result.randSystem) { result.randSystem = []; }
// 		result.randSystem.push(rObj);
// 	}

// 	if (text.indexOf(&quot;%ART%&quot;) &gt; -1) {
// 		rtext = expandDescription(&quot;[litf_Art1]&quot;) + &quot; &quot; + expandDescription(&quot;[litf_Art2]&quot;);
// 		text = text.replace(&quot;%ART%&quot;, rtext);
// 		if (!result.randArt) { result.randArt = []; }
// 		result.randArt.push(rtext);
// 	}

// 	if (text.indexOf(&quot;%MUSIC%&quot;) &gt; -1) {
// 		rtext = expandDescription(&quot;[litf_Music1]&quot;) + &quot; &quot; + expandDescription(&quot;[litf_Music2]&quot;) + &quot; &quot; + expandDescription(&quot;[litf_Music3]&quot;);
// 		text = text.replace(&quot;%MUSIC%&quot;, rtext);
// 		if (!result.randMusic) { result.randMusic = []; }
// 		result.randMusic.push(rtext);
// 	}

// 	if (text.indexOf(&quot;%MOVIE%&quot;) &gt; -1) {
// 		rtext = expandDescription(&quot;[litf_Movie1]&quot;) + &quot; &quot; + expandDescription(&quot;[litf_Movie2]&quot;);
// 		text = text.replace(&quot;%MOVIE%&quot;, rtext);
// 		if (!result.randMovies) { result.randMovies = []; }
// 		result.randMovies.push(rtext);
// 	}

// 	if (text.indexOf(&quot;%GOODS%&quot;) &gt; -1) {
// 		var goodArrByGroup = this.commodityGroups[12]; // Choose from EVERYTHING
// 		var goodIdx = this.$roll(0, goodArrByGroup.length - 1);

// 		text = text.replace(&quot;%GOODS%&quot;, goodArrByGroup[goodIdx]);
// 		result.randGood = goodArrByGroup[goodIdx];
// 	}

// 	if (text.indexOf(&quot;%RACE%&quot;) &gt; -1) {
// 		rtext = randomInhabitantsDescription(true);
// 		text = text.replace(&quot;%RACE%&quot;, rtext);
// 		if (!result.randRaces) { result.randRaces = []; }
// 		result.randRaces.push(rtext);
// 	}

// 	result.text = text;

// 	this.$log(&quot;[replaceConstants] &quot; + JSON.stringify(result));

// 	return result;
// }

// Choose a random system in the input range, that it isn&#39;t the current player system
this.$randomSystem = function (maxSystemDistance) {
	this.$log(&quot;[LITF_Common] randomSystem&quot;);

	var valid   = 0;
	var counter = 0;

	var sysObj    = null; // System object

	while (valid === 0) {
		var rand = Math.floor(Math.random() * 256);

		var distance = this.$getSystemRoute(system.ID, rand).distance;

		if (maxSystemDistance === -1 || distance &lt; maxSystemDistance) {
			var sName = System.systemNameForID(rand);
			if (sName !== system.name) {
				sysObj = {
					id: rand,
					name: sName,
					distance: distance.toFixed(2)
				};
				valid = 1;
			}
		}

		counter++;

		if (counter % 50 === 0 &amp;&amp; maxSystemDistance !== -1) {
			maxSystemDistance += 0.5;
		}
	}

	this.$log(&quot;randomSystem &lt;&lt; &quot; + JSON.stringify(sysObj));

	return sysObj;
};

// Check if a specific time has still to come or not
this.$isTimeExpired = function (startingTime, duration) {
	this.$log(&quot;[LITF_Common] isTimeExpired&quot;);

	var expired = false;

	var deadline = startingTime + duration;

	if (clock.seconds &gt; deadline) {
		expired = true;
	}

	return expired;
}

// Calculate time from &quot;now&quot; to the specified time, and format the resulting text
this.$formatTime = function (time, remaining) {
	this.$log(&quot;[LITF_Common] formatTime&quot;);

	if (remaining === true) {
		time = time - clock.seconds;
	}

	var dataTime = this.$secondsData(time);

	var formattedTime = &quot;&quot;;

	formattedTime += dataTime.onlyHours + &quot; hours, &quot;;
	formattedTime += dataTime.minutes + &quot; minutes, &quot;;
	formattedTime += dataTime.seconds + &quot; seconds&quot;

    return formattedTime;
}

// Convert a value in seconds in day/hours/only hours/minute/seconds
this.$secondsData = function (seconds) {
	this.$log(&quot;[LITF_Common] secondsData&quot;);

	var minute = 60;
    var hour = 60 * minute;
    var day = 24 * hour;

    var dd = 0;
    var hh = 0;
    var mm = 0;

	while (seconds &gt; day) {
        dd++;
        seconds -= day;
    }

    while (seconds &gt; hour) {
        hh++;
        seconds -= hour;
    }

    while (seconds &gt; minute) {
        mm++;
        seconds -= minute;
    }

	var obj = {
		days: dd,
		hours: hh,
		onlyHours: hh + (dd * 24),
		minutes: mm,
		seconds: Math.round(seconds)
	}

	this.$log(&quot;obj = &quot; + JSON.stringify(obj));

	return obj;
}

// Fisher-Yates Shuffle algorithm for arrays
this.$shuffleArray = function (array) {
	this.$log(&quot;[LITF_Common] shuffleArray&quot;);

	var currentIndex = array.length;
	var temporaryValue;
	var randomIndex;

	// While there remain elements to shuffle...
	while (0 !== currentIndex) {
		// Pick a remaining element...
		randomIndex = Math.floor(Math.random() * currentIndex);
		currentIndex -= 1;

		// And swap it with the current element.
		temporaryValue      = array[currentIndex];
		array[currentIndex] = array[randomIndex];
		array[randomIndex]  = temporaryValue;
	}

	return array;
}

this.$getSubCommodityPrice = function (subCommodity) {
	var scBasePrice = -1;
	var market = player.ship.dockedStation.market;
	var crKeys = this.$getObjectKeys(this.commodityReference);
	for (var k = 0; k &lt; crKeys.length; k++) {
		var scArr = this.commodityReference[crKeys[k]];
		if (scArr.indexOf(subCommodity) !== -1) {
			scBasePrice = market[crKeys[k]].price;
			break;
		}
	}
	return scBasePrice;
}

// Returns an array with all the keys in an associative object
this.$getObjectKeys = function (object) {
	this.$log(&quot;[LITF_Common] getObjectKeys&quot;);

	var keys = [];
	for (var key in object) {
		if (object.hasOwnProperty(key)) {
			keys.push(key);
		}
	}

	return keys;
}

// Get a literal ranking from a feedback value
this.$getFeedbackRanking = function (feedback) {
	this.$log(&quot;[LITF_Common] getFeedbackRanking&quot;);

	var rank = &quot;&quot;;

	if (feedback &lt; -100) {
		rank = &quot;Outcast&quot;; // -101 or less
	} else if (feedback &lt; -50) {
		rank = &quot;Criminal&quot;; // -51 to -100
	} else if (feedback &lt; -25) {
		rank = &quot;Unlawful&quot;; // -26 to -50
	} else if (feedback &lt; -10) {
		rank = &quot;Untrusted&quot;; // -11 to -25
	} else if (feedback &lt; 10) {
		rank = &quot;Neutral&quot;; // 9 to -10
	} else if (feedback &lt; 25) {
		rank = &quot;Appreciated&quot;; // 24 to 10
	} else if (feedback &lt; 50) {
		rank = &quot;Helpful&quot;; // 49 to 25
	} else if (feedback &lt; 100) {
		rank = &quot;Trusted&quot;; // 99 to 50
	} else {
		rank = &quot;Renowned&quot;; // 100 or more
	}

	return rank;
}

// Information about a route between two systems
this.$getSystemRoute = function (system1, system2) {
	var infoS1 = System.infoForSystem(galaxyNumber, system1);
	var infoS2 = System.infoForSystem(galaxyNumber, system2);

	var route = infoS1.routeToSystem(infoS2); // route, distance, time
	return route;
}

// Get the general id and increase its value to avoi duplicates
this.$getGeneralId = function () {
	this.$log(&quot;[LITF_Common] getGeneralId&quot;);

	var generalId = _litf.litfVars.generalId;

	_litf.litfVars.generalId = _litf.litfVars.generalId + 1;

	return generalId;
}

this.$setPlayerFeedback = function (add) {
	this.$log(&quot;[LITF_Common] setPlayerFeedback&quot;);

	var pFeedback = _litf.litfCommander.feedback;

	pFeedback = pFeedback + add;

	// Check limits

	if (pFeedback &gt; 150) { pFeedback = 150; }
	if (pFeedback &lt; -150) { pFeedback = -150; }

	_litf.litfCommander.feedback = pFeedback;
}

this.$updateStatistics = function (property, groupId, value) {
	this.$log(&quot;[LITF_Common] updateStatistics :: &quot; + property + &quot;[&quot; + groupId + &quot;] &lt;&lt; &quot; + value);

	var sProperty = _litf.litfCommander.statistics[property];
	_litf.litfCommander.statistics[property][groupId] = sProperty[groupId] + value;
}

this.$padLeft = function (padNumber, padLength, padChar) {
	var numStr = &quot;&quot; + padNumber;

	while (numStr.length &lt; padLength) {
		numStr = padChar + numStr;
	}

	return numStr;
}

// Debug //
this.$exportMissionData = function () {
	this.$log(&quot;[LITF] exportMissionData&quot;);

	var _md = worldScripts.MissionData;

    var csv = &quot;&quot;;
    var separator = &quot;#&quot;;

    var k, m, mObj;

    var keyArr = [ &quot;groupId&quot;, &quot;typeId&quot; ];

    // First reading - get every key
    for (m = 0; m &lt; _md.missionStore.length; m++) {
        mObj = _md.missionStore[m];
        var mKeys = this.$getObjectKeys(mObj);

        for (k = 0; k &lt; mKeys.length; k++) {
            if (keyArr.indexOf(mKeys[k]) === -1) {
                keyArr.push(mKeys[k]);
            }
        }
    }

    // Header row
    for (k = 0; k &lt; keyArr.length; k++) {
        csv += keyArr[k];
        if (k &lt; keyArr.length - 1) { csv += separator; }
    }
    csv += &quot;\n&quot;;

    // Second reading - all the data
    for (m = 0; m &lt; _md.missionStore.length; m++) {
        mObj = _md.missionStore[m];

        // var mRef = _co.$getMissionReference(mObj.type);
        csv += mObj.type.groupId + separator + mObj.type.typeId + separator;

        for (k = 0; k &lt; keyArr.length; k++) {
            var value = mObj[keyArr[k]];
            if (value) {
                csv += value;
            }
            if (k &lt; keyArr.length - 1) { csv += separator; }
        }
        csv += &quot;\n&quot;;
    }

    this.$log(&quot;--------------------------------------------------\n\n&quot; + csv + &quot;\n\n--------------------------------------------------&quot;);
}
</pre></td>
                </tr>
                <tr>
                    <td valign="top">Scripts/LITF_MissionData.js</td>
                    <td><pre>/* eslint-disable semi, no-multi-spaces, quotes, indent, no-tabs, yoda */

&quot;use strict&quot;;

this.name = &quot;LITF_MissionData&quot;;
this.author = &quot;BeeTLe BeTHLeHeM&quot;;
this.copyright = &quot;2018 BeeTLe BeTHLeHeM&quot;;
this.description = &quot;Variables and arrays for BBS items and missions data&quot;;
this.version = &quot;0.10.0&quot;;
this.licence = &quot;CC BY-NC-SA 4.0&quot;;

//

// Mission types

this.missionTypes = [ &quot;LOCAL&quot;, &quot;CONTACT&quot;, &quot;TRANSFER&quot;, &quot;RETRIEVE&quot;, &quot;TRANSPORT&quot;, &quot;CARGO&quot;, &quot;SEARCH&quot;, &quot;INFO&quot;, &quot;TOUR&quot;, &quot;KILL&quot; ];

//

this.debugStore = [
    // {
    //     groupId: 11,
    //     index: 0,
    //     local: true,
    //     title: &quot;(TRAINING) This is a mission of type LOCAL&quot;,
    //     description: &quot;TBD&quot;,
    //     choices: null
    // },
    {
        groupId: 11,
        index: 1,
        title: &quot;(TRAINING) This is a mission of type TRANSPORT from %SYSTEM1% to %SYSTEM2%.&quot;,
        description: &quot;Hello. I&#39;m %NAME0%. You have to pick %NAME1% in the %SYSTEM1% system and bring him to the %SYSTEM2% system. For the completion of this task we&#39;ll pay you %REWARD% credits.&quot;,
        choices: &quot;transport&quot;,
        currentTask: 1,
        customResponses: {
            money: [ &quot;[litf_missionResponseMoneyGroup]&quot; ] // this.litf_missionResponseMoneyGroup
        },
        tasks: [
            {
                index: 1,
                typeId: 4,
                description: &quot;Go to the %SYSTEM1% system, meet %NAME1% and carry him to %SYSTEM2%. Remember to check the BBS to get your payment.&quot;,
                generate: { systems: 1, names: 1 },
                waitingMission: &quot;W000&quot;,
                passengers: [ 1 ]
            },
            {
                index: 2,
                typeId: 4,
                description: &quot;Carry %NAME1% to the %SYSTEM2% system. Remember to check the BBS to get your payment.&quot;,
                generate: { systems: 1 },
                waitingMission: &quot;W001&quot;
            }
        ]
    },
    {
        groupId: 11,
        index: 2,
        title: &quot;(TRAINING) This is a mission of type TRANSPORT from here to %SYSTEM1%.&quot;,
        description: &quot;Hello. I&#39;m %NAME0%. I need a ship to go to the %SYSTEM1% system. For the completion of this task I&#39;ll pay you %REWARD% credits.&quot;,
        choices: &quot;transport&quot;,
        currentTask: 1,
        passengers: [ 1 ],
        firstPassenger: 0,
        customResponses: {
            money: [ &quot;[litf_missionResponseMoneyPassenger]&quot; ] // this.litf_missionResponseMoneyPassenger
        },
        tasks: [
            {
                index: 1,
                typeId: 4,
                description: &quot;Bring %NAME0% to the %SYSTEM1% system. Remember to check the BBS to get your payment.&quot;,
                generate: { systems: 1 },
                waitingMission: &quot;W001&quot;
            }
        ]
    },
    {
        groupId: 11,
        index: 3,
        title: &quot;(TRAINING) This is a mission of type TRANSPORT (group) from here to %SYSTEM1%.&quot;,
        description: &quot;Hello. I&#39;m %NAME0%. Me and my friends need a ship to go to the %SYSTEM1% system. For the completion of this task I&#39;ll pay you %REWARD% credits.&quot;,
        choices: &quot;transport&quot;,
        currentTask: 1,
        passengers: [ 2, 7 ],
        firstPassenger: 0,
        customResponses: {
            money: [ &quot;[litf_missionResponseMoneyGroup]&quot; ] // this.litf_missionResponseMoneyGroup
        },
        tasks: [
            {
                index: 1,
                typeId: 4,
                description: &quot;Bring %PASSENGERS% people to the %SYSTEM1% system. Remember to check the BBS to get your payment.&quot;,
                generate: { systems: 1 },
                waitingMission: &quot;W001&quot;
            }
        ]
    },
    {
        groupId: 11,
        index: 4,
        title: &quot;(TRAINING) This is a mission of type CARGO from here to %SYSTEM1%.&quot;,
        description: &quot;Hello. I&#39;m %NAME0%. I need to send a shipment of %GOODS% to the %SYSTEM1% system. For the completion of this task I&#39;ll pay you %REWARD% credits.&quot;,
        choices: &quot;cargo&quot;,
        currentTask: 1,
        customResponses: {
            money: [ &quot;It&#39;s a simple commercial trip.&quot; ]
        },
        tasks: [
            {
                index: 1,
                typeId: 5,
                description: &quot;Bring a shipment of %GOODS% to the %SYSTEM1% system. Remember to check the BBS to get your payment.&quot;,
                generate: { systems: 1, goods: 1 },
                waitingMission: &quot;W002&quot;
            }
        ]
    }
];

this.missionWaitingStore = [
    // Debug ------------------------------------------------------------------
    {
        label: &quot;W000&quot;,
        title: &quot;(TRAINING) Commander %PLAYERNAME%, I&#39;m waiting for you to leave this system.&quot;,
        steps: [
            {
                index: 1,
                description: &quot;Hello. I&#39;m %NAME1%. If you&#39;re ready we can leave immediately.&quot;,
                choice: {
                    &quot;01_NEXTTASK&quot;: &quot;\&quot;Ok, go to the hangar and we go.\&quot;&quot;,
                    &quot;99_QUIT&quot;: &quot;Hang up.&quot;
                }
            }
        ]
    },
    {
        label: &quot;W001&quot;,
        title: &quot;(TRAINING) Commander %PLAYERNAME%, get your payment.&quot;,
        steps: [
            {
                index: 1,
                description: &quot;-- Closing transaction --&quot;,
                choice: {
                    &quot;01_COMPLETE&quot;: &quot;Accept and hang up.&quot;
                }
            }
        ]
    },
    {
        label: &quot;W002&quot;,
        title: &quot;(TRAINING) Commander %PLAYERNAME%, we are offloading the cargo from your ship. You can get your payment.&quot;,
        steps: [
            {
                index: 1,
                description: &quot;-- Closing transaction --&quot;,
                choice: {
                    &quot;01_COMPLETE&quot;: &quot;Accept and hang up.&quot;
                }
            }
        ]
    },
    // Generic ----------------------------------------------------------------
    {
        label: &quot;G1&quot;,
        title: &quot;REWARD: Commander %PLAYERNAME%, get your payment.&quot;,
        steps: [
            {
                index: 1,
                description: &quot;&lt;Please accept the transaction to close the deal.&gt;&quot;,
                choice: {
                    &quot;01_COMPLETE&quot;: &quot;Accept and hang up.&quot;
                }
            }
        ]
    },
    {
        label: &quot;G2&quot;,
        title: &quot;LOOK HERE: Commander %PLAYERNAME%.&quot;,
        steps: [
            {
                index: 1,
                description: &quot;Hello Commander %PLAYERNAME%, I&#39;m glad you&#39;re here. Can we leave for our destination?&quot;,
                choice: {
                    &quot;01_GOTO_2&quot;: &quot;\&quot;Yes, we can leave now.\&quot; and hang up.&quot;,
                    &quot;99_QUIT&quot;: &quot;\&quot;Hold on while I make room.\&quot; then hang up.&quot;
                }
            }
        ]
    },
    {
        label: &quot;G3&quot;,
        title: &quot;HANGAR: Commander %PLAYERNAME%, we are offloading the cargo from your ship. You can get your payment.&quot;,
        steps: [
            {
                index: 1,
                description: &quot;-- Closing transaction --&quot;,
                choice: {
                    &quot;01_COMPLETE&quot;: &quot;Accept and hang up.&quot;
                }
            }
        ]
    },
    {
        label: &quot;G3.1&quot;,
        title: &quot;HANGAR: Waiting Commander %PLAYERNAME% to load cargo onto the ship.&quot;,
        steps: [
            {
                index: 1,
                description: &quot;Hi. We&#39;re going to load a shipment of %GOODS% on you ship, as agreed.&quot;,
                choice: {
                    &quot;01_GOTO_2&quot;: &quot;\&quot;Yes, proceed.\&quot;&quot;,
                    &quot;99_QUIT&quot;: &quot;\&quot;Hold on while I make room.\&quot; then hang up.&quot;
                }
            },
            {
                index: 2,
                description: &quot;We have loaded the cargo. You can leave when you want. Goodbye.&quot;,
                choice: {
                    &quot;01_COMPLETE&quot;: &quot;Hang up.&quot;
                }
            }
        ]
    },
    {
        label: &quot;G4&quot;,
        title: &quot;LOOK HERE: Waiting for Commander %PLAYERNAME%.&quot;,
        steps: [
            {
                index: 1,
                description: &quot;Hello, I&#39;m %NAME1%. Can we leave to our destination now?&quot;,
                choice: {
                    &quot;01_COMPLETE&quot;: &quot;\&quot;Yes, we can leave now.\&quot; and hang up.&quot;,
                    &quot;99_QUIT&quot;: &quot;\&quot;Hold on while I make room.\&quot; then hang up.&quot;
                }
            }
        ]
    },

    // GalCop -----------------------------------------------------------------
    {
        label: &quot;W0.1.1&quot;,
        title: null,
        steps: [
            {
                index: 1,
                description: &quot;Hi, I&#39;m %NAME1%. There&#39;s something I can do for you? I&#39;m pretty busy at the moment.&quot;,
                choice: {
                    &quot;01_GOTO_2&quot;: &quot;\&quot;I come from %SYSTEM0% with some informations for you. GalCop is the sender.\&quot;&quot;,
                    &quot;99_QUIT&quot;: &quot;Hang up.&quot;
                }
            },
            {
                index: 2,
                description: &quot;Can you trasmit me these info?&quot;,
                choice: {
                    &quot;01_GOTO_3&quot;: &quot;\&quot;Here they are.\&quot; and send the info.&quot;
                }
            },
            {
                index: 3,
                description: &quot;Yes, I was awaiting this. Good service citizen. Thank you.&quot;,
                choice: {
                    &quot;01_COMPLETE&quot;: &quot;Hang up.&quot;
                }
            }
        ]
    },
    {
        label: &quot;W0.1.2&quot;,
        title: null,
        steps: [
            {
                index: 1,
                description: &quot;Hi, I&#39;m %NAME1%. There&#39;s something I can do for you? I&#39;m pretty busy at the moment.&quot;,
                choice: {
                    &quot;01_GOTO_2&quot;: &quot;\&quot;I come from %SYSTEM0%, I have some equipment for you. GalCop is the sender.\&quot;&quot;,
                    &quot;99_QUIT&quot;: &quot;Hang up.&quot;
                }
            },
            {
                index: 2,
                description: &quot;Oh yes, I was awaiting that. Are you sending me the package?&quot;,
                choice: {
                    &quot;01_GOTO_3&quot;: &quot;\&quot;Yes, just sent through the station network.\&quot;&quot;
                }
            },
            {
                index: 3,
                description: &quot;Good service citizen. Thank you.&quot;,
                choice: {
                    &quot;01_COMPLETE&quot;: &quot;Hang up.&quot;
                }
            }
        ]
    },
    {
        label: &quot;W0.2.5.1&quot;,
        title: &quot;MEETING: Waiting Commander %PLAYERNAME% for a chat.&quot;,
        steps: [
            {
                index: 1,
                description: &quot;Hello citizen. You have to report the following info to agent %NAME2%.&quot;,
                choice: {
                    &quot;01_GOTO_2&quot;: &quot;\&quot;Ok, I&#39;m listening.\&quot;&quot;,
                    &quot;99_QUIT&quot;: &quot;Hang up.&quot;
                }
            },
            {
                index: 2,
                description: &quot;...and that&#39;s all. Do your work. Goodbye.&quot;,
                choice: {
                    &quot;01_NEXTTASK&quot;: &quot;Hang up.&quot;
                }
            }
        ]
    },
    {
        label: &quot;W0.2.5.2&quot;,
        title: &quot;GALCOP: Waiting for Commander %PLAYERNAME%.&quot;,
        steps: [
            {
                index: 1,
                description: &quot;Citizen, you can give me the info you gathered.&quot;,
                choice: {
                    &quot;01_GOTO_2&quot;: &quot;Report the data.&quot;,
                    &quot;99_QUIT&quot;: &quot;Hang up.&quot;
                }
            },
            {
                index: 2,
                description: &quot;Good service citizen. Thank you.&quot;,
                choice: {
                    &quot;01_COMPLETE&quot;: &quot;Hang up.&quot;
                }
            }
        ]
    },
    {
        label: &quot;W0.3.3.1&quot;,
        title: &quot;MEETING: Waiting Commander %PLAYERNAME% for a chat.&quot;,
        steps: [
            {
                index: 1,
                description: &quot;I suppose you are here to pick the data I gathered.&quot;,
                choice: {
                    &quot;01_GOTO_2&quot;: &quot;\&quot;Yes, GalCop sent me. They said it&#39;s an urgent matter.\&quot;&quot;,
                    &quot;99_QUIT&quot;: &quot;Hang up.&quot;
                }
            },
            {
                index: 2,
                description: &quot;Yes. I have sent you the data. Hurry and bring them back. Farewell.&quot;,
                choice: {
                    &quot;01_NEXTTASK&quot;: &quot;Take the data and hang up.&quot;
                }
            }
        ]
    },
    {
        label: &quot;W0.3.3.2&quot;,
        title: &quot;GALCOP: Waiting for Commander %PLAYERNAME%.&quot;,
        steps: [
            {
                index: 1,
                description: &quot;Citizen, give us the data you obtained.&quot;,
                choice: {
                    &quot;01_GOTO_2&quot;: &quot;\&quot;I&#39;m just sending it to you.\&quot;&quot;,
                    &quot;99_QUIT&quot;: &quot;Hang up.&quot;
                }
            },
            {
                index: 2,
                description: &quot;The data isn&#39;t corrupted. Good service citizen. Thank you.&quot;,
                choice: {
                    &quot;01_COMPLETE&quot;: &quot;Hang up.&quot;
                }
            }
        ]
    },
    {
        label: &quot;W0.3.4.1&quot;,
        title: &quot;MEETING: Waiting Commander %PLAYERNAME% for a chat.&quot;,
        steps: [
            {
                index: 1,
                description: &quot;Hello citizen. Listen to me and report to the GalCop officer who sent you.&quot;,
                choice: {
                    &quot;01_GOTO_2&quot;: &quot;\&quot;Ok, I&#39;m listening.\&quot;&quot;,
                    &quot;99_QUIT&quot;: &quot;Hang up.&quot;
                }
            },
            {
                index: 2,
                description: &quot;...and that&#39;s all. Do your work. Goodbye.&quot;,
                choice: {
                    &quot;01_NEXTTASK&quot;: &quot;Hang up.&quot;
                }
            }
        ]
    },
    {
        label: &quot;W0.3.4.2&quot;,
        title: &quot;GALCOP: Waiting for Commander %PLAYERNAME%.&quot;,
        steps: [
            {
                index: 1,
                description: &quot;Citizen, give us the data you obtained.&quot;,
                choice: {
                    &quot;01_GOTO_2&quot;: &quot;Report the data.&quot;,
                    &quot;99_QUIT&quot;: &quot;Hang up.&quot;
                }
            },
            {
                index: 2,
                description: &quot;Good service citizen. Thank you.&quot;,
                choice: {
                    &quot;01_COMPLETE&quot;: &quot;Hang up.&quot;
                }
            }
        ]
    },
    {
        label: &quot;W0.4&quot;,
        title: &quot;GALCOP: Commander %PLAYERNAME%, get your payment.&quot;,
        steps: [
            {
                index: 1,
                description: &quot;&lt;Please accept the transaction to close the deal.&gt;&quot;,
                choice: {
                    &quot;01_COMPLETE&quot;: &quot;Accept and hang up.&quot;
                }
            }
        ]
    },
    {
        label: &quot;W0.4.7&quot;,
        title: &quot;GALCOP: Commander %PLAYERNAME%, waiting to proceed.&quot;,
        steps: [
            {
                index: 1,
                description: &quot;Hello citizen, can we proceed with the transfer?&quot;,
                choice: {
                    &quot;01_NEXTTASK&quot;: &quot;\&quot;Yes, we can leave right now.\&quot; and hang up.&quot;,
                    &quot;99_QUIT&quot;: &quot;\&quot;Hold on while I make room.\&quot; then hang up.&quot;
                }
            }
        ]
    },
    {
        label: &quot;W0.4.8&quot;,
        title: &quot;GALCOP: Looking for Commander %PLAYERNAME%.&quot;,
        steps: [
            {
                index: 1,
                description: &quot;Hello, I&#39;m %NAME1%, can we proceed with the transfer?&quot;,
                choice: {
                    &quot;01_NEXTTASK&quot;: &quot;\&quot;We can leave now.\&quot; and hang up.&quot;,
                    &quot;99_QUIT&quot;: &quot;\&quot;Hold on while I make room.\&quot; then hang up.&quot;
                }
            }
        ]
    },
    {
        label: &quot;W0.4.12.1&quot;,
        title: &quot;WAITING: Commander %PLAYERNAME%.&quot;,
        steps: [
            {
                index: 1,
                description: &quot;Here you are. Let&#39;s get out of here NOW!&quot;,
                choice: {
                    &quot;01_NEXTTASK&quot;: &quot;\&quot;Ok let&#39;s go.\&quot; and hang up.&quot;,
                    &quot;99_QUIT&quot;: &quot;\&quot;Hold on while I make room.\&quot; then hang up.&quot;
                }
            }
        ]
    },
    // GalBook ----------------------------------------------------------------
    {
        label: &quot;W1.1.1&quot;,
        title: &quot;LOOK HERE: Commander %PLAYERNAME%, where is my book?&quot;,
        steps: [
            {
                index: 1,
                description: &quot;Here we are. Do you have my book?&quot;,
                choice: {
                    &quot;01_GOTO_2&quot;: &quot;\&quot;Yes, I have it right here.\&quot;&quot;,
                    &quot;99_QUIT&quot;: &quot;Hang up.&quot;
                }
            },
            {
                index: 2,
                description: &quot;Can you send it to me via the station network?&quot;,
                choice: {
                    &quot;01_GOTO_3&quot;: &quot;\&quot;Done.\&quot;&quot;
                }
            },
            {
                index: 3,
                description: &quot;At last! &#39;%BOOK%! I looked forward to this moment! Take your payment! Goodbye!&quot;,
                choice: {
                    &quot;01_COMPLETE&quot;: &quot;Hang up.&quot;
                }
            }
        ]
    },
    {
        label: &quot;W1.2.3.1&quot;,
        title: &quot;DELIVER: I have a book for Commander %PLAYERNAME%.&quot;,
        steps: [
            {
                index: 1,
                description: &quot;Hello. I&#39;m %NAME1%. I have a book for you.&quot;,
                choice: {
                    &quot;01_GOTO_2&quot;: &quot;\&quot;Yes, please, send it to me.\&quot;&quot;,
                    &quot;99_QUIT&quot;: &quot;Hang up.&quot;
                }
            },
            {
                index: 2,
                description: &quot;Done. Please, keep it safe. It&#39;s a valuable copy.&quot;,
                choice: {
                    &quot;01_NEXTTASK&quot;: &quot;Hang up.&quot;
                }
            }
        ]
    },
    {
        label: &quot;W1.2.3.2&quot;,
        title: &quot;WAITING: Commander %PLAYERNAME% with my book.&quot;,
        steps: [
            {
                index: 1,
                description: &quot;Here we are. Where&#39;s the book?&quot;,
                choice: {
                    &quot;01_GOTO_2&quot;: &quot;Send the book.&quot;,
                    &quot;99_QUIT&quot;: &quot;Hang up.&quot;
                }
            },
            {
                index: 2,
                description: &quot;Ah, perfect. Very good conditions - near mint. Thank you.&quot;,
                choice: {
                    &quot;01_COMPLETE&quot;: &quot;Hang up.&quot;
                }
            }
        ]
    },
    {
        label: &quot;W1.3.2.1&quot;,
        title: &quot;DELIVER: I have a book for Commander %PLAYERNAME%.&quot;,
        steps: [
            {
                index: 1,
                description: &quot;Hello. I&#39;m %NAME1%. I have a book for you.&quot;,
                choice: {
                    &quot;01_GOTO_2&quot;: &quot;\&quot;Yes, please, send it to me.\&quot;&quot;,
                    &quot;99_QUIT&quot;: &quot;Hang up.&quot;
                }
            },
            {
                index: 2,
                description: &quot;Done. Bring my salutes to %NAME0%. Goodbye.&quot;,
                choice: {
                    &quot;01_NEXTTASK&quot;: &quot;Hang up.&quot;
                }
            }
        ]
    },
    {
        label: &quot;W1.3.2.2&quot;,
        title: &quot;WAITING: Commander %PLAYERNAME% with my book.&quot;,
        steps: [
            {
                index: 1,
                description: &quot;You have returned at last. Where&#39;s the book?&quot;,
                choice: {
                    &quot;01_GOTO_2&quot;: &quot;Send the book.&quot;,
                    &quot;99_QUIT&quot;: &quot;Hang up.&quot;
                }
            },
            {
                index: 2,
                description: &quot;Ah, perfect. Thank you.&quot;,
                choice: {
                    &quot;01_COMPLETE&quot;: &quot;Hang up.&quot;
                }
            }
        ]
    },
    // GalChurch --------------------------------------------------------------
    {
        label: &quot;W2.1.2&quot;,
        title: null,
        steps: [
            {
                index: 1,
                description: &quot;Hi, I&#39;m %NAME1%. What do you want?&quot;,
                choice: {
                    &quot;01_GOTO_2&quot;: &quot;\&quot;Hmm... the Church of %SYSTEM1% wants you to read this sacred text and join them.\&quot;&quot;,
                    &quot;99_QUIT&quot;: &quot;Hang up.&quot;
                }
            },
            {
                index: 2,
                description: &quot;Ah.&quot;,
                choice: {
                    &quot;01_GOTO_3&quot;: &quot;\&quot;I&#39;m sending you the text.\&quot;&quot;
                }
            },
            {
                index: 3,
                description: &quot;Ok. Bye.&quot;,
                choice: {
                    &quot;01_COMPLETE&quot;: &quot;Hang up.&quot;
                }
            }
        ]
    },
    {
        label: &quot;W2.2.3.1&quot;,
        title: &quot;WAITING: Church envoy %PLAYERNAME%.&quot;,
        steps: [
            {
                index: 1,
                description: &quot;Hello. I&#39;m Acolyte %NAME1%. I will bring to your ship the holy alien artifacts for the transport.&quot;,
                choice: {
                    &quot;01_GOTO_2&quot;: &quot;\&quot;Yes, thank you.\&quot;&quot;,
                    &quot;99_QUIT&quot;: &quot;Hang up.&quot;
                }
            },
            {
                index: 2,
                description: &quot;Done. My blessing to you and Acolyte %NAME2%. Goodbye.&quot;,
                choice: {
                    &quot;01_NEXTTASK&quot;: &quot;Hang up.&quot;
                }
            }
        ]
    },
    {
        label: &quot;W2.2.3.2&quot;,
        title: &quot;WAITING: Gentle %PLAYERNAME% with our sacred materials.&quot;,
        steps: [
            {
                index: 1,
                description: &quot;I thank you, %PLAYERNAME%, for your service.&quot;,
                choice: {
                    &quot;01_GOTO_2&quot;: &quot;\&quot;You&#39;re welcome. You can pick up the artifacts.\&quot;&quot;,
                    &quot;99_QUIT&quot;: &quot;Hang up.&quot;
                }
            },
            {
                index: 2,
                description: &quot;Holy alien artifacts, to be precise. Thank you. The Church bless you.&quot;,
                choice: {
                    &quot;01_COMPLETE&quot;: &quot;Hang up.&quot;
                }
            }
        ]
    },
    {
        label: &quot;W2.3.1.1&quot;,
        title: &quot;WAITING: Church envoy %PLAYERNAME%.&quot;,
        steps: [
            {
                index: 1,
                description: &quot;Hello. I&#39;m Acolyte %NAME1%. Can I send you the materials for Acolyte %NAME0%?.&quot;,
                choice: {
                    &quot;01_GOTO_2&quot;: &quot;\&quot;Yes, thank you.\&quot;&quot;,
                    &quot;99_QUIT&quot;: &quot;Hang up.&quot;
                }
            },
            {
                index: 2,
                description: &quot;Done. My blessing to you and Acolyte %NAME0%. Goodbye.&quot;,
                choice: {
                    &quot;01_NEXTTASK&quot;: &quot;Hang up.&quot;
                }
            }
        ]
    },
    {
        label: &quot;W2.3.1.2&quot;,
        title: &quot;WAITING: Looking forward to encounter %PLAYERNAME% again.&quot;,
        steps: [
            {
                index: 1,
                description: &quot;I thank you, %PLAYERNAME%, for your service.&quot;,
                choice: {
                    &quot;01_GOTO_2&quot;: &quot;\&quot;You&#39;re welcome. Here are your materials.\&quot;&quot;,
                    &quot;99_QUIT&quot;: &quot;Hang up.&quot;
                }
            },
            {
                index: 2,
                description: &quot;Thank you. The church bless you.&quot;,
                choice: {
                    &quot;01_COMPLETE&quot;: &quot;Hang up.&quot;
                }
            }
        ]
    },
    {
        label: &quot;W2.4&quot;,
        title: &quot;CHURCH: Commander %PLAYERNAME%, get your payment.&quot;,
        steps: [
            {
                index: 1,
                description: &quot;&lt;Please accept the transaction to close the deal.&gt;&quot;,
                choice: {
                    &quot;01_COMPLETE&quot;: &quot;Accept and hang up.&quot;
                }
            }
        ]
    },
    {
        label: &quot;W2.4.6&quot;,
        title: &quot;CHURCH: Commander %PLAYERNAME%, ready to leave.&quot;,
        steps: [
            {
                index: 1,
                description: &quot;Hello kindred soul, I&#39;m Priest %NAME1%. Can we proceed with the transfer?&quot;,
                choice: {
                    &quot;01_NEXTTASK&quot;: &quot;\&quot;We can leave now.\&quot; and hang up.&quot;,
                    &quot;99_QUIT&quot;: &quot;\&quot;Hold on while I make room.\&quot; then hang up.&quot;
                }
            }
        ]
    },
    {
        label: &quot;W2.4.8&quot;,
        title: &quot;CHURCH: Church followers eagerly waiting for Commander %PLAYERNAME%.&quot;,
        steps: [
            {
                index: 1,
                description: &quot;Hello kindred soul, We are ready to start our pilgrimage.&quot;,
                choice: {
                    &quot;01_NEXTTASK&quot;: &quot;\&quot;We can leave now.\&quot; and hang up.&quot;,
                    &quot;99_QUIT&quot;: &quot;\&quot;Hold on while I make room.\&quot; then hang up.&quot;
                }
            }
        ]
    },
    // GalShady ---------------------------------------------------------------
    {
        label: &quot;W3.1.1&quot;,
        title: &quot;HELP: Dear friend %PLAYERNAME%, I&#39;m waiting for you.&quot;,
        steps: [
            {
                index: 1,
                description: &quot;Good day, friend. Do you have something for me?&quot;,
                choice: {
                    &quot;01_GOTO_2&quot;: &quot;\&quot;Yes, some... &#39;useful data&#39;.\&quot;&quot;,
                    &quot;99_QUIT&quot;: &quot;Hang up.&quot;
                }
            },
            {
                index: 2,
                description: &quot;Perfect. It&#39;s the data I like most!&quot;,
                choice: {
                    &quot;01_GOTO_3&quot;: &quot;\&quot;Here you are.\&quot;&quot;
                }
            },
            {
                index: 3,
                description: &quot;Thank you, friend.&quot;,
                choice: {
                    &quot;01_COMPLETE&quot;: &quot;Hang up.&quot;
                }
            }
        ]
    },
    {
        label: &quot;W3.2.3.1&quot;,
        title: &quot;HURRY: %PLAYERNAME%, take away this thing.&quot;,
        steps: [
            {
                index: 1,
                description: &quot;Hi, I&#39;m %NAME1%, and you must pick up this thing. Deliver it to %NAME2% in the %SYSTEM2%.&quot;,
                choice: {
                    &quot;01_GOTO_2&quot;: &quot;\&quot;Ok... but what is it?\&quot;&quot;,
                    &quot;99_QUIT&quot;: &quot;Hang up.&quot;
                }
            },
            {
                index: 2,
                description: &quot;The thing? It&#39;s... a thing. It seems a box but... Doesn&#39;t matter. I almost forgot! It&#39;s a surprise! %NAME2% doesn&#39;t know of the thing.&quot;,
                choice: {
                    &quot;01_GOTO_3&quot;: &quot;\&quot;Ah... ok.\&quot;&quot;
                }
            },
            {
                index: 3,
                description: &quot;Do what you got to do. Goodbye.&quot;,
                choice: {
                    &quot;01_NEXTTASK&quot;: &quot;Hang up.&quot;
                }
            }
        ]
    },
    {
        label: &quot;W3.2.3.2&quot;,
        title: null,
        steps: [
            {
                index: 1,
                description: &quot;Hello, %NAME2% here, what do you want?&quot;,
                choice: {
                    &quot;01_GOTO_2&quot;: &quot;\&quot;A th... box for you. A present.\&quot;&quot;,
                    &quot;99_QUIT&quot;: &quot;Hang up.&quot;
                }
            },
            {
                index: 2,
                description: &quot;A present? Mh. Ok, send it to me.&quot;,
                choice: {
                    &quot;01_GOTO_3&quot;: &quot;\&quot;Sent just now.\&quot;&quot;
                }
            },
            {
                index: 3,
                description: &quot;Bye.&quot;,
                choice: {
                    &quot;01_COMPLETE&quot;: &quot;Hang up.&quot;
                }
            }
        ]
    },
    {
        label: &quot;W3.3.2.1&quot;,
        title: null,
        steps: [
            {
                index: 1,
                description: &quot;Hello, I&#39;m %NAME1%. What can I do for you?&quot;,
                choice: {
                    &quot;01_GOTO_2&quot;: &quot;\&quot;%NAME0% wants some package back.\&quot;&quot;,
                    &quot;99_QUIT&quot;: &quot;Hang up.&quot;
                }
            },
            {
                index: 2,
                description: &quot;%NAME0%? Hmm... yes I understand. Please wait a moment...&quot;,
                choice: {
                    &quot;01_GOTO_3&quot;: &quot;Wait.&quot;
                }
            },
            {
                index: 3,
                description: &quot;I&#39;ve sent you the package. Goodbye.&quot;,
                choice: {
                    &quot;01_NEXTTASK&quot;: &quot;Hang up.&quot;
                }
            }
        ]
    },
    {
        label: &quot;W3.3.2.2&quot;,
        title: &quot;WAITING: %PLAYERNAME% with my package.&quot;,
        steps: [
            {
                index: 1,
                description: &quot;You have brought my package, right?&quot;,
                choice: {
                    &quot;01_GOTO_2&quot;: &quot;Send the package via the station network.&quot;,
                    &quot;99_QUIT&quot;: &quot;Hang up.&quot;
                }
            },
            {
                index: 2,
                description: &quot;Bye.&quot;,
                choice: {
                    &quot;01_COMPLETE&quot;: &quot;Hang up.&quot;
                }
            }
        ]
    },
    {
        label: &quot;W3.4.4&quot;,
        title: &quot;NOW: Commander %PLAYERNAME%, ready to leave.&quot;,
        steps: [
            {
                index: 1,
                description: &quot;Let&#39;s get out of there.&quot;,
                choice: {
                    &quot;01_NEXTTASK&quot;: &quot;\&quot;Ok.\&quot; and hang up.&quot;,
                    &quot;99_QUIT&quot;: &quot;\&quot;Hold on while I make room.\&quot; then hang up.&quot;
                }
            }
        ]
    },
    {
        label: &quot;W3.4.4&quot;,
        title: &quot;WAITING: Commander %PLAYERNAME%, we are ready to leave.&quot;,
        steps: [
            {
                index: 1,
                description: &quot;We can go now.&quot;,
                choice: {
                    &quot;01_NEXTTASK&quot;: &quot;\&quot;Ok.\&quot; and hang up.&quot;,
                    &quot;99_QUIT&quot;: &quot;\&quot;Hold on while I make room.\&quot; then hang up.&quot;
                }
            }
        ]
    },
    {
        label: &quot;W3.4.9.1&quot;,
        title: &quot;PASSAGE: Commander %PLAYERNAME%, I&#39;m ready to leave.&quot;,
        steps: [
            {
                index: 1,
                description: &quot;They send you to bring me to safety, right? Let&#39;s go now, I don&#39;t feel safe here.&quot;,
                choice: {
                    &quot;01_NEXTTASK&quot;: &quot;\&quot;Ok.\&quot; and hang up.&quot;,
                    &quot;99_QUIT&quot;: &quot;\&quot;Hold on while I make room.\&quot; then hang up.&quot;
                }
            }
        ]
    },
    // GalMedical -------------------------------------------------------------
    {
        label: &quot;W4.1.1&quot;,
        title: &quot;PSA: Medical team available here!&quot;,
        steps: [
            {
                index: 1,
                description: &quot;Hello, I&#39;m Doctor %NAME1%. There&#39;s something I can do for you?&quot;,
                choice: {
                    &quot;01_GOTO_2&quot;: &quot;\&quot;Your colleagues from %SYSTEM0% want to know how goes the work.\&quot;&quot;,
                    &quot;99_QUIT&quot;: &quot;Hang up.&quot;
                }
            },
            {
                index: 2,
                description: &quot;Oh right. We&#39;re very busy and I forgot to update them. Thank you. I&#39;ll answer to them right now.&quot;,
                choice: {
                    &quot;01_COMPLETE&quot;: &quot;\&quot;Perfect. Goodbye.\&quot;&quot;
                }
            }
        ]
    },
    {
        label: &quot;W4.1.2&quot;,
        title: &quot;SCIENCE: Looking for professionals for medical research.&quot;,
        steps: [
            {
                index: 1,
                description: &quot;Hello, I&#39;m Doctor %NAME1%. There&#39;s something I can do for you?&quot;,
                choice: {
                    &quot;01_GOTO_2&quot;: &quot;\&quot;Your colleagues from %SYSTEM0% want to know how goes the work.\&quot;&quot;,
                    &quot;99_QUIT&quot;: &quot;Hang up.&quot;
                }
            },
            {
                index: 2,
                description: &quot;Yes, I must update them on the stage of our research. It&#39;s going pretty well but the work is very intensive and leave us little time for other. Thanks for your reminding.&quot;,
                choice: {
                    &quot;01_COMPLETE&quot;: &quot;\&quot;Ok then. Goodbye.\&quot;&quot;
                }
            }
        ]
    },
    {
        label: &quot;W4.2.5.1&quot;,
        title: &quot;URGENT: Doctor %NAME1% looking for Commander %PLAYERNAME%.&quot;,
        steps: [
            {
                index: 1,
                description: &quot;Hello. I&#39;m Doctor %NAME1%. Are you here to take the donor blood?&quot;,
                choice: {
                    &quot;01_GOTO_2&quot;: &quot;\&quot;Yes, you can do it now.\&quot;&quot;,
                    &quot;99_QUIT&quot;: &quot;Hang up.&quot;
                }
            },
            {
                index: 2,
                description: &quot;Ok, done. Thank you. Please hurry.&quot;,
                choice: {
                    &quot;01_NEXTTASK&quot;: &quot;Hang up.&quot;
                }
            }
        ]
    },
    {
        label: &quot;W4.2.5.2&quot;,
        title: &quot;HOSPITAL: Emergency!! Donor blood needed. Do your part.&quot;,
        steps: [
            {
                index: 1,
                description: &quot;Do you have the donor blood we need?&quot;,
                choice: {
                    &quot;01_GOTO_2&quot;: &quot;\&quot;Yes, taken from %NAME1%. You can pick it up now.\&quot;&quot;,
                    &quot;99_QUIT&quot;: &quot;Hang up.&quot;
                }
            },
            {
                index: 2,
                description: &quot;This is a relief. Thank you. Goodbye.&quot;,
                choice: {
                    &quot;01_COMPLETE&quot;: &quot;Hang up.&quot;
                }
            }
        ]
    },
    {
        label: &quot;W4.3.4.1&quot;,
        title: &quot;PICK-UP: I&#39;m Doctor %NAME1% and I&#39;m looking for Commander %PLAYERNAME%&quot;,
        steps: [
            {
                index: 1,
                description: &quot;Hello. I&#39;m Doctor %NAME1%. I have a box of documents for you.&quot;,
                choice: {
                    &quot;01_GOTO_2&quot;: &quot;\&quot;Yes, please, send it to me.\&quot;&quot;,
                    &quot;99_QUIT&quot;: &quot;Hang up.&quot;
                }
            },
            {
                index: 2,
                description: &quot;Done. Thank you. Goodbye.&quot;,
                choice: {
                    &quot;01_NEXTTASK&quot;: &quot;Hang up.&quot;
                }
            }
        ]
    },
    {
        label: &quot;W4.3.4.2&quot;,
        title: &quot;DOCUMENTS: Commander %PLAYERNAME% answer here when you return.&quot;,
        steps: [
            {
                index: 1,
                description: &quot;Have you taken the documents I need?&quot;,
                choice: {
                    &quot;01_GOTO_2&quot;: &quot;Send all the documents.&quot;,
                    &quot;99_QUIT&quot;: &quot;Hang up.&quot;
                }
            },
            {
                index: 2,
                description: &quot;Thank you.&quot;,
                choice: {
                    &quot;01_COMPLETE&quot;: &quot;Hang up.&quot;
                }
            }
        ]
    },
    {
        label: &quot;W4.4.11.1&quot;,
        title: &quot;PICK-UP: Commander %PLAYERNAME% for ship-ambulance job.&quot;,
        steps: [
            {
                index: 1,
                description: &quot;Hello, we have the passenger. Can we bring him into your ship?&quot;,
                choice: {
                    &quot;01_GOTO_2&quot;: &quot;\&quot;Yes, please.\&quot;&quot;,
                    &quot;99_QUIT&quot;: &quot;\&quot;Hold on while I make room.\&quot; then hang up.&quot;
                }
            },
            {
                index: 2,
                description: &quot;Done. Please leave quickly. Goodbye.&quot;,
                choice: {
                    &quot;01_NEXTTASK&quot;: &quot;Hang up.&quot;
                }
            }
        ]
    },
    {
        label: &quot;W4.4.11.2&quot;,
        title: &quot;HOSPITAL: Waiting for Commander %PLAYERNAME% with a sick passenger.&quot;,
        steps: [
            {
                index: 1,
                description: &quot;We are bringing the passenger to the hospital. Thanks for your service.&quot;,
                choice: {
                    &quot;01_COMPLETE&quot;: &quot;Hang up.&quot;
                }
            }
        ]
    },
    // GalCivic ---------------------------------------------------------------
    {
        label: &quot;W5.1.1&quot;,
        title: null,
        steps: [
            {
                index: 1,
                description: &quot;Hello, I&#39;m %NAME1%. Do you have a package for me?&quot;,
                choice: {
                    &quot;01_GOTO_2&quot;: &quot;\&quot;Yes, exactly.\&quot;&quot;,
                    &quot;99_QUIT&quot;: &quot;Hang up.&quot;
                }
            },
            {
                index: 2,
                description: &quot;Can you send it to me, please?&quot;,
                choice: {
                    &quot;01_GOTO_3&quot;: &quot;\&quot;Just done.\&quot;&quot;
                }
            },
            {
                index: 3,
                description: &quot;Thank you, friend.&quot;,
                choice: {
                    &quot;01_COMPLETE&quot;: &quot;Hang up.&quot;
                }
            }
        ]
    },
    {
        label: &quot;W5.1.2&quot;,
        title: null,
        steps: [
            {
                index: 1,
                description: &quot;Hi, I&#39;m %NAME1%. Can I do something for you?&quot;,
                choice: {
                    &quot;01_GOTO_2&quot;: &quot;\&quot;I come from %SYSTEM0%. %NAME0% is worried about you and the family.\&quot;&quot;,
                    &quot;99_QUIT&quot;: &quot;Hang up.&quot;
                }
            },
            {
                index: 2,
                description: &quot;Oh! We had a lot of problem with the communication network here. We&#39;ll try to make contact again soon. Things aren&#39;t too bad. Thanks for your interest.&quot;,
                choice: {
                    &quot;01_COMPLETE&quot;: &quot;Hang up.&quot;
                }
            }
        ]
    },
    {
        label: &quot;W5.3.3.1&quot;,
        title: &quot;LOOK HERE: Commander %PLAYERNAME%, I have %ITEM% for you.&quot;,
        steps: [
            {
                index: 1,
                description: &quot;Hello. I&#39;m %NAME1%. Can I send you the stuff %NAME0% has forgotten here?&quot;,
                choice: {
                    &quot;01_GOTO_2&quot;: &quot;\&quot;Yes, please, send it to me.\&quot;&quot;,
                    &quot;99_QUIT&quot;: &quot;Hang up.&quot;
                }
            },
            {
                index: 2,
                description: &quot;Thank you. Goodbye.&quot;,
                choice: {
                    &quot;01_NEXTTASK&quot;: &quot;Hang up.&quot;
                }
            }
        ]
    },
    {
        label: &quot;W5.3.3.2&quot;,
        title: &quot;ITEMS: Commander %PLAYERNAME%, bring back my stuff please!&quot;,
        steps: [
            {
                index: 1,
                description: &quot;Where is my stuff?&quot;,
                choice: {
                    &quot;01_GOTO_2&quot;: &quot;\&quot;Right here, I&#39;ll going to send it to you.\&quot;&quot;,
                    &quot;99_QUIT&quot;: &quot;Hang up.&quot;
                }
            },
            {
                index: 2,
                description: &quot;Thank you. I was desperate without.&quot;,
                choice: {
                    &quot;01_COMPLETE&quot;: &quot;(\&quot;Go figure.\&quot;) Hang up.&quot;
                }
            }
        ]
    },
    {
        label: &quot;W5.4.8.1&quot;,
        title: &quot;HEY YOU: Commander %PLAYERNAME%, I&#39;m waiting for you.&quot;,
        steps: [
            {
                index: 1,
                description: &quot;Hi, I&#39;m %NAME1%. Can we leave now? I have a bad feeling...&quot;,
                choice: {
                    &quot;01_NEXTTASK&quot;: &quot;\&quot;Ok, let&#39;s leave.\&quot; and hang up.&quot;,
                    &quot;99_QUIT&quot;: &quot;\&quot;Hold on while I make room.\&quot; then hang up.&quot;
                }
            }
        ]
    },
    // GalTourism missions ----------------------------------------------------
    {
        label: &quot;W6.1.1&quot;,
        title: &quot;DELUXOR HOTELS: Exaggerate luxury for a deluxe holiday!&quot;,
        steps: [
            {
                index: 1,
                description: &quot;Hi, this is the DeLuxor hotels reception. What can I do for you?&quot;,
                choice: {
                    &quot;01_GOTO_2&quot;: &quot;\&quot;I need to cancel a room reservation for %NAME0% from the %SYSTEM0% system.\&quot;&quot;,
                    &quot;99_QUIT&quot;: &quot;Hang up.&quot;
                }
            },
            {
                index: 2,
                description: &quot;Are you %NAME0%?&quot;,
                choice: {
                    &quot;01_GOTO_3&quot;: &quot;\&quot;No. %NAME0% has employed me to attend this because he can&#39;t contact you. I&#39;m sending you the documents I was given.\&quot;&quot;
                }
            },
            {
                index: 3,
                description: &quot;Hm. I see. We&#39;ll need a further confirmation from %NAME0%, though. Thanks, DeLuxor hotels wishes you a good day.&quot;,
                choice: {
                    &quot;01_COMPLETE&quot;: &quot;Hang up.&quot;
                }
            }
        ]
    },
    {
        label: &quot;W6.2.2.1&quot;,
        title: &quot;SPACEPORT: Baggage reclamation office open for service.&quot;,
        steps: [
            {
                index: 1,
                description: &quot;Hi, I&#39;m %NAME1%. Do you wish to collect your baggage?&quot;,
                choice: {
                    &quot;01_GOTO_2&quot;: &quot;\&quot;Not mine, but %NAME2% baggage. Here&#39;s the documents.\&quot;&quot;,
                    &quot;99_QUIT&quot;: &quot;Hang up.&quot;
                }
            },
            {
                index: 2,
                description: &quot;Ok, I see. All right, you can collect the baggage. Good day.&quot;,
                choice: {
                    &quot;01_NEXTTASK&quot;: &quot;Hang up.&quot;
                }
            }
        ]
    },
    {
        label: &quot;W6.2.2.2&quot;,
        title: &quot;WAITING: Commander %PLAYERNAME% and my baggage.&quot;,
        steps: [
            {
                index: 1,
                description: &quot;Hello, I&#39;m %NAME2%. Do you have my baggage?&quot;,
                choice: {
                    &quot;01_GOTO_2&quot;: &quot;\&quot;Yes, I&#39;ve collected it from the %SYSTEM1% spaceport. I&#39;m sending it to you.\&quot;&quot;,
                    &quot;99_QUIT&quot;: &quot;Hang up.&quot;
                }
            },
            {
                index: 2,
                description: &quot;Ooh thank you. I was very worried. Thanks again. Goodbye.&quot;,
                choice: {
                    &quot;01_COMPLETE&quot;: &quot;Hang up.&quot;
                }
            }
        ]
    },
    {
        label: &quot;W6.3.3.1&quot;,
        title: &quot;SPACEPORT: Baggage reclamation office open for service.&quot;,
        steps: [
            {
                index: 1,
                description: &quot;Hi, I&#39;m %NAME1%. Do you wish to collect your baggage?&quot;,
                choice: {
                    &quot;01_GOTO_2&quot;: &quot;\&quot;Not mine, but %NAME0% baggage. Here&#39;s the documents.\&quot;&quot;,
                    &quot;99_QUIT&quot;: &quot;Hang up.&quot;
                }
            },
            {
                index: 2,
                description: &quot;Ok, I see. All right, you can collect the baggage. Good day.&quot;,
                choice: {
                    &quot;01_NEXTTASK&quot;: &quot;Hang up.&quot;
                }
            }
        ]
    },
    {
        label: &quot;W6.3.3.2&quot;,
        title: &quot;WAITING: Commander %PLAYERNAME% and my baggage.&quot;,
        steps: [
            {
                index: 1,
                description: &quot;Welcome back, Commander. Do you have my baggage?&quot;,
                choice: {
                    &quot;01_GOTO_2&quot;: &quot;\&quot;Yes, it&#39;s here. I&#39;m sending it to you.\&quot;&quot;,
                    &quot;99_QUIT&quot;: &quot;Hang up.&quot;
                }
            },
            {
                index: 2,
                description: &quot;Thanks for your service. Goodbye.&quot;,
                choice: {
                    &quot;01_COMPLETE&quot;: &quot;Hang up.&quot;
                }
            }
        ]
    },
    {
        label: &quot;W6.4&quot;,
        title: &quot;DELUXOR: Commander %PLAYERNAME%, get your payment.&quot;,
        steps: [
            {
                index: 1,
                description: &quot;&lt;Please accept the transaction to close the deal.&gt;&quot;,
                choice: {
                    &quot;01_COMPLETE&quot;: &quot;Accept and hang up.&quot;
                }
            }
        ]
    },
    // GalShopping missions ---------------------------------------------------

    // GalNature --------------------------------------------------------------
    {
        label: &quot;W8.3.1.1&quot;,
        title: &quot;BOTANICAL: Commander %PLAYERNAME%, plants specimens are ready for transport.&quot;,
        steps: [
            {
                index: 1,
                description: &quot;I&#39;m %NAME1%, a botanist. We have the specimens that you must return to %NAME0%.&quot;,
                choice: {
                    &quot;01_GOTO_2&quot;: &quot;\&quot;Ok, bring them to my ship.\&quot;&quot;,
                    &quot;99_QUIT&quot;: &quot;Hang up.&quot;
                }
            },
            {
                index: 2,
                description: &quot;We are going to the hangar. Hurry up.&quot;,
                choice: {
                    &quot;01_NEXTTASK&quot;: &quot;Hang up.&quot;
                }
            }
        ]
    },
    {
        label: &quot;W8.3.1.2&quot;,
        title: &quot;BOTANICAL: Commander %PLAYERNAME%, answer here to deliver the specimens.&quot;,
        steps: [
            {
                index: 1,
                description: &quot;Can we take the plants specimens now?&quot;,
                choice: {
                    &quot;01_GOTO_2&quot;: &quot;\&quot;Yes, you can take them.\&quot;&quot;,
                    &quot;99_QUIT&quot;: &quot;Hang up.&quot;
                }
            },
            {
                index: 2,
                description: &quot;Thank you. We&#39;ll provide better conditions for these plants. Goodbye.&quot;,
                choice: {
                    &quot;01_COMPLETE&quot;: &quot;Hang up.&quot;
                }
            }
        ]
    },
    // GalCulture -------------------------------------------------------------
    {
        label: &quot;W9.1.1&quot;,
        title: &quot;LOOK HERE: I&#39;m waiting for Commander %PLAYERNAME%.&quot;,
        steps: [
            {
                index: 1,
                description: &quot;Hello, I&#39;m %NAME1% and you should have a painting for me.&quot;,
                choice: {
                    &quot;01_GOTO_2&quot;: &quot;\&quot;Yes. &#39;%PAINTING%&#39;. I&#39;m sending it to you.\&quot;&quot;,
                    &quot;99_QUIT&quot;: &quot;Hang up.&quot;
                }
            },
            {
                index: 2,
                description: &quot;I can&#39;t wait to put it in my collection! Thank you, Commander.&quot;,
                choice: {
                    &quot;01_COMPLETE&quot;: &quot;Hang up.&quot;
                }
            }
        ]
    },
    {
        label: &quot;W9.2.2.1&quot;,
        title: &quot;RELOCATION: Waiting for appointee Commander %PLAYERNAME%.&quot;,
        steps: [
            {
                index: 1,
                description: &quot;Hi, I&#39;m %NAME1%. I believe you must transport &#39;%PAINTING%&#39; to the art gallery in %SYSTEM2%, right?&quot;,
                choice: {
                    &quot;01_GOTO_2&quot;: &quot;\&quot;Yes, exactly. %NAME0% has sent me here.\&quot;&quot;,
                    &quot;99_QUIT&quot;: &quot;Hang up.&quot;
                }
            },
            {
                index: 2,
                description: &quot;Ok, I see. I&#39;m taking the painting to your ship. Please be careful.&quot;,
                choice: {
                    &quot;01_NEXTTASK&quot;: &quot;Hang up.&quot;
                }
            }
        ]
    },
    {
        label: &quot;W9.2.2.2&quot;,
        title: &quot;OPENING SOON: Art gallery currently preparing next big painting exposition.&quot;,
        steps: [
            {
                index: 1,
                description: &quot;Hello, I&#39;m %NAME2%, what can I do for you?&quot;,
                choice: {
                    &quot;01_GOTO_2&quot;: &quot;\&quot;I have a painting from %NAME1%, &#39;%PAINTING%&#39;, for the gallery.\&quot;&quot;,
                    &quot;99_QUIT&quot;: &quot;Hang up.&quot;
                }
            },
            {
                index: 2,
                description: &quot;Oh yes, great! We are going to pick it up from your ship. Thanks for your work.&quot;,
                choice: {
                    &quot;01_COMPLETE&quot;: &quot;Hang up.&quot;
                }
            }
        ]
    },
    {
        label: &quot;W9.3.3.1&quot;,
        title: &quot;ART RESTORER: We&#39;ll give a new life to your old precious.&quot;,
        steps: [
            {
                index: 1,
                description: &quot;Hi, I&#39;m %NAME1%. Do you have something you want repaired?&quot;,
                choice: {
                    &quot;01_GOTO_2&quot;: &quot;\&quot;No, thanks. %NAME1% has sent me to pick up a painting: &#39;%PAINTING%&#39;.\&quot;&quot;,
                    &quot;99_QUIT&quot;: &quot;Hang up.&quot;
                }
            },
            {
                index: 2,
                description: &quot;Oh yes, one of my better works. I&#39;ll take it to your ship. Thanks and goodbye.&quot;,
                choice: {
                    &quot;01_NEXTTASK&quot;: &quot;Hang up.&quot;
                }
            }
        ]
    },
    {
        label: &quot;W9.3.3.2&quot;,
        title: &quot;REMINDER: A painting from Commander %PLAYERNAME%&quot;,
        steps: [
            {
                index: 1,
                description: &quot;Welcome back, Commander. Do you have my painting?&quot;,
                choice: {
                    &quot;01_GOTO_2&quot;: &quot;\&quot;Yes, it&#39;s here. I&#39;m sending it to you.\&quot;&quot;,
                    &quot;99_QUIT&quot;: &quot;Hang up.&quot;
                }
            },
            {
                index: 2,
                description: &quot;Ah, a very fine job. Thank you Commander. Goodbye.&quot;,
                choice: {
                    &quot;01_COMPLETE&quot;: &quot;Hang up.&quot;
                }
            }
        ]
    },
    // GalGovernment ----------------------------------------------------------
    {
        label: &quot;W10.1.1&quot;,
        title: null,
        steps: [
            {
                index: 1,
                description: &quot;Yes?&quot;,
                choice: {
                    &quot;01_GOTO_2&quot;: &quot;\&quot;I come from %SYSTEM0%.\&quot; Tell the given passcode.&quot;,
                    &quot;99_QUIT&quot;: &quot;Hang up.&quot;
                }
            },
            {
                index: 2,
                description: &quot;I understand. I know I&#39;m late with my report, but they always think everything is so easy... I&#39;ll send a detailed message very soon. No need to report back. Farewell.&quot;,
                choice: {
                    &quot;01_COMPLETE&quot;: &quot;Hang up.&quot;
                }
            }
        ]
    },
    {
        label: &quot;W10.2.3.1&quot;,
        title: &quot;DIPLOMACY: %SYSTEM0% consulate currently open to the public.&quot;,
        steps: [
            {
                index: 1,
                description: &quot;Hello citizen. What can we do for you?&quot;,
                choice: {
                    &quot;01_GOTO_2&quot;: &quot;\&quot;I was appointed by %SYSTEM0% government to transfer some diplomatic documents to %SYSTEM2%.\&quot;&quot;,
                    &quot;99_QUIT&quot;: &quot;Hang up.&quot;
                }
            },
            {
                index: 2,
                description: &quot;Yes, we received communication. We are sending the documents to you. Thanks citizen. Goodbye.&quot;,
                choice: {
                    &quot;01_NEXTTASK&quot;: &quot;Hang up.&quot;
                }
            }
        ]
    },
    {
        label: &quot;W10.2.3.2&quot;,
        title: &quot;DIPLOMACY: %SYSTEM0% consulate currently open to the public.&quot;,
        steps: [
            {
                index: 1,
                description: &quot;Hello citizen. What can we do for you?&quot;,
                choice: {
                    &quot;01_GOTO_2&quot;: &quot;\&quot;I was appointed by %SYSTEM0% government to transfer some diplomatic documents from %SYSTEM1%.\&quot;&quot;,
                    &quot;99_QUIT&quot;: &quot;Hang up.&quot;
                }
            },
            {
                index: 2,
                description: &quot;Yes, we received communication.&quot;,
                choice: {
                    &quot;01_GOTO_3&quot;: &quot;\&quot;I&#39;m sending the documents to you right now.\&quot;&quot;
                }
            },
            {
                index: 3,
                description: &quot;Thanks citizen. Goodbye.&quot;,
                choice: {
                    &quot;01_COMPLETE&quot;: &quot;Hang up.&quot;
                }
            }
        ]
    },
    {
        label: &quot;W10.3.2.1&quot;,
        title: null,
        steps: [
            {
                index: 1,
                description: &quot;I&#39;m %NAME1% Can I do something for you?&quot;,
                choice: {
                    &quot;01_GOTO_2&quot;: &quot;\&quot;The %SYSTEM0% government has sent me here.\&quot;&quot;,
                    &quot;99_QUIT&quot;: &quot;Hang up.&quot;
                }
            },
            {
                index: 2,
                description: &quot;I understand. I&#39;m sending you the documents. Keep them safe.&quot;,
                choice: {
                    &quot;01_NEXTTASK&quot;: &quot;Hang up.&quot;
                }
            }
        ]
    },
    {
        label: &quot;W10.3.2.2&quot;,
        title: &quot;GOVERNMENT: Front office open for Commander %PLAYERNAME%.&quot;,
        steps: [
            {
                index: 1,
                description: &quot;The stolen dossiers?&quot;,
                choice: {
                    &quot;01_GOTO_2&quot;: &quot;\&quot;Here they are, I&#39;m sending them to you.\&quot;&quot;,
                    &quot;99_QUIT&quot;: &quot;Hang up.&quot;
                }
            },
            {
                index: 2,
                description: &quot;Good service citizen. Your government is proud of you.&quot;,
                choice: {
                    &quot;01_COMPLETE&quot;: &quot;Hang up.&quot;
                }
            }
        ]
    },
    {
        label: &quot;W10.4.8.1&quot;,
        title: &quot;DIPLOMATIC: Waiting for Commander %PLAYERNAME% for the trip back home.&quot;,
        steps: [
            {
                index: 1,
                description: &quot;Hello citizen. We are escorting glorious officer %NAME1% to your ship. We can leave just after.&quot;,
                choice: {
                    &quot;01_NEXTTASK&quot;: &quot;\&quot;Ok.\&quot; and hang up.&quot;,
                    &quot;99_QUIT&quot;: &quot;\&quot;Hold on while I make room.\&quot; then hang up.&quot;
                }
            }
        ]
    },
    {
        label: &quot;W10.4.9.1&quot;,
        title: &quot;NOSTALGIC: Commander %PLAYERNAME%, let&#39;s get back home.&quot;,
        steps: [
            {
                index: 1,
                description: &quot;Hello citizen. I&#39;m %NAME1%. I&#39;m ready to left for %SYSTEM0%, when you&#39;re ready.&quot;,
                choice: {
                    &quot;01_NEXTTASK&quot;: &quot;\&quot;Ok, let&#39;s go.\&quot; and hang up.&quot;,
                    &quot;99_QUIT&quot;: &quot;\&quot;Hold on while I make room.\&quot; then hang up.&quot;
                }
            }
        ]
    }
];

this.missionStore = [
    // GalCop Missions --------------------------------------------------------
    // CONTACT
    {
        groupId: 0,
        index: 1,
        title: &quot;GALCOP: Deliver sensitive info to an agent.&quot;,
        description: &quot;Hello citizen. We need a pilot for the delivery of sensitive informations to our agent %NAME1%, currently in the %SYSTEM1% system. GalCop will pay %REWARD% credits.&quot;,
        choices: &quot;mission&quot;,
        currentTask: 1,
        parcel: &quot;A GalCop information drive&quot;,
        customResponses: {
            money: [ &quot;Just the ordinary GalCop payment.&quot; ]
        },
        tasks: [
            {
                index: 1,
                typeId: 1, // CONTACT
                description: &quot;Go to the %SYSTEM1% system, and deliver sensitive informations to agent %NAME1%.&quot;,
                generate: { systems: 1, names: 1 },
                waitingMission: &quot;W0.1.1&quot;,
                unaware: true
            }
        ]
    },
    {
        groupId: 0,
        index: 2,
        title: &quot;GALCOP: Deliver equipment to an agent.&quot;,
        description: &quot;Hello citizen. Our agent %NAME1%, currently in the %SYSTEM1% system, need some equipment. We do not have transport going that way. GalCop will pay %REWARD% credits.&quot;,
        choices: &quot;mission&quot;,
        currentTask: 1,
        parcel: &quot;A GalCop equipment kit&quot;,
        customResponses: {
            money: [ &quot;Just the ordinary GalCop payment.&quot; ]
        },
        tasks: [
            {
                index: 1,
                typeId: 1, // CONTACT
                description: &quot;Go to the %SYSTEM1% system, and deliver equipment to agent %NAME1%.&quot;,
                generate: { systems: 1, names: 1 },
                waitingMission: &quot;W0.1.2&quot;,
                unaware: true

            }
        ]
    },
    // TRANSFER
    {
        groupId: 0,
        index: 5,
        title: &quot;GALCOP: Courier needed.&quot;,
        description: &quot;Hello citizen, we have agent %NAME1% in the %SYSTEM1% that must transmit important info to agent %NAME2% in %SYSTEM2%. We don&#39;t trust normal comm channels this time, so we resort to a courier. GalCop will pay %REWARD% credits.&quot;,
        choices: &quot;mission&quot;,
        currentTask: 1,
        customResponses: {
            money: [ &quot;Just the ordinary GalCop payment.&quot; ]
        },
        tasks: [
            {
                index: 1,
                typeId: 2, // TRANSFER
                description: &quot;Go to the %SYSTEM1% system and meet with agent %NAME1%. Bring the info to %SYSTEM2%.&quot;,
                generate: { systems: 1, names: 1 },
                parcel: &quot;A GalCop information drive&quot;,
                waitingMission: &quot;W0.2.5.1&quot;
            },
            {
                index: 2,
                typeId: 2, // TRANSFER
                description: &quot;Bring the info to agent %NAME2%, in the %SYSTEM2% system.&quot;,
                generate: { systems: 1, names: 1 },
                waitingMission: &quot;W0.2.5.2&quot;
            }
        ]
    },
    // RETRIEVE
    {
        groupId: 0,
        index: 3,
        title: &quot;GALCOP: A fast ship to retrieve data from an agent.&quot;,
        description: &quot;Hello citizen, we need someone to go to the %SYSTEM1% system and meet our agent %NAME1%. We need the data that will be delivered to you. GalCop will pay %REWARD% credits.&quot;,
        choices: &quot;mission&quot;,
        currentTask: 1,
        customResponses: {
            money: [ &quot;Just the ordinary GalCop payment.&quot; ]
        },
        tasks: [
            {
                index: 1,
                typeId: 3, // RETRIEVE
                description: &quot;Go to the %SYSTEM1% system, meet with agent %NAME1% to pick up the data, and return to %SYSTEM0%.&quot;,
                generate: { systems: 1, names: 1 },
                parcel: &quot;A GalCop information drive&quot;,
                waitingMission: &quot;W0.3.3.1&quot;,
                urgent: true
            },
            {
                index: 2,
                typeId: 3, // RETRIEVE
                description: &quot;Bring back the data to the GalCop officer in the %SYSTEM0% system.&quot;,
                generate: {
                    retrieve: true
                },
                waitingMission: &quot;W0.3.3.2&quot;
            }
        ]
    },
    {
        groupId: 0,
        index: 4,
        title: &quot;GALCOP: Contact an agent and report info.&quot;,
        description: &quot;Hello citizen, we need someone to report us the last informations from our agent %NAME1% in the to the %SYSTEM1% system. GalCop will pay %REWARD% credits.&quot;,
        choices: &quot;mission&quot;,
        currentTask: 1,
        customResponses: {
            money: [ &quot;Just the ordinary GalCop payment.&quot; ]
        },
        tasks: [
            {
                index: 1,
                typeId: 3, // RETRIEVE
                description: &quot;Go to the %SYSTEM1% system and meet with agent %NAME1%. Report to the GalCop officer in the %SYSTEM0% system.&quot;,
                generate: { systems: 1, names: 1 },
                parcel: &quot;A GalCop information drive&quot;,
                waitingMission: &quot;W0.3.4.1&quot;,
                urgent: true
            },
            {
                index: 2,
                typeId: 3, // RETRIEVE
                description: &quot;Report to the GalCop officer in the %SYSTEM0% system.&quot;,
                generate: {
                    retrieve: true
                },
                waitingMission: &quot;W0.3.4.2&quot;
            }
        ]
    },
    // TRANSPORT
    {
        groupId: 0,
        index: 6,
        title: &quot;GALCOP: Transport an agent to another system.&quot;,
        description: &quot;Hello citizen, I need a ship to transport me to the GalCop center in the %SYSTEM1%. GalCop will pay %REWARD% credits.&quot;,
        choices: &quot;transport&quot;,
        currentTask: 1,
        passengers: [ 1 ],
        firstPassenger: 0,
        customResponses: {
            money: [ &quot;Just the ordinary GalCop payment.&quot; ]
        },
        tasks: [
            {
                index: 1,
                typeId: 4, // TRANSPORT
                description: &quot;Bring agent %NAME0% to the %SYSTEM1% system. Remember to check the BBS to get your payment.&quot;,
                generate: { systems: 1 },
                waitingMission: &quot;W0.4&quot;
            }
        ]
    },
    {
        groupId: 0,
        index: 7,
        title: &quot;GALCOP: A ship for an agent relocation.&quot;,
        description: &quot;Hello citizen, we need someone to transport an agent from the GalCop center in the %SYSTEM1% to the one in %SYSTEM2%. GalCop will pay %REWARD% credits.&quot;,
        choices: &quot;transport&quot;,
        currentTask: 1,
        customResponses: {
            money: [ &quot;Just the ordinary GalCop payment.&quot; ]
        },
        tasks: [
            {
                index: 1,
                typeId: 4, // TRANSPORT
                description: &quot;Bring GalCop agent from the %SYSTEM1% system to %SYSTEM2%. Remember to check the BBS to get your payment.&quot;,
                generate: { systems: 1, names: 1 },
                waitingMission: &quot;W0.4.7&quot;,
                passengers: [ 1 ]
            },
            {
                index: 2,
                typeId: 4, // TRANSPORT
                description: &quot;Bring GalCop agent to the %SYSTEM2% system. Remember to check the BBS to get your payment.&quot;,
                generate: { systems: 1 },
                waitingMission: &quot;W0.4&quot;
            }
        ]
    },
    {
        groupId: 0,
        index: 8,
        title: &quot;GALCOP: Bring back an agent to this station.&quot;,
        description: &quot;Hello citizen, we need someone to transport an agent here from the GalCop center in the %SYSTEM1%. GalCop will pay %REWARD% credits.&quot;,
        choices: &quot;transport&quot;,
        currentTask: 1,
        customResponses: {
            money: [ &quot;Just the ordinary GalCop payment.&quot; ]
        },
        tasks: [
            {
                index: 1,
                typeId: 4, // TRANSPORT
                description: &quot;Bring GalCop agent from the %SYSTEM1% system to %SYSTEM0%. Remember to check the BBS to get your payment.&quot;,
                generate: { systems: 1, names: 1 },
                waitingMission: &quot;W0.4.7&quot;,
                passengers: [ 1 ]
            },
            {
                index: 2,
                typeId: 4, // TRANSPORT
                description: &quot;Bring GalCop agent to the %SYSTEM0% system. Remember to check the BBS to get your payment.&quot;,
                generate: {
                    retrieve: true
                },
                waitingMission: &quot;W0.4&quot;
            }
        ]
    },
    {
        groupId: 0,
        index: 9,
        title: &quot;GALCOP: Transport a witness to a trial.&quot;,
        description: &quot;Hello citizen, we need someone to transport an important witness to a trial to be held in the %SYSTEM1%. GalCop will pay %REWARD% credits.&quot;,
        choices: &quot;transport&quot;,
        currentTask: 1,
        passengers: [ 1 ],
        risk: 1,
        customResponses: {
            money: [ &quot;Just the ordinary GalCop payment.&quot; ]
        },
        tasks: [
            {
                index: 1,
                typeId: 4, // TRANSPORT
                description: &quot;Bring witness %NAME0% to the trial in the %SYSTEM1% system. Remember to check the BBS to get your payment.&quot;,
                generate: { systems: 1 },
                waitingMission: &quot;W0.4&quot;
            }
        ]
    },
    {
        groupId: 0,
        index: 10,
        title: &quot;GALCOP: Transport a witness to a trial.&quot;,
        description: &quot;Hello citizen, we need someone to transport an important witness in the %SYSTEM1% system to a trial to be held in %SYSTEM2%. GalCop will pay %REWARD% credits.&quot;,
        choices: &quot;transport&quot;,
        currentTask: 1,
        risk: 1,
        customResponses: {
            money: [ &quot;Just the ordinary GalCop payment.&quot; ]
        },
        tasks: [
            {
                index: 1,
                typeId: 4, // TRANSPORT
                description: &quot;Go to the %SYSTEM1% system to pickup a witness, and bring him to a trial in %SYSTEM2%. Remember to check the BBS to get your payment.&quot;,
                generate: { systems: 1, names: 1 },
                waitingMission: &quot;W0.4.8&quot;,
                passengers: [ 1 ]
            },
            {
                index: 2,
                typeId: 4, // TRANSPORT
                description: &quot;Bring witness %NAME1% to a trial in the %SYSTEM2% system. Remember to check the BBS to get your payment.&quot;,
                generate: { systems: 1 },
                waitingMission: &quot;W0.4&quot;
            }
        ]
    },
    {
        groupId: 0,
        index: 12,
        title: &quot;GALCOP: Emergency transport for an agent.&quot;,
        description: &quot;Hello citizen. An agent needs to be extracted ASAP from the %SYSTEM1% system. You have to transport here where we will transfer him in a secure location. GalCop will pay %REWARD% credits.&quot;,
        choices: &quot;transport&quot;,
        currentTask: 1,
        risk: 2,
        customResponses: {
            money: [ &quot;This is an emergency situation.&quot; ]
        },
        tasks: [
            {
                index: 1,
                typeId: 4, // TRANSPORT
                description: &quot;Bring GalCop agent from the %SYSTEM1% system to %SYSTEM0%. Remember to check the BBS to get your payment.&quot;,
                generate: { systems: 1, names: 1 },
                waitingMission: &quot;W0.4.12.1&quot;,
                urgent: true,
                passengers: [ 1 ]
            },
            {
                index: 2,
                typeId: 4, // TRANSPORT
                description: &quot;Bring GalCop agent to the %SYSTEM0% system. Remember to check the BBS to get your payment.&quot;,
                generate: {
                    retrieve: true
                },
                urgent: true,
                waitingMission: &quot;W0.4&quot;
            }
        ]
    },
    {
        groupId: 0,
        index: 13,
        title: &quot;GALCOP: Help for a political personality.&quot;,
        description: &quot;Hello citizen. We need someone to pick up a dissident politician, %NAME1%, from the %SYSTEM1% system and transport him to %SYSTEM2%. This is an urgent mission, as his government is still searching for him.&quot;,
        choices: &quot;transport&quot;,
        currentTask: 1,
        risk: 1,
        customResponses: {
            money: [ &quot;This is an emergency situation.&quot; ]
        },
        tasks: [
            {
                index: 1,
                typeId: 4, // TRANSPORT
                description: &quot;Bring dissident %NAME1% from the %SYSTEM1% system to %SYSTEM0%. Remember to check the BBS to get your payment.&quot;,
                generate: { systems: 1, names: 1 },
                waitingMission: &quot;W0.4.7&quot;,
                urgent: true,
                passengers: [ 1 ]
            },
            {
                index: 2,
                typeId: 4, // TRANSPORT
                description: &quot;Bring dissident %NAME1% to the %SYSTEM0% system. Remember to check the BBS to get your payment.&quot;,
                generate: {
                    retrieve: true
                },
                urgent: true,
                waitingMission: &quot;W0.4&quot;
            }
        ]
    },
    // CARGO
    {
        groupId: 0,
        index: 11,
        title: &quot;GALCOP: Looking for a ship to transport cargo.&quot;,
        description: &quot;Hello citizen, we need someone to transport a shipment of %GOODS% to the %SYSTEM1% system. GalCop will pay %REWARD% credits.&quot;,
        choices: &quot;cargo&quot;,
        currentTask: 1,
        risk: 1,
        customResponses: {
            money: [ &quot;Just the ordinary GalCop payment.&quot; ]
        },
        tasks: [
            {
                index: 1,
                typeId: 5, // CARGO
                description: &quot;Bring a shipment of %GOODS% to the %SYSTEM1% system. Remember to check the BBS to get your payment.&quot;,
                generate: { systems: 1, goods: 1 },
                waitingMission: &quot;G3&quot;
            }
        ]
    },
    // GalBook Missions -------------------------------------------------------
    // CONTACT
    {
        groupId: 1,
        index: 1,
        title: &quot;NOTICE: Book delivery to another system.&quot;,
        description: &quot;Hi, I&#39;m %NAME0% and I sold &#39;%BOOK%&#39; to %NAME1%, but I have no way to hand over the book. Could you help me? I will pay %REWARD% credits.&quot;,
        choices: &quot;mission&quot;,
        currentTask: 1,
        parcel: &quot;A copy of &#39;%BOOK%&#39;&quot;,
        customResponses: {
            money: [ &quot;These are old books - ancient, I could say.&quot; ]
        },
        tasks: [
            {
                index: 1,
                typeId: 1, // CONTACT
                description: &quot;Go to the %SYSTEM1% system, and deliver &#39;%BOOK%&#39; to %NAME1%.&quot;,
                generate: { systems: 1, names: 1, books: 1 },
                waitingMission: &quot;W1.1.1&quot;
            }
        ]
    },
    // TRANSFER
    {
        groupId: 1,
        index: 3,
        title: &quot;SHIP REQUESTED: A safe transfer for a book.&quot;,
        description: &quot;Hello, I&#39;m %NAME0% and I received a request for a transfer job. %NAME1% in the %SYSTEM1% wants a safe passage for a copy of &#39;%BOOK%&#39; to %NAME2% in %SYSTEM2%. What do you think? I pay %REWARD% credits.&quot;,
        choices: &quot;mission&quot;,
        currentTask: 1,
        customResponses: {
            money: [ &quot;These are old books - ancient, I could say.&quot; ]
        },
        tasks: [
            {
                index: 1,
                typeId: 2, // TRANSFER
                description: &quot;Go to the %SYSTEM1% system and get &#39;%BOOK%&#39; from %NAME1%. Bring the book to %SYSTEM2%.&quot;,
                generate: { systems: 1, names: 1, books: 1 },
                parcel: &quot;A copy of &#39;%BOOK%&#39;&quot;,
                waitingMission: &quot;W1.2.3.1&quot;
            },
            {
                index: 2,
                typeId: 2, // TRANSFER
                description: &quot;Deliver &#39;%BOOK%&#39; to %NAME2% in the %SYSTEM2% system.&quot;,
                generate: { systems: 1, names: 1 },
                waitingMission: &quot;W1.2.3.2&quot;
            }
        ]
    },
    // RETRIEVE
    {
        groupId: 1,
        index: 2,
        title: &quot;SHIP REQUESTED: I need to get back a book.&quot;,
        description: &quot;Hi, I&#39;m %NAME0% and I have bought &#39;%BOOK%&#39; from %NAME1% in the %SYSTEM1% system, but I have no way to get the book. Can you help me? I pay %REWARD% credits.&quot;,
        choices: &quot;mission&quot;,
        currentTask: 1,
        customResponses: {
            money: [ &quot;These are old books - ancient, I could say.&quot; ]
        },
        tasks: [
            {
                index: 1,
                typeId: 3, // RETRIEVE
                description: &quot;Go to the %SYSTEM1% system and get &#39;%BOOK%&#39; from %NAME1%. Return to the %SYSTEM0% system.&quot;,
                generate: { systems: 1, names: 1, books: 1 },
                parcel: &quot;A copy of &#39;%BOOK%&#39;&quot;,
                waitingMission: &quot;W1.3.2.1&quot;
            },
            {
                index: 2,
                typeId: 3, // RETRIEVE
                description: &quot;Bring &#39;%BOOK%&#39; to %NAME0% in the %SYSTEM0% system.&quot;,
                generate: {
                    retrieve: true
                },
                waitingMission: &quot;W1.3.2.2&quot;
            }
        ]
    },
    // CARGO
    {
        groupId: 1,
        index: 4,
        title: &quot;SHIPMENT: Can you transport some stuff?&quot;,
        description: &quot;Hello. I&#39;m %NAME0%. My business needs to send a shipment of %GOODS% to the %SYSTEM1% system. We will pay %REWARD% credits.&quot;,
        choices: &quot;cargo&quot;,
        currentTask: 1,
        customResponses: {
            money: [ &quot;We&#39;re talking about valuable books.&quot; ]
        },
        tasks: [
            {
                index: 1,
                typeId: 5, // CARGO
                description: &quot;Bring a shipment of %GOODS% to the %SYSTEM1% system. Remember to check the BBS to get your payment.&quot;,
                generate: { systems: 1, goods: 1 },
                waitingMission: &quot;G3&quot;
            }
        ]
    },
    // GalChurch Missions -----------------------------------------------------
    // CONTACT
    {
        groupId: 2,
        index: 2,
        title: &quot;INSPIRATION: Contact a wise man to join our Church.&quot;,
        description: &quot;Hello, kindred soul. We know that there is a wise being in the %SYSTEM1% system, under the name %NAME1%. Could you bring our sacred text to him? We would like to invite him to our Church. We will pay you %REWARD% credits for this service.&quot;,
        choices: &quot;mission&quot;,
        currentTask: 1,
        parcel: &quot;A sacred text&quot;,
        customResponses: {
            money: [ &quot;The Church is generous.&quot; ]
        },
        tasks: [
            {
                index: 1,
                typeId: 1, // CONTACT
                description: &quot;Go to the %SYSTEM1% system, and talk to the wise %NAME1%.&quot;,
                generate: { systems: 1, names: 1 },
                waitingMission: &quot;W2.1.2&quot;,
                unaware: true
            }
        ]
    },
    // TRANSFER
    {
        groupId: 2,
        index: 3,
        title: &quot;SACRED: We need a ship to transfer some holy alien artifacts.&quot;,
        description: &quot;Hello, kindred soul. I&#39;m Acolyte %NAME0% and in behalf of the Church I need someone to pickup some holy alien artifacts from Acolyte %NAME1% of the Church of %SYSTEM1%, artifacts that will be transported to Acolyte %NAME2% of the Church of %SYSTEM2%. The church will pay %REWARD% credits.&quot;,
        choices: &quot;mission&quot;,
        currentTask: 1,
        customResponses: {
            money: [ &quot;The Church is generous.&quot; ]
        },
        tasks: [
            {
                index: 1,
                typeId: 2, // TRANSFER
                description: &quot;Go to the %SYSTEM1% system and get the holy alien artifacts from Acolyte %NAME1%. Bring the artifacts to the %SYSTEM2% system.&quot;,
                generate: { systems: 1, names: 1 },
                parcel: &quot;Some alien artifacts&quot;,
                waitingMission: &quot;W2.2.3.1&quot;
            },
            {
                index: 2,
                typeId: 2, // TRANSFER
                description: &quot;Bring the artifacts to Acolyte %NAME2% in the %SYSTEM2% system.&quot;,
                generate: { systems: 1, names: 1 },
                waitingMission: &quot;W2.2.3.2&quot;
            }
        ]
    },
    // RETRIEVE
    {
        groupId: 2,
        index: 1,
        title: &quot;HOLY: We need to transport back some Church material.&quot;,
        description: &quot;Hello, kindred soul. I&#39;m Acolyte %NAME0% and in behalf of the Church I need someone to bring here various materials currently in possession of Acolyte %NAME1% od the Church of %SYSTEM1%. The Church will pay %REWARD% credits for your service.&quot;,
        choices: &quot;mission&quot;,
        currentTask: 1,
        customResponses: {
            money: [ &quot;The Church is generous.&quot; ]
        },
        tasks: [
            {
                index: 1,
                typeId: 3, // RETRIEVE
                description: &quot;Go to the %SYSTEM1% system and get the Church materials from Acolyte %NAME1%. Return to the %SYSTEM0% system.&quot;,
                generate: { systems: 1, names: 1 },
                parcel: &quot;Boxes of religious materials&quot;,
                waitingMission: &quot;W2.3.1.1&quot;
            },
            {
                index: 2,
                typeId: 3, // RETRIEVE
                description: &quot;Bring the Church materials to Acolyte %NAME0% in the %SYSTEM0% system.&quot;,
                generate: {
                    retrieve: true
                },
                waitingMission: &quot;W2.3.1.2&quot;
            }
        ]
    },
    // TRANSPORT
    {
        groupId: 2,
        index: 4,
        title: &quot;SPIRITUAL: An eminent priest is awaited for a religious service.&quot;,
        description: &quot;Hello, kindred soul. I&#39;m Acolyte %NAME0% and in behalf of the Church I need someone to bring Priest %NAME1% to the Church of %SYSTEM1%. The Church will pay %REWARD% credits for your service.&quot;,
        choices: &quot;transport&quot;,
        currentTask: 1,
        passengers: [ 1 ],
        firstPassenger: 1,
        customResponses: {
            money: [ &quot;The Church is generous.&quot; ]
        },
        tasks: [
            {
                index: 1,
                typeId: 4, // TRANSPORT
                description: &quot;Bring Priest %NAME1% to the %SYSTEM1% system. Remember to check the BBS to get your payment.&quot;,
                generate: { systems: 1, names: 1 },
                waitingMission: &quot;W2.4&quot;
            }
        ]
    },
    {
        groupId: 2,
        index: 5,
        title: &quot;SHIP WANTED: A group of missionaries is leaving for another system.&quot;,
        description: &quot;Hello, kindred soul. I&#39;m Acolyte %NAME0% and in behalf of the Church I need someone to bring a group of missionaries to the %SYSTEM1% system. The Church will pay %REWARD% credits for your service.&quot;,
        choices: &quot;transport&quot;,
        currentTask: 1,
        passengers: [ 3, 7 ],
        customResponses: {
            money: [ &quot;The Church is generous.&quot; ]
        },
        tasks: [
            {
                index: 1,
                typeId: 4, // TRANSPORT
                description: &quot;Bring a group of %PASSENGERS% missionaries to the %SYSTEM1% system. Remember to check the BBS to get your payment.&quot;,
                generate: { systems: 1 },
                waitingMission: &quot;W2.4&quot;
            }
        ]
    },
    {
        groupId: 2,
        index: 6,
        title: &quot;SPIRITUAL: An eminent priest is awaited for a religious service.&quot;,
        description: &quot;Hello, kindred soul. I&#39;m Acolyte %NAME0% and in behalf of the Church I need someone to bring Priest %NAME1% from the %SYSTEM1% system to the Church of %SYSTEM2%. The Church will pay %REWARD% credits for your service.&quot;,
        choices: &quot;transport&quot;,
        currentTask: 1,
        customResponses: {
            money: [ &quot;The Church is generous.&quot; ]
        },
        tasks: [
            {
                index: 1,
                typeId: 4, // TRANSPORT
                description: &quot;Bring Priest %NAME1% from the %SYSTEM1% system to %SYSTEM2%. Remember to check the BBS to get your payment.&quot;,
                generate: { systems: 1, names: 1 },
                waitingMission: &quot;W2.4.6&quot;,
                passengers: [ 1 ]
            },
            {
                index: 2,
                typeId: 4, // TRANSPORT
                description: &quot;Bring Priest %NAME1% to the %SYSTEM2% system. Remember to check the BBS to get your payment.&quot;,
                generate: { systems: 1 },
                waitingMission: &quot;W2.4&quot;
            }
        ]
    },
    {
        groupId: 2,
        index: 7,
        title: &quot;TRANSFER: Moving a priest from one church to another.&quot;,
        description: &quot;Hello, kindred soul. I&#39;m Acolyte %NAME0% and in behalf of the Church I need someone to bring Priest %NAME1% from the Church of %SYSTEM1% to the %SYSTEM2% system. The Church will pay %REWARD% credits for your service.&quot;,
        choices: &quot;transport&quot;,
        currentTask: 1,
        customResponses: {
            money: [ &quot;The Church is generous.&quot; ]
        },
        tasks: [
            {
                index: 1,
                typeId: 4, // TRANSPORT
                description: &quot;Bring Priest %NAME1% from the %SYSTEM1% system to %SYSTEM2%. Remember to check the BBS to get your payment.&quot;,
                generate: { systems: 1, names: 1 },
                waitingMission: &quot;W2.4.6&quot;,
                passengers: [ 1 ]
            },
            {
                index: 2,
                typeId: 4, // TRANSPORT
                description: &quot;Bring Priest %NAME1% to the %SYSTEM2% system. Remember to check the BBS to get your payment.&quot;,
                generate: { systems: 1 },
                waitingMission: &quot;W2.4&quot;
            }
        ]
    },
    {
        groupId: 2,
        index: 8,
        title: &quot;PILGRIMAGE: A group of faithful followers needs help.&quot;,
        description: &quot;Hello, kindred soul. I&#39;m Acolyte %NAME0% and in behalf of the Church I need someone to bring a group of followers from the %SYSTEM1% system to a sanctuary in %SYSTEM2%. The Church will pay %REWARD% credits for your service.&quot;,
        choices: &quot;transport&quot;,
        currentTask: 1,
        customResponses: {
            money: [ &quot;The Church is generous.&quot; ]
        },
        tasks: [
            {
                index: 1,
                typeId: 4, // TRANSPORT
                description: &quot;Bring a group of followers from the %SYSTEM1% system to %SYSTEM2%. Remember to check the BBS to get your payment.&quot;,
                generate: { systems: 1, names: 7 },
                waitingMission: &quot;W2.4.8&quot;,
                passengers: [ 3, 7 ]
            },
            {
                index: 2,
                typeId: 4, // TRANSPORT
                description: &quot;Bring a group of followers to the %SYSTEM2% system. Remember to check the BBS to get your payment.&quot;,
                generate: { systems: 1 },
                waitingMission: &quot;W2.4&quot;
            }
        ]
    },
    // GalShady Missions ------------------------------------------------------
    // CONTACT
    {
        groupId: 3,
        index: 1,
        title: &quot;URGENT: We need someone to deliver important data to an affiliate.&quot;,
        description: &quot;Hi. I&#39;m %NAME0%. I need a ship to deliver some... useful data to %NAME1% in the %SYSTEM1% system. The pay is %REWARD% credits.&quot;,
        choices: &quot;mission&quot;,
        parcel: &quot;A unlabeled data drive&quot;,
        currentTask: 1,
        tasks: [
            {
                index: 1,
                typeId: 1, // CONTACT
                description: &quot;Go to the %SYSTEM1% system, and deliver &#39;useful data&#39; to %NAME1%.&quot;,
                generate: { systems: 1, names: 1 },
                waitingMission: &quot;W3.1.1&quot;,
                urgent: true
            }
        ]
    },
    // TRANSFER
    {
        groupId: 3,
        index: 3,
        title: &quot;SWITCH: We need to move something from a system to another.&quot;,
        description: &quot;Hi. I&#39;m %NAME0%. There&#39;s a thing in the %SYSTEM1% that has to be moved somewhere else... Talk to %NAME1% for the details. If you accept, the payment is %REWARD% credits.&quot;,
        choices: &quot;mission&quot;,
        currentTask: 1,
        customResponses: {
            money: [ &quot;It&#39;s better if we do it fast.&quot; ]
        },
        tasks: [
            {
                index: 1,
                typeId: 2, // TRANSFER
                description: &quot;Go to the %SYSTEM1% system and get &#39;the thing&#39; from %NAME1%.&quot;,
                generate: { systems: 1, names: 1 },
                parcel: &quot;A strange package&quot;,
                waitingMission: &quot;W3.2.3.1&quot;,
                urgent: true
            },
            {
                index: 2,
                typeId: 2, // TRANSFER
                description: &quot;Bring &#39;the thing&#39; to %NAME2% in the %SYSTEM2% system.&quot;,
                hideSystemData: true,
                generate: { systems: 1, names: 1 },
                waitingMission: &quot;W3.2.3.2&quot;,
                unaware: true
            }
        ]
    },
    // RETRIEVE
    {
        groupId: 3,
        index: 2,
        title: &quot;JOB OFFER: We need to retrieve a package.&quot;,
        description: &quot;Hi. I&#39;m %NAME0%. There&#39;s a person in the %SYSTEM1% system that must give me something. The name is %NAME1%. Can you retrieve the package for me? I pay %REWARD% credits.&quot;,
        choices: &quot;mission&quot;,
        currentTask: 1,
        customResponses: {
            money: [ &quot;I must have that package back.&quot; ]
        },
        tasks: [
            {
                index: 1,
                typeId: 3, // RETRIEVE
                description: &quot;Go to the %SYSTEM1% system and get the package from %NAME1%. Return to the %SYSTEM0% system.&quot;,
                generate: { systems: 1, names: 1 },
                parcel: &quot;A somewhat trivial package&quot;,
                waitingMission: &quot;W3.3.2.1&quot;,
                unaware: true
            },
            {
                index: 2,
                typeId: 3, // RETRIEVE
                description: &quot;Bring the package to %NAME0% in the %SYSTEM0% system.&quot;,
                generate: {
                    retrieve: true
                },
                waitingMission: &quot;W3.3.2.2&quot;
            }
        ]
    },
    // TRANSPORT
    {
        groupId: 3,
        index: 4,
        title: &quot;URGENT: We need to quickly transport an affiliate away from a system.&quot;,
        description: &quot;Hi. %NAME1% is actually in the %SYSTEM1% system, but he&#39;s in danger and he needs to move away as soon as possible. Destination is %SYSTEM2%. The payment is %REWARD% credits.&quot;,
        choices: &quot;transport&quot;,
        currentTask: 1,
        risk: 2,
        tasks: [
            {
                index: 1,
                typeId: 4, // TRANSPORT
                description: &quot;Bring %NAME1% from the %SYSTEM1% system to %SYSTEM2%. Remember to check the BBS to get your payment.&quot;,
                generate: { systems: 1, names: 1 },
                urgent: true,
                waitingMission: &quot;W3.4.4&quot;,
                passengers: [ 1 ]
            },
            {
                index: 2,
                typeId: 4, // TRANSPORT
                description: &quot;Bring %NAME1% to the %SYSTEM2% system. Remember to check the BBS to get your payment.&quot;,
                generate: { systems: 1 },
                urgent: true,
                waitingMission: &quot;G1&quot;
            }
        ]
    },
    {
        groupId: 3,
        index: 5,
        title: &quot;SHIP REQUESTED: A business trip.&quot;,
        description: &quot;Hi. A group of traders needs a passage from the %SYSTEM1% system to %SYSTEM2%. We will pay %REWARD% credits.&quot;,
        choices: &quot;transport&quot;,
        currentTask: 1,
        risk: 1,
        tasks: [
            {
                index: 1,
                typeId: 4, // TRANSPORT
                description: &quot;Bring a group of traders from the %SYSTEM1% system to %SYSTEM2%. Remember to check the BBS to get your payment.&quot;,
                generate: { systems: 1, names: 7 },
                urgent: true,
                waitingMission: &quot;W3.4.5&quot;,
                passengers: [ 3, 7 ]
            },
            {
                index: 2,
                typeId: 4, // TRANSPORT
                description: &quot;Bring a group of trader to the %SYSTEM2% system. Remember to check the BBS to get your payment.&quot;,
                generate: { systems: 1 },
                urgent: true,
                waitingMission: &quot;G1&quot;
            }
        ]
    },
    {
        groupId: 3,
        index: 9,
        title: &quot;RESCUE: Bring here an affiliate.&quot;,
        description: &quot;Hi, we lost contact with %NAME1% a long ago, but recently he reappeared in the %SYSTEM1%. Could you bring him here? Payment is %REWARD% credits.&quot;,
        choices: &quot;transport&quot;,
        currentTask: 1,
        risk: 1,
        tasks: [
            {
                index: 1,
                typeId: 4, // TRANSPORT
                description: &quot;Bring %NAME1% from the %SYSTEM1% system to %SYSTEM0%. Remember to check the BBS to get your payment.&quot;,
                generate: { systems: 1, names: 1 },
                waitingMission: &quot;W3.4.9.1&quot;,
                passengers: [ 1 ]
            },
            {
                index: 2,
                typeId: 4, // TRANSPORT
                description: &quot;Bring %NAME1% to the %SYSTEM0% system. Remember to check the BBS to get your payment.&quot;,
                generate: {
                    retrieve: true
                },
                waitingMission: &quot;G1&quot;
            }
        ]
    },
    // CARGO
    {
        groupId: 3,
        index: 6,
        title: &quot;SHIP REQUESTED: I need to move stuff.&quot;,
        description: &quot;Hi. I needs to deliver a shipment of %GOODS% to the %SYSTEM1% system. The pay is %REWARD% credits.&quot;,
        choices: &quot;cargo&quot;,
        currentTask: 1,
        risk: 2,
        tasks: [
            {
                index: 1,
                typeId: 5, // CARGO
                description: &quot;Bring a shipment of %GOODS% to the %SYSTEM1% system. Remember to check the BBS to get your payment.&quot;,
                generate: { systems: 1, goods: 1 },
                waitingMission: &quot;G3&quot;
            }
        ]
    },
    {
        groupId: 3,
        index: 7,
        title: &quot;URGENT: I need to regain my goods.&quot;,
        description: &quot;Hi, I have a shipment of %GOODS% in the %SYSTEM1% system and I need someone who will take it here. Are you interested? Payment is %REWARD% credits.&quot;,
        choices: &quot;cargo&quot;,
        currentTask: 1,
        risk: 1,
        tasks: [
            {
                index: 1,
                typeId: 5, // CARGO
                description: &quot;Bring a shipment of %GOODS% from the %SYSTEM1% system to %SYSTEM0%. Remember to check the BBS to get your payment.&quot;,
                generate: { systems: 1, goods: 1 },
                waitingMission: &quot;G3.1&quot;,
                urgent: true
            },
            {
                index: 1,
                typeId: 5, // CARGO
                description: &quot;Bring a shipment of %GOODS% to the %SYSTEM0% system. Remember to check the BBS to get your payment.&quot;,
                generate: { retrieve: true },
                waitingMission: &quot;G3&quot;,
                urgent: true
            }
        ]
    },
    {
        groupId: 3,
        index: 8,
        title: &quot;ONLY INTERESTED: Discreet goods relocation.&quot;,
        description: &quot;Hi, we need someone to relocate a shipment of %GOODS% from the %SYSTEM1% system to %SYSTEM2%. Payment is %REWARD% credits.&quot;,
        choices: &quot;cargo&quot;,
        currentTask: 1,
        customResponses: {
            money: [ &quot;Commercial stuff, we can say.&quot; ]
        },
        risk: 1,
        tasks: [
            {
                index: 1,
                typeId: 5, // CARGO
                description: &quot;Bring a shipment of %GOODS% from the %SYSTEM1% system to %SYSTEM2%. Remember to check the BBS to get your payment.&quot;,
                generate: { systems: 1, goods: 1 },
                waitingMission: &quot;G3.1&quot;
            },
            {
                index: 1,
                typeId: 5, // CARGO
                description: &quot;Bring a shipment of %GOODS% to the %SYSTEM2% system. Remember to check the BBS to get your payment.&quot;,
                generate: { systems: 1 },
                waitingMission: &quot;G3&quot;
            }
        ]
    },
    // GalMedical missions ----------------------------------------------------
    // CONTACT
    {
        groupId: 4,
        index: 1,
        title: &quot;MISSING: Someone to give updates about a medical team.&quot;,
        description: &quot;Hello, I&#39;m %NAME0%. We have no news from our medical team in the %SYSTEM1% system. Could you get in touch with them? Doctor %NAME1% is the team leader. The pay is %REWARD% credits.&quot;,
        choices: &quot;mission&quot;,
        currentTask: 1,
        parcel: &quot;A holomessage drive&quot;,
        customResponses: {
            money: [ &quot;Communication with our teams is essential.&quot; ]
        },
        tasks: [
            {
                index: 1,
                typeId: 1, // CONTACT
                description: &quot;Go to the %SYSTEM1% system, and find Doctor %NAME1%.&quot;,
                generate: { systems: 1, names: 1 },
                waitingMission: &quot;W4.1.1&quot;,
                unaware: true
            }
        ]
    },
    {
        groupId: 4,
        index: 2,
        title: &quot;MISSING: Someone to give updates about a research group.&quot;,
        description: &quot;Hello, I&#39;m %NAME0%. We have no news from our research group in the %SYSTEM1% system. Could you get in touch with them? %NAME1% is the lead researcher. The pay is %REWARD% credits.&quot;,
        choices: &quot;mission&quot;,
        currentTask: 1,
        parcel: &quot;A holomessage drive&quot;,
        customResponses: {
            money: [ &quot;Communication with our teams is essential.&quot; ]
        },
        tasks: [
            {
                index: 1,
                typeId: 1, // CONTACT
                description: &quot;Go to the %SYSTEM1% system, and find the lead researcher %NAME1%.&quot;,
                generate: { systems: 1, names: 1 },
                waitingMission: &quot;W4.1.2&quot;,
                unaware: true
            }
        ]
    },
    {
        groupId: 4,
        index: 3,
        title: &quot;MISSING: Someone to give updates about an emergency team.&quot;,
        description: &quot;Hello, I&#39;m %NAME0%. We have no news from our emergency team in the %SYSTEM1% system. Could you get in touch with them? Doctor %NAME1% is the head of the team. The pay is %REWARD% credits.&quot;,
        choices: &quot;mission&quot;,
        currentTask: 1,
        customResponses: {
            money: [ &quot;Communication with our teams is essential.&quot; ]
        },
        tasks: [
            {
                index: 1,
                typeId: 1, // CONTACT
                description: &quot;Go to the %SYSTEM1% system, and find the Doctor %NAME1%.&quot;,
                generate: { systems: 1, names: 1 },
                waitingMission: &quot;W4.1.1&quot;,
                unaware: true
            }
        ]
    },
    // TRANSFER
    {
        groupId: 4,
        index: 5,
        title: &quot;URGENT: A fast ship for transport of rare donor blood.&quot;,
        description: &quot;Hi, I&#39;m Doctor %NAME1%. We have an emergency at a hospital on %SYSTEM2%. We need someone who can pick up a special donor blood type from %SYSTEM1% and bring to the hospital. The pay is %REWARD% credits.&quot;,
        choices: &quot;mission&quot;,
        currentTask: 1,
        customResponses: {
            money: [ &quot;It&#39;s an urgent matter.&quot; ]
        },
        tasks: [
            {
                index: 1,
                typeId: 2, // TRANSFER
                description: &quot;Go to the %SYSTEM1% system and get the donor blood from Doctor %NAME1%. Transport the blood to %SYSTEM2%.&quot;,
                generate: { systems: 1, names: 1 },
                parcel: &quot;Special donor blood bags&quot;,
                waitingMission: &quot;W4.2.5.1&quot;,
                urgent: true
            },
            {
                index: 2,
                typeId: 2, // TRANSFER
                description: &quot;Bring the donor blood to Doctor %NAME2% in the %SYSTEM2% system.&quot;,
                generate: { systems: 1, names: 1 },
                waitingMission: &quot;W4.2.5.2&quot;,
                urgent: true
            }
        ]
    },
    // RETRIEVE
    {
        groupId: 4,
        index: 4,
        title: &quot;SHIP REQUESTED: We need clinical records from another system.&quot;,
        description: &quot;Hello, I&#39;m Doctor %NAME0% and I need someone to bring me back some boxes of documents that have been left to Doctor %NAME1% in the %SYSTEM1% system. I will pay %REWARD% credits.&quot;,
        choices: &quot;mission&quot;,
        currentTask: 1,
        customResponses: {
            money: [ &quot;It&#39;s nothing special, really.&quot; ]
        },
        tasks: [
            {
                index: 1,
                typeId: 3, // RETRIEVE
                description: &quot;Go to the %SYSTEM1% system and get the documents from Doctor %NAME1%. Return to the %SYSTEM0% system.&quot;,
                generate: { systems: 1, names: 1 },
                parcel: &quot;Boxes full of medical papers&quot;,
                waitingMission: &quot;W4.3.4.1&quot;
            },
            {
                index: 2,
                typeId: 3, // RETRIEVE
                description: &quot;Bring the documents to Doctor %NAME0% in the %SYSTEM0% system.&quot;,
                generate: {
                    retrieve: true
                },
                waitingMission: &quot;W4.3.4.2&quot;
            }
        ]
    },
    // TRANSPORT
    {
        groupId: 4,
        index: 6,
        title: &quot;EMERGENCY: Fast travel for a medic.&quot;,
        description: &quot;Hello, I&#39;m Doctor %NAME0% and I need to go quickly to the %SYSTEM1% system. I have to help other teams to contain a viral epidemic. I will pay %REWARD% credits.&quot;,
        choices: &quot;transport&quot;,
        currentTask: 1,
        passengers: [ 1 ],
        firstPassenger: 0,
        customResponses: {
            money: [ &quot;It&#39;s an urgent matter.&quot; ]
        },
        tasks: [
            {
                index: 1,
                typeId: 4, // TRANSPORT
                description: &quot;Bring Doctor %NAME0% to the %SYSTEM1% system as quickly as you can. Remember to check the BBS to get your payment.&quot;,
                generate: { systems: 1 },
                urgent: true,
                waitingMission: &quot;G1&quot;
            }
        ]
    },
    {
        groupId: 4,
        index: 7,
        title: &quot;SHIP REQUESTED: Transport for a medical team.&quot;,
        description: &quot;Hello, I&#39;m Doctor %NAME0%. I&#39;m looking for someone to transport me and my team to the %SYSTEM1% system. I will pay %REWARD% credits.&quot;,
        choices: &quot;transport&quot;,
        currentTask: 1,
        passengers: [ 3, 7 ],
        firstPassenger: 0,
        customResponses: {
            money: [ &quot;The soon we go, the better.&quot; ]
        },
        tasks: [
            {
                index: 1,
                typeId: 4, // TRANSPORT
                description: &quot;Bring Doctor %NAME0% and his team (%PASSENGERS% people) to the %SYSTEM1% system. Remember to check the BBS to get your payment.&quot;,
                generate: { systems: 1 },
                waitingMission: &quot;G1&quot;
            }
        ]
    },
    {
        groupId: 4,
        index: 8,
        title: &quot;SHIP REQUESTED: Transport for a research team.&quot;,
        description: &quot;Hello, I&#39;m Doctor %NAME0%. I&#39;m looking for someone to transport me and my team to the %SYSTEM1% system. I will pay %REWARD% credits.&quot;,
        choices: &quot;transport&quot;,
        currentTask: 1,
        passengers: [ 3, 7 ],
        firstPassenger: 0,
        customResponses: {
            money: [ &quot;The soon we go, the better.&quot; ]
        },
        tasks: [
            {
                index: 1,
                typeId: 4, // TRANSPORT
                description: &quot;Bring Doctor %NAME0% and his team (%PASSENGERS% people) to the %SYSTEM1% system. Remember to check the BBS to get your payment.&quot;,
                generate: { systems: 1 },
                waitingMission: &quot;G1&quot;
            }
        ]
    },
    {
        groupId: 4,
        index: 11,
        title: &quot;EMERGENCY: Need transport for a sick %RACE%.&quot;,
        description: &quot;Hello citizen, I&#39;m Doctor %NAME0%. There&#39;s a sick %RACE% in the %SYSTEM1% that needs vital cures that we only can provide in our structures. You must pick him up and return back here as fast as possible. His sickness isn&#39;t contagious. We will pay you %REWARD% credits.&quot;,
        choices: &quot;transport&quot;,
        currentTask: 1,
        failureDead: true,
        customResponses: {
            money: [ &quot;It&#39;s an emergency.&quot; ]
        },
        tasks: [
            {
                index: 1,
                typeId: 4, // TRANSPORT
                description: &quot;Bring thw sick %RACE% from the %SYSTEM1% system to %SYSTEM0%. Remember to check the BBS to get your payment.&quot;,
                generate: { systems: 1, names: 1, races: 1 },
                waitingMission: &quot;W4.4.11.1&quot;,
                urgent: true,
                passengers: [ 1 ]
            },
            {
                index: 2,
                typeId: 4, // TRANSPORT
                description: &quot;Bring the sick %RACE% to the %SYSTEM0% system. Remember to check the BBS to get your payment.&quot;,
                generate: {
                    retrieve: true
                },
                urgent: true,
                waitingMission: &quot;W4.4.11.2&quot;
            }
        ]
    },
    {
        groupId: 4,
        index: 12,
        title: &quot;EMERGENCY: Need transport for a sick %RACE%.&quot;,
        description: &quot;Hello citizen, I&#39;m Doctor %NAME0%. We have a sick %RACE% that we need to move in a specialized hospital in the %SYSTEM1%. His sickness isn&#39;t contagious. We will pay you %REWARD% credits.&quot;,
        choices: &quot;transport&quot;,
        currentTask: 1,
        passengers: [ 1 ],
        firstPassenger: 1,
        customResponses: {
            money: [ &quot;It&#39;s an emergency.&quot; ]
        },
        tasks: [
            {
                index: 1,
                typeId: 4, // TRANSPORT
                description: &quot;Bring thw sick %RACE% to the %SYSTEM1% system. Remember to check the BBS to get your payment.&quot;,
                generate: { systems: 1, races: 1 },
                urgent: true,
                waitingMission: &quot;W4.4.11.2&quot;
            }
        ]
    },
    {
        groupId: 4,
        index: 13,
        title: &quot;SHIP REQUESTED: Bring back a medic.&quot;,
        description: &quot;Hello, I&#39;m Doctor %NAME0%. Doctor %NAME1% has completed a series of emergency visits and needs someone to get back on %SYSTEM0%. I will pay %REWARD% credits.&quot;,
        choices: &quot;transport&quot;,
        currentTask: 1,
        customResponses: {
            money: [ &quot;Nothing special, really.&quot; ]
        },
        tasks: [
            {
                index: 1,
                typeId: 4, // TRANSPORT
                description: &quot;Go to the %SYSTEM1% system and bring back Doctor %NAME% to %SYSTEM0%. Remember to check the BBS to get your payment.&quot;,
                generate: { systems: 1, names: 1 },
                waitingMission: &quot;G4&quot;,
                passengers: [ 1 ]
            },
            {
                index: 2,
                typeId: 4, // TRANSPORT
                description: &quot;Bring back Doctor %NAME% to the %SYSTEM0% system. Remember to check the BBS to get your payment.&quot;,
                generate: {
                    retrieve: true
                },
                waitingMission: &quot;G1&quot;
            }
        ]
    },
    {
        groupId: 4,
        index: 14,
        title: &quot;SHIP REQUESTED: Bring back a medical team.&quot;,
        description: &quot;Hello, I&#39;m Doctor %NAME0%. I&#39;m looking for someone to transport here a medical team from the %SYSTEM1% system. Doctor %NAME1% is the team leader. I will pay %REWARD% credits.&quot;,
        choices: &quot;transport&quot;,
        currentTask: 1,
        customResponses: {
            money: [ &quot;The team has completed its work, and needs to get back home.&quot; ]
        },
        tasks: [
            {
                index: 1,
                typeId: 4, // TRANSPORT
                description: &quot;Bring Doctor %NAME1% and his medical team (%PASSENGERS% people) from the %SYSTEM1% system to %SYSTEM0%. Remember to check the BBS to get your payment.&quot;,
                generate: { systems: 1, names: 7 },
                waitingMission: &quot;G4&quot;,
                passengers: [ 3, 7 ]
            },
            {
                index: 2,
                typeId: 4, // TRANSPORT
                description: &quot;Bring Doctor %NAME1% and his medical team (%PASSENGERS% people) to the %SYSTEM0% system. Remember to check the BBS to get your payment.&quot;,
                generate: {
                    retrieve: true
                },
                waitingMission: &quot;G1&quot;
            }
        ]
    },
    {
        groupId: 4,
        index: 15,
        title: &quot;SHIP REQUESTED: Bring back a research team.&quot;,
        description: &quot;Hello, I&#39;m Doctor %NAME0%. I&#39;m looking for someone to transport here the research team of Doctor %NAME1% from the %SYSTEM1% system. I will pay %REWARD% credits.&quot;,
        choices: &quot;transport&quot;,
        currentTask: 1,
        customResponses: {
            money: [ &quot;The team has completed its studies and we need the data.&quot; ]
        },
        tasks: [
            {
                index: 1,
                typeId: 4, // TRANSPORT
                description: &quot;Bring Doctor %NAME1% and his research team (%PASSENGERS% people) from the %SYSTEM1% system to %SYSTEM0%. Remember to check the BBS to get your payment.&quot;,
                generate: { systems: 1, names: 7 },
                waitingMission: &quot;G4&quot;,
                passengers: [ 3, 7 ]
            },
            {
                index: 2,
                typeId: 4, // TRANSPORT
                description: &quot;Bring Doctor %NAME1% and his research team (%PASSENGERS% people) to the %SYSTEM0% system. Remember to check the BBS to get your payment.&quot;,
                generate: {
                    retrieve: true
                },
                waitingMission: &quot;G1&quot;
            }
        ]
    },
    // CARGO
    {
        groupId: 4,
        index: 9,
        title: &quot;SHIPMENT: Need ship for transporting medical equipment.&quot;,
        description: &quot;Hello. I&#39;m %NAME0%. We are going to deliver a shipment of %GOODS% to the %SYSTEM1% system. We will pay %REWARD% credits.&quot;,
        choices: &quot;cargo&quot;,
        currentTask: 1,
        customResponses: {
            money: [ &quot;People lives depend on this.&quot; ]
        },
        tasks: [
            {
                index: 1,
                typeId: 5, // CARGO
                description: &quot;Bring a shipment of %GOODS% to the %SYSTEM1% system. Remember to check the BBS to get your payment.&quot;,
                generate: { systems: 1, goods: 1 },
                waitingMission: &quot;G3&quot;
            }
        ]
    },
    {
        groupId: 4,
        index: 10,
        title: &quot;URGENT: We need this stuff as soon as possible!&quot;,
        description: &quot;Hello, I&#39;m Doctor %NAME0%. There&#39;s shipment of %GOODS% from the %SYSTEM1% that we need quickly. If you accept, we will pay you %REWARD% credits.&quot;,
        choices: &quot;cargo&quot;,
        currentTask: 1,
        customResponses: {
            money: [ &quot;Timing is essential.&quot; ]
        },
        tasks: [
            {
                index: 1,
                typeId: 5, // CARGO
                description: &quot;Bring a shipment of %GOODS% from the %SYSTEM1% system to %SYSTEM0%. Remember to check the BBS to get your payment.&quot;,
                generate: { systems: 1, goods: 1 },
                urgent: true,
                waitingMission: &quot;G3.1&quot;
            },
            {
                index: 1,
                typeId: 5, // CARGO
                description: &quot;Bring a shipment of %GOODS% to the %SYSTEM0% system. Remember to check the BBS to get your payment.&quot;,
                generate: { retrieve: true },
                urgent: true,
                waitingMission: &quot;G3&quot;
            }
        ]
    },
    // GalCivic missions ------------------------------------------------------
    // CONTACT
    {
        groupId: 5,
        index: 1,
        title: &quot;WANTED: A ship to deliver a package.&quot;,
        description: &quot;Hello, I&#39;m %NAME0%. I need a ship to deliver a package to %NAME1% in the %SYSTEM1% system. The pay is %REWARD% credits.&quot;,
        choices: &quot;mission&quot;,
        currentTask: 1,
        parcel: &quot;A package&quot;,
        customResponses: {
            money: [ &quot;[litf_missionResponseMoneyParcel]&quot; ] // this.litf_missionResponseMoneyParcel
        },
        tasks: [
            {
                index: 1,
                typeId: 1, // CONTACT
                description: &quot;Go to the %SYSTEM1% system, and deliver a package to %NAME1%.&quot;,
                generate: { systems: 1, names: 1 },
                waitingMission: &quot;W5.1.1&quot;
            }
        ]
    },
    {
        groupId: 5,
        index: 2,
        title: &quot;NEED HELP: I wish for some news from my family.&quot;,
        description: &quot;Hi, I&#39;m %NAME0% and I had no news of my family lately. Can you help me? You should looking for %NAME1%, a relative of mine. I&#39;ll pay %REWARD% credits for this.&quot;,
        choices: &quot;mission&quot;,
        parcel: &quot;A holomessage player&quot;,
        currentTask: 1,
        tasks: [
            {
                index: 1,
                typeId: 1, // CONTACT
                description: &quot;Go to the %SYSTEM1% system, and look for %NAME1%.&quot;,
                generate: { systems: 1, names: 1 },
                waitingMission: &quot;W5.1.2&quot;,
                unaware: true
            }
        ]
    },
    // TRANSFER

    // RETRIEVE
    {
        groupId: 5,
        index: 3,
        title: &quot;TAKE BACK: I forgotten %ITEM% in another system.&quot;,
        description: &quot;Hi, I&#39;m %NAME0%, and I left %ITEM% in the %SYSTEM1% system. You can ask to my friend %NAME1% there. I&#39;ll pay %REWARD% credits.&quot;,
        choices: &quot;mission&quot;,
        currentTask: 1,
        customResponses: {
            money: [ &quot;Sentimental value.&quot; ]
        },
        tasks: [
            {
                index: 1,
                typeId: 3, // RETRIEVE
                description: &quot;Go to the %SYSTEM1% system and get %ITEM% from %NAME1%. Return to the %SYSTEM0% system.&quot;,
                generate: { systems: 1, names: 1, items: 1 },
                parcel: &quot;%ITEM%&quot;,
                waitingMission: &quot;W5.3.3.1&quot;
            },
            {
                index: 2,
                typeId: 3, // RETRIEVE
                description: &quot;Return %ITEM% to %NAME0% in the %SYSTEM0% system.&quot;,
                generate: {
                    retrieve: true
                },
                waitingMission: &quot;W5.3.3.2&quot;
            }
        ]
    },
    // TRANSPORT
    {
        groupId: 5,
        index: 4,
        title: &quot;TAXI JOB: Ship for one.&quot;,
        description: &quot;Hello, I&#39;m %NAME0%. I need to go to the %SYSTEM1% system. I will pay %REWARD% credits.&quot;,
        choices: &quot;transport&quot;,
        currentTask: 1,
        passengers: [ 1 ],
        firstPassenger: 0,
        customResponses: {
            money: [ &quot;[litf_missionResponseMoneyPassenger]&quot; ]
        },
        tasks: [
            {
                index: 1,
                typeId: 4, // TRANSPORT
                description: &quot;Bring %NAME0% to the %SYSTEM1% system. Remember to check the BBS to get your payment.&quot;,
                generate: { systems: 1 },
                waitingMission: &quot;G1&quot;
            }
        ]
    },
    {
        groupId: 5,
        index: 5,
        title: &quot;TAXI JOB: Ship for a group.&quot;,
        description: &quot;Hello, I&#39;m %NAME0%. Me and my friends need to go to the %SYSTEM1% system. I will pay %REWARD% credits.&quot;,
        choices: &quot;transport&quot;,
        currentTask: 1,
        passengers: [ 3, 7 ],
        firstPassenger: 0,
        customResponses: {
            money: [ &quot;[litf_missionResponseMoneyGroup]&quot; ]
        },
        tasks: [
            {
                index: 1,
                typeId: 4, // TRANSPORT
                description: &quot;Bring %PASSENGERS% people to the %SYSTEM1% system. Remember to check the BBS to get your payment.&quot;,
                generate: { systems: 1 },
                waitingMission: &quot;G1&quot;
            }
        ]
    },
    {
        groupId: 5,
        index: 8,
        title: &quot;DISCRETION: Need a passage for a person.&quot;,
        description: &quot;Hello, I&#39;m %NAME0%. My friend %NAME1% needs a ship to go from the %SYSTEM1% system to %SYSTEM2%. He is a little paranoid about someone following him. If you accept, the payment is %REWARD%.&quot;,
        choices: &quot;transport&quot;,
        currentTask: 1,
        risk: 1,
        customResponses: {
            money: [ &quot;I hope this guarantee a safe passage.&quot; ]
        },
        tasks: [
            {
                index: 1,
                typeId: 4, // TRANSPORT
                description: &quot;Bring %NAME1% from the %SYSTEM1% system to %SYSTEM2%. Remember to check the BBS to get your payment.&quot;,
                generate: { systems: 1, names: 1 },
                waitingMission: &quot;W5.4.8.1&quot;,
                passengers: [ 1 ]
            },
            {
                index: 2,
                typeId: 4, // TRANSPORT
                description: &quot;Bring %NAME1% to the %SYSTEM2% system. Remember to check the BBS to get your payment.&quot;,
                generate: { systems: 1 },
                waitingMission: &quot;G1&quot;
            }
        ]
    },
    {
        groupId: 5,
        index: 9,
        title: &quot;DISCRETION: Need to transport someone here.&quot;,
        description: &quot;Hello, I&#39;m %NAME0%. My friend %NAME1% needs a ship to come here from the %SYSTEM1% system. He is a little paranoid about someone following him. If you accept, the payment is %REWARD%.&quot;,
        choices: &quot;transport&quot;,
        currentTask: 1,
        risk: 1,
        customResponses: {
            money: [ &quot;I hope this guarantee a safe passage.&quot; ]
        },
        tasks: [
            {
                index: 1,
                typeId: 4, // TRANSPORT
                description: &quot;Bring %NAME1% from the %SYSTEM1% system to %SYSTEM0%. Remember to check the BBS to get your payment.&quot;,
                generate: { systems: 1, names: 1 },
                waitingMission: &quot;W5.4.8.1&quot;,
                passengers: [ 1 ]
            },
            {
                index: 2,
                typeId: 4, // TRANSPORT
                description: &quot;Bring %NAME1% to the %SYSTEM0% system. Remember to check the BBS to get your payment.&quot;,
                generate: {
                    retrieve: true
                },
                waitingMission: &quot;G1&quot;
            }
        ]
    },
    // CARGO
    {
        groupId: 5,
        index: 6,
        title: &quot;CARGO: Help me moving stuff.&quot;,
        description: &quot;Hello. I&#39;m %NAME0%. I need to deliver a shipment of %GOODS% to the %SYSTEM1% system. We will pay %REWARD% credits.&quot;,
        choices: &quot;cargo&quot;,
        currentTask: 1,
        customResponses: {
            money: [ &quot;Nothing special, really.&quot; ]
        },
        tasks: [
            {
                index: 1,
                typeId: 5, // CARGO
                description: &quot;Bring a shipment of %GOODS% to the %SYSTEM1% system. Remember to check the BBS to get your payment.&quot;,
                generate: { systems: 1, goods: 1 },
                waitingMission: &quot;G3&quot;
            }
        ]
    },
    {
        groupId: 5,
        index: 7,
        title: &quot;HELP: I need someone to regain a bunch of stuff.&quot;,
        description: &quot;Hello, I&#39;m %NAME0%. I had a shipment of %GOODS% that has been blocked in the %SYSTEM1% system. Now I can retake it but I don&#39;t have a ship. Can you do it for me? I&#39;ll pay you %REWARD% credits.&quot;,
        choices: &quot;cargo&quot;,
        currentTask: 1,
        customResponses: {
            money: [ &quot;I don&#39;t want to lose more credits.&quot; ]
        },
        tasks: [
            {
                index: 1,
                typeId: 5, // CARGO
                description: &quot;Bring a shipment of %GOODS% from the %SYSTEM1% system to %SYSTEM0%. Remember to check the BBS to get your payment.&quot;,
                generate: { systems: 1, goods: 1 },
                waitingMission: &quot;G3.1&quot;
            },
            {
                index: 1,
                typeId: 5, // CARGO
                description: &quot;Bring a shipment of %GOODS% to the %SYSTEM0% system. Remember to check the BBS to get your payment.&quot;,
                generate: { retrieve: true },
                waitingMission: &quot;G3&quot;
            }
        ]
    },
    // GalTourism missions ----------------------------------------------------
    // CONTACT
    {
        groupId: 6,
        index: 1,
        title: &quot;URGENT: Need to cancel a booking.&quot;,
        description: &quot;Hello, I&#39;m %NAME0%. I had some issue and I have to cancel a booking for a room at the DeLuxor hotel in %SYSTEM1%, but I can&#39;t reach the customer care. Can you go and cancel the booking at the hotel reception? I&#39;ll give you the necessary documents. %REWARD% credits for the job.&quot;,
        choices: &quot;mission&quot;,
        currentTask: 1,
        parcel: &quot;A folder of documents&quot;,
        customResponses: {
            money: [ &quot;We want to attend this matter without wasting other time.&quot; ]
        },
        tasks: [
            {
                index: 1,
                typeId: 1, // CONTACT
                description: &quot;Go to the %SYSTEM1% system, and cancel %NAME0% booking to the DeLuxor hotel.&quot;,
                generate: { systems: 1, names: 1 },
                waitingMission: &quot;W6.1.1&quot;,
                unaware: true
            }
        ]
    },
    // TRANSFER
    {
        groupId: 6,
        index: 2,
        title: &quot;HELP NEEDED: Someone to transfer baggage misdirected at another system.&quot;,
        description: &quot;Hi, I&#39;m %NAME1%. Because of a travel agency mistake, my friend %NAME2% baggage is currently at the wrong system. You should go to the %SYSTEM1% system and bring the baggage to %SYSTEM2%. I&#39;ll give you my friend documents for the reclamation process. The pay is %REWARD% credits.&quot;,
        choices: &quot;mission&quot;,
        currentTask: 1,
        customResponses: {
            money: [ &quot;My friend wants to recover his things as soon as possible.&quot; ]
        },
        tasks: [
            {
                index: 1,
                typeId: 2, // TRANSFER
                description: &quot;Go to the %SYSTEM1% system, get %NAME2% baggage and bring it to %SYSTEM2%.&quot;,
                generate: { systems: 1, names: 1 },
                parcel: &quot;A bunch of baggages and trolleys&quot;,
                waitingMission: &quot;W6.2.2.1&quot;,
                unaware: true
            },
            {
                index: 2,
                typeId: 2, // TRANSFER
                description: &quot;Bring %NAME2% baggage to the %SYSTEM2% system.&quot;,
                generate: { systems: 1, names: 1 },
                waitingMission: &quot;W6.2.2.2&quot;
            }
        ]
    },
    // RETRIEVE
    {
        groupId: 6,
        index: 3,
        title: &quot;HELP NEEDED: Someone to recover baggage misdirected at another system.&quot;,
        description: &quot;Hi, I&#39;m %NAME1%. Because of a travel agency mistake, my baggage is currently at the wrong system. You should go to the %SYSTEM1% system and bring back the baggage to me. I&#39;ll give you the documents for the reclamation process. The pay is %REWARD% credits.&quot;,
        choices: &quot;mission&quot;,
        currentTask: 1,
        customResponses: {
            money: [ &quot;I want to recover my things as soon as possible.&quot; ]
        },
        tasks: [
            {
                index: 1,
                typeId: 3, // RETRIEVE
                description: &quot;Go to the %SYSTEM1% system, get %NAME0% baggage and bring it back to %SYSTEM0%.&quot;,
                generate: { systems: 1, names: 1 },
                parcel: &quot;A bunch of baggages and trolleys&quot;,
                waitingMission: &quot;W6.3.3.1&quot;,
                unaware: true
            },
            {
                index: 2,
                typeId: 3, // RETRIEVE
                description: &quot;Bring %NAME0% baggage back to the %SYSTEM0% system.&quot;,
                generate: {
                    retrieve: true
                },
                waitingMission: &quot;W6.3.3.2&quot;
            }
        ]
    },
    // TRANSPORT
    {
        groupId: 6,
        index: 4,
        title: &quot;HELP US: Group of stranded tourists without passage.&quot;,
        description: &quot;Hello, we are a group of tourist and we have lost the travel agency ship for our Hotel in the %SYSTEM1% system. Can you bring us there? I will pay %REWARD% credits.&quot;,
        choices: &quot;transport&quot;,
        currentTask: 1,
        passengers: [ 3, 7 ],
        firstPassenger: 0,
        customResponses: {
            money: [ &quot;[litf_missionResponseMoneyGroup]&quot; ]
        },
        tasks: [
            {
                index: 1,
                typeId: 4, // TRANSPORT
                description: &quot;Bring %PASSENGERS% people to the %SYSTEM1% system. Remember to check the BBS to get your payment.&quot;,
                generate: { systems: 1 },
                waitingMission: &quot;W6.4&quot;
            }
        ]
    },
    // CARGO
    {
        groupId: 6,
        index: 5,
        title: &quot;DELUXOR: We need to deliver materials.&quot;,
        description: &quot;Hello. I&#39;m %NAME0%. We are going to deliver a shipment of %GOODS% to the %SYSTEM1% system. We will pay %REWARD% credits.&quot;,
        choices: &quot;cargo&quot;,
        currentTask: 1,
        customResponses: {
            money: [ &quot;This stuff goes to a DeLuxor hotel.&quot; ]
        },
        tasks: [
            {
                index: 1,
                typeId: 5, // CARGO
                description: &quot;Bring a shipment of %GOODS% to the %SYSTEM1% system. Remember to check the BBS to get your payment.&quot;,
                generate: { systems: 1, goods: 1 },
                waitingMission: &quot;G3&quot;
            }
        ]
    },
    {
        groupId: 6,
        index: 6,
        title: &quot;DELUXOR: Someone to deliver us materials.&quot;,
        description: &quot;Hello, I&#39;m %NAME0%. We need a shipment of %GOODS% from the %SYSTEM1%. We pay %REWARD% credits.&quot;,
        choices: &quot;cargo&quot;,
        currentTask: 1,
        customResponses: {
            money: [ &quot;We need this shipment for a DeLuxor hotel.&quot; ]
        },
        tasks: [
            {
                index: 1,
                typeId: 5, // CARGO
                description: &quot;Bring a shipment of %GOODS% from the %SYSTEM1% system to %SYSTEM0%. Remember to check the BBS to get your payment.&quot;,
                generate: { systems: 1, goods: 1 },
                waitingMission: &quot;G3.1&quot;
            },
            {
                index: 1,
                typeId: 5, // CARGO
                description: &quot;Bring a shipment of %GOODS% to the %SYSTEM0% system. Remember to check the BBS to get your payment.&quot;,
                generate: { retrieve: true },
                waitingMission: &quot;G3&quot;
            }
        ]
    },
    // GalShopping missions ---------------------------------------------------
    // CONTACT

    // TRANSFER

    // RETRIEVE

    // TRANSPORT

    // CARGO
    {
        groupId: 7,
        index: 1,
        title: &quot;COMMERCIAL: Need a ship to deliver cargo to another system.&quot;,
        description: &quot;Hello. I&#39;m %NAME0%. My business needs to send a shipment of %GOODS% to the %SYSTEM1% system. We will pay %REWARD% credits.&quot;,
        choices: &quot;cargo&quot;,
        currentTask: 1,
        customResponses: {
            money: [ &quot;It&#39;s a simple commercial trip.&quot; ]
        },
        tasks: [
            {
                index: 1,
                typeId: 5, // CARGO
                description: &quot;Bring a shipment of %GOODS% to the %SYSTEM1% system. Remember to check the BBS to get your payment.&quot;,
                generate: { systems: 1, goods: 1 },
                waitingMission: &quot;G3&quot;
            }
        ]
    },
    {
        groupId: 7,
        index: 2,
        title: &quot;COMMERCIAL: Need a ship to deliver cargo.&quot;,
        description: &quot;Hello. I&#39;m %NAME0%. My business needs to send a shipment of %GOODS% from the %SYSTEM1% system to %SYSTEM2%. We will pay %REWARD% credits.&quot;,
        choices: &quot;cargo&quot;,
        currentTask: 1,
        customResponses: {
            money: [ &quot;It&#39;s a simple commercial trip.&quot; ]
        },
        tasks: [
            {
                index: 1,
                typeId: 5, // CARGO
                description: &quot;Bring a shipment of %GOODS% from the %SYSTEM1% system to %SYSTEM2%. Remember to check the BBS to get your payment.&quot;,
                generate: { systems: 1, goods: 1 },
                waitingMission: &quot;G3.1&quot;
            },
            {
                index: 1,
                typeId: 5, // CARGO
                description: &quot;Bring a shipment of %GOODS% to the %SYSTEM2% system. Remember to check the BBS to get your payment.&quot;,
                generate: { systems: 1 },
                waitingMission: &quot;G3&quot;
            }
        ]
    },
    {
        groupId: 7,
        index: 3,
        title: &quot;COMMERCIAL: Need a ship to bring cargo here.&quot;,
        description: &quot;Hello. I&#39;m %NAME0%. My business needs to bring here a shipment of %GOODS% from the %SYSTEM1% system. We will pay %REWARD% credits.&quot;,
        choices: &quot;cargo&quot;,
        currentTask: 1,
        customResponses: {
            money: [ &quot;It&#39;s a simple commercial trip.&quot; ]
        },
        tasks: [
            {
                index: 1,
                typeId: 5, // CARGO
                description: &quot;Bring a shipment of %GOODS% from the %SYSTEM1% system to %SYSTEM0%. Remember to check the BBS to get your payment.&quot;,
                generate: { systems: 1, goods: 1 },
                waitingMission: &quot;G3.1&quot;
            },
            {
                index: 1,
                typeId: 5, // CARGO
                description: &quot;Bring a shipment of %GOODS% to the %SYSTEM0% system. Remember to check the BBS to get your payment.&quot;,
                generate: { retrieve: true },
                waitingMission: &quot;G3&quot;
            }
        ]
    },
    // GalNature missions -----------------------------------------------------
    // CONTACT

    // TRANSFER

    // RETRIEVE
    {
        groupId: 8,
        index: 1,
        title: &quot;IMPORTANT: Someone with a ship to recover plants specimens.&quot;,
        description: &quot;Hello, A botanical facility on %SYSTEM1% has broken down and we need to store some plants specimens. We&#39;ll warning of your arrive if you accept. We will pay %REWARD% credits.&quot;,
        choices: &quot;mission&quot;,
        currentTask: 1,
        customResponses: {
            money: [ &quot;It&#39;s an important matter for us.&quot; ]
        },
        tasks: [
            {
                index: 1,
                typeId: 3, // RETRIEVE
                description: &quot;Go to the %SYSTEM1% system and get the plants specimens. Return to the %SYSTEM0% system.&quot;,
                generate: { systems: 1, names: 1 },
                parcel: &quot;A insulated box of plants specimen&quot;,
                waitingMission: &quot;W8.3.1.1&quot;
            },
            {
                index: 2,
                typeId: 3, // RETRIEVE
                description: &quot;Bring the plants specimens to %NAME0% in the %SYSTEM0% system.&quot;,
                generate: {
                    retrieve: true
                },
                waitingMission: &quot;W8.3.1.2&quot;
            }
        ]
    },
    // TRANSPORT
    {
        groupId: 8,
        index: 2,
        title: &quot;JOB OFFER: Need ship for transport.&quot;,
        description: &quot;Hi, I&#39;m %NAME0%. I need a ship to go to the %SYSTEM1% system. Are you interested? I will pay %REWARD% credits.&quot;,
        choices: &quot;transport&quot;,
        currentTask: 1,
        passengers: [ 1 ],
        firstPassenger: 0,
        customResponses: {
            money: [ &quot;I&#39;m completing a thesis in [litf_missionResponseMoneyNatureJob].&quot; ]
        },
        tasks: [
            {
                index: 1,
                typeId: 4, // TRANSPORT
                description: &quot;Bring naturalist %NAME1% to the %SYSTEM1% system. Remember to check the BBS to get your payment.&quot;,
                generate: { systems: 1, names: 1 },
                waitingMission: &quot;G1&quot;
            }
        ]
    },
    {
        groupId: 8,
        index: 3,
        title: &quot;JOB OFFER: Need ship for transport.&quot;,
        description: &quot;Hello, I&#39;m %NAME0%. A naturalist in the %SYSTEM1% needs a passage to %SYSTEM2%. The payment is %REWARD% credits.&quot;,
        choices: &quot;transport&quot;,
        currentTask: 1,
        customResponses: {
            money: [ &quot;He&#39;s a [litf_missionResponseMoneyNatureJob] expert.&quot; ]
        },
        tasks: [
            {
                index: 1,
                typeId: 4, // TRANSPORT
                description: &quot;Bring naturalist %NAME1% from the %SYSTEM1% system to %SYSTEM2%. Remember to check the BBS to get your payment.&quot;,
                generate: { systems: 1, names: 1 },
                waitingMission: &quot;G2&quot;,
                passengers: [ 1 ]
            },
            {
                index: 2,
                typeId: 4, // TRANSPORT
                description: &quot;Bring naturalist %NAME1% to the %SYSTEM2% system. Remember to check the BBS to get your payment.&quot;,
                generate: { systems: 1 },
                waitingMission: &quot;G1&quot;
            }
        ]
    },
    {
        groupId: 8,
        index: 4,
        title: &quot;JOB OFFER: Need ship for transport.&quot;,
        description: &quot;Hi, I&#39;m %NAME0%. We need to bring back a naturalist from the %SYSTEM1% system. We will pay %REWARD% credits.&quot;,
        choices: &quot;transport&quot;,
        currentTask: 1,
        customResponses: {
            money: [ &quot;He&#39;s a [litf_missionResponseMoneyNatureJob] scholar.&quot; ]
        },
        tasks: [
            {
                index: 1,
                typeId: 4, // TRANSPORT
                description: &quot;Bring naturalist %NAME1% from the %SYSTEM1% system to %SYSTEM0%. Remember to check the BBS to get your payment.&quot;,
                generate: { systems: 1, names: 1 },
                waitingMission: &quot;G2&quot;,
                passengers: [ 1 ]
            },
            {
                index: 2,
                typeId: 4, // TRANSPORT
                description: &quot;Bring naturalist to the %SYSTEM0% system. Remember to check the BBS to get your payment.&quot;,
                generate: {
                    retrieve: true
                },
                waitingMission: &quot;G1&quot;
            }
        ]
    },
    // CARGO
    {
        groupId: 8,
        index: 5,
        title: &quot;SHIP REQUESTED: Deliver materials to another system.&quot;,
        description: &quot;Hi, I&#39;m %NAME0%. We need to deliver a shipment of %GOODS% to the %SYSTEM1% system. Payment is %REWARD% credits.&quot;,
        choices: &quot;cargo&quot;,
        currentTask: 1,
        customResponses: {
            money: [ &quot;Normal scientific stuff.&quot; ]
        },
        tasks: [
            {
                index: 1,
                typeId: 5, // CARGO
                description: &quot;Bring a shipment of %GOODS% to the %SYSTEM1% system. Remember to check the BBS to get your payment.&quot;,
                generate: { systems: 1, goods: 1 },
                waitingMission: &quot;G3&quot;
            }
        ]
    },
    {
        groupId: 8,
        index: 6,
        title: &quot;STUDY: Looking for a ship to transport materials here.&quot;,
        description: &quot;Hello, I&#39;m %NAME0%, and I need the %GOODS% we left in the %SYSTEM1% system. Are you interested? We pay %REWARD% credits.&quot;,
        choices: &quot;cargo&quot;,
        currentTask: 1,
        customResponses: {
            money: [ &quot;Normal scientific stuff.&quot; ]
        },
        tasks: [
            {
                index: 1,
                typeId: 5, // CARGO
                description: &quot;Bring a shipment of %GOODS% from the %SYSTEM1% system to %SYSTEM0%. Remember to check the BBS to get your payment.&quot;,
                generate: { systems: 1, goods: 1 },
                waitingMission: &quot;G3.1&quot;
            },
            {
                index: 1,
                typeId: 5, // CARGO
                description: &quot;Bring a shipment of %GOODS% to the %SYSTEM0% system. Remember to check the BBS to get your payment.&quot;,
                generate: { retrieve: true },
                waitingMission: &quot;G3&quot;
            }
        ]
    },
    // GalCulture missions ----------------------------------------------------
    // CONTACT
    {
        groupId: 9,
        index: 1,
        title: &quot;DELIVER: A painting to a buyer.&quot;,
        description: &quot;Hello, I&#39;m %NAME0%. I need a ship to transport the &#39;%PAINTING%&#39; painting to a buyer in the %SYSTEM1% system. The buyer name is %NAME1%. I&#39;ll pay you %REWARD% credits.&quot;,
        choices: &quot;mission&quot;,
        currentTask: 1,
        parcel: &quot;The &#39;%PAINTING% painting&quot;,
        customResponses: {
            money: [ &quot;It&#39;s a really good painting.&quot; ]
        },
        tasks: [
            {
                index: 1,
                typeId: 1, // CONTACT
                description: &quot;Go to the %SYSTEM1% system, and give the &#39;%PAINTING%&#39; painting to %NAME1%.&quot;,
                generate: { systems: 1, names: 1, paintings: 1 },
                waitingMission: &quot;W9.1.1&quot;
            }
        ]
    },
    // TRANSFER
    {
        groupId: 9,
        index: 2,
        title: &quot;TRANSFER: Move a painting to its new location.&quot;,
        description: &quot;Hello, I&#39;m %NAME0%. We are preparing a new art gallery in the %SYSTEM2% system where we want to display the &#39;%PAINTING%&#39; painting, actually owned by %NAME1% in %SYSTEM1%. Do you mind to proceed to its relocation? We&#39;ll pay %REWARD% credits.&quot;,
        choices: &quot;mission&quot;,
        currentTask: 1,
        customResponses: {
            money: [ &quot;It&#39;s a really good painting.&quot; ]
        },
        tasks: [
            {
                index: 1,
                typeId: 2, // TRANSFER
                description: &quot;Go to the %SYSTEM1% system, get the &#39;%PAINTING%&#39; painting and bring it to %SYSTEM2%.&quot;,
                generate: { systems: 1, names: 1, paintings: 1 },
                parcel: &quot;The &#39;%PAINTING% painting&quot;,
                waitingMission: &quot;W9.2.2.1&quot;
            },
            {
                index: 2,
                typeId: 2, // TRANSFER
                description: &quot;Bring the &#39;%PAINTING%&#39; to the %SYSTEM2% system.&quot;,
                generate: { systems: 1, names: 1 },
                waitingMission: &quot;W9.2.2.2&quot;
            }
        ]
    },
    // RETRIEVE
    {
        groupId: 9,
        index: 3,
        title: &quot;RECOVER: A painting from an art restorer.&quot;,
        description: &quot;Hello, I&#39;m %NAME0% and I have to retrieve the &#39;%PAINTING%&#39; painting from an art restorer in %SYSTEM1%. I need someone who&#39;ll pickup the painting because in this moment I have no way to do it. Interested? The pay is %REWARD% credits.&quot;,
        choices: &quot;mission&quot;,
        currentTask: 1,
        customResponses: {
            money: [ &quot;It&#39;s a really good painting.&quot; ]
        },
        tasks: [
            {
                index: 1,
                typeId: 3, // RETRIEVE
                description: &quot;Go to the %SYSTEM1% system, get the &#39;%PAINTING%&#39; painting and return to the %SYSTEM0% system.&quot;,
                generate: { systems: 1, names: 1, paintings: 1 },
                parcel: &quot;The &#39;%PAINTING% painting&quot;,
                waitingMission: &quot;W9.3.3.1&quot;,
                unaware: true
            },
            {
                index: 2,
                typeId: 3, // RETRIEVE
                description: &quot;Bring the &#39;%PAINTING%&#39; painting to %NAME0% in the %SYSTEM0% system.&quot;,
                generate: {
                    retrieve: true
                },
                waitingMission: &quot;W9.3.3.2&quot;
            }
        ]
    },
    // TRANSPORT
    {
        groupId: 9,
        index: 4,
        title: &quot;ART: Transport a famous artist to an event.&quot;,
        description: &quot;Hello, I&#39;m %NAME1% and I must go to the %SYSTEM1% system for an important artistic event. If you&#39;re in, the pay is %REWARD% credits.&quot;,
        choices: &quot;transport&quot;,
        currentTask: 1,
        passengers: [ 1 ],
        firstPassenger: 1,
        customResponses: {
            money: [ &quot;I&#39;m [litf_missionResponseMoneyArtist]&quot; ]
        },
        tasks: [
            {
                index: 1,
                typeId: 4, // TRANSPORT
                description: &quot;Bring artist %NAME1% to the %SYSTEM1% system. Remember to check the BBS to get your payment.&quot;,
                generate: { systems: 1, names: 1 },
                waitingMission: &quot;G1&quot;
            }
        ]
    },
    {
        groupId: 9,
        index: 5,
        title: &quot;ART: Transport a famous artist to an event.&quot;,
        description: &quot;There will be an important art festival in the %SYSTEM2% system, and we need to transport there the controversial %NAME1% from %SYSTEM1%. We can pay %REWARD% credits.&quot;,
        choices: &quot;transport&quot;,
        currentTask: 1,
        customResponses: {
            money: [ &quot;He&#39;s [litf_missionResponseMoneyArtist].&quot; ]
        },
        tasks: [
            {
                index: 1,
                typeId: 4, // TRANSPORT
                description: &quot;Bring artist %NAME1% from the %SYSTEM1% system to %SYSTEM2%. Remember to check the BBS to get your payment.&quot;,
                generate: { systems: 1, names: 1 },
                waitingMission: &quot;G2&quot;,
                passengers: [ 1 ]
            },
            {
                index: 2,
                typeId: 4, // TRANSPORT
                description: &quot;Bring artist %NAME1% to the %SYSTEM2% system. Remember to check the BBS to get your payment.&quot;,
                generate: { systems: 1 },
                waitingMission: &quot;G1&quot;
            }
        ]
    },
    // CARGO
    {
        groupId: 9,
        index: 6,
        title: &quot;HELP NEEDED: Deliver materials to organize an event in another system.&quot;,
        description: &quot;Hello, we are organizing a festival in the %SYSTEM1% system and we need to transport a shipment of %GOODS% there. Payment is %REWARD% credits.&quot;,
        choices: &quot;cargo&quot;,
        currentTask: 1,
        customResponses: {
            money: [ &quot;Nothing special, really.&quot; ]
        },
        tasks: [
            {
                index: 1,
                typeId: 5, // CARGO
                description: &quot;Bring a shipment of %GOODS% to the %SYSTEM1% system. Remember to check the BBS to get your payment.&quot;,
                generate: { systems: 1, goods: 1 },
                waitingMission: &quot;G3&quot;
            }
        ]
    },
    {
        groupId: 9,
        index: 7,
        title: &quot;ORGANIZING: We need a ship to transport equipment.&quot;,
        description: &quot;Hello, I&#39;m %NAME0%. We are organizing an event on this system but we need someone to bring here a load of %GOODS% from the %SYSTEM1% system. If you agree, the payment is %REWARD% credits.&quot;,
        choices: &quot;cargo&quot;,
        currentTask: 1,
        customResponses: {
            money: [ &quot;We need the equipment.&quot; ]
        },
        tasks: [
            {
                index: 1,
                typeId: 5, // CARGO
                description: &quot;Bring a shipment of %GOODS% from the %SYSTEM1% system to %SYSTEM0%. Remember to check the BBS to get your payment.&quot;,
                generate: { systems: 1, goods: 1 },
                waitingMission: &quot;G3.1&quot;
            },
            {
                index: 1,
                typeId: 5, // CARGO
                description: &quot;Bring a shipment of %GOODS% to the %SYSTEM0% system. Remember to check the BBS to get your payment.&quot;,
                generate: { retrieve: true },
                waitingMission: &quot;G3&quot;
            }
        ]
    },
    // GalGovernment missions -------------------------------------------------
    // CONTACT
    {
        groupId: 10,
        index: 1,
        title: &quot;GOVERNMENT DUTY: Meeting a government agent.&quot;,
        description: &quot;Citizen, you&#39;re candidate for an important task: meeting a government agent hidden in the %SYSTEM1% system, going with the alias &#39;%NAME1%&#39;. He is requested for reporting duties. We&#39;ll give you a safety passcode for the meeting. Government will cover the expenses with %REWARD% credits.&quot;,
        choices: &quot;mission&quot;,
        currentTask: 1,
        parcel: &quot;An encrypted data drive&quot;,
        customResponses: {
            money: [ &quot;It&#39;s the regulatory government pay.&quot; ]
        },
        tasks: [
            {
                index: 1,
                typeId: 1, // CONTACT
                description: &quot;Go to the %SYSTEM1% system, and meet the hidden government agent &#39;%NAME1%&#39;.&quot;,
                generate: { systems: 1, names: 1 },
                waitingMission: &quot;W10.1.1&quot;,
                unaware: true
            }
        ]
    },
    // TRANSFER
    {
        groupId: 10,
        index: 3,
        title: &quot;GOVERNMENT DUTY: Moving papers between two government consulates.&quot;,
        description: &quot;Citizen, you&#39;re candidate for an important task: to transfer a set of diplomatic papers from our consulate in the %SYSTEM1% to our consulate in %SYSTEM2%. Government will cover the expenses with %REWARD% credits.&quot;,
        choices: &quot;mission&quot;,
        currentTask: 1,
        customResponses: {
            money: [ &quot;It&#39;s the regulatory government pay.&quot; ]
        },
        tasks: [
            {
                index: 1,
                typeId: 2, // TRANSFER
                description: &quot;Go to the %SYSTEM1% consulate, get the diplomatic papers and bring them to the %SYSTEM2% consulate.&quot;,
                generate: { systems: 1, names: 1 },
                parcel: &quot;A folder of diplomatic papers&quot;,
                waitingMission: &quot;W10.2.3.1&quot;
            },
            {
                index: 2,
                typeId: 2, // TRANSFER
                description: &quot;Bring the diplomatic papers to the %SYSTEM2% consulate.&quot;,
                generate: { systems: 1, names: 1 },
                waitingMission: &quot;W10.2.3.2&quot;
            }
        ]
    },
    // RETRIEVE
    {
        groupId: 10,
        index: 2,
        title: &quot;GOVERNMENT DUTY: Recover papers from another system.&quot;,
        description: &quot;Citizen, you&#39;re candidate for an important task: to retrieve some dossiers that were stolen by hostile forces! Go to the %SYSTEM1% system, our agent %NAME1% is there waiting for someone to pick up the dossiers. Government will cover the expenses with %REWARD% credits.&quot;,
        choices: &quot;mission&quot;,
        currentTask: 1,
        customResponses: {
            money: [ &quot;No questions.&quot; ]
        },
        tasks: [
            {
                index: 1,
                typeId: 3, // RETRIEVE
                description: &quot;Go to the %SYSTEM1% system and get the dossiers from %NAME1%. Return to the %SYSTEM0% system.&quot;,
                generate: { systems: 1, names: 1 },
                parcel: &quot;A box full of government dossiers&quot;,
                waitingMission: &quot;W10.3.2.1&quot;,
                unaware: true
            },
            {
                index: 2,
                typeId: 3, // RETRIEVE
                description: &quot;Bring the dossiers to the governemnt officials in the %SYSTEM0% system.&quot;,
                generate: {
                    retrieve: true
                },
                waitingMission: &quot;W10.3.2.2&quot;
            }
        ]
    },
    // TRANSPORT
    {
        groupId: 10,
        index: 4,
        title: &quot;GOVERNMENT DUTY: Transport a government officer to a meeting.&quot;,
        description: &quot;Citizen, you&#39;re candidate for an important task: to transport officer %NAME1% and his bodyguards to the %SYSTEM1% system, where he has to attend a diplomatic meeting. Government will cover the expenses with %REWARD% credits.&quot;,
        choices: &quot;transport&quot;,
        currentTask: 1,
        passengers: [ 3, 7 ],
        firstPassenger: 1,
        risk: 1,
        customResponses: {
            money: [ &quot;No questions.&quot; ]
        },
        tasks: [
            {
                index: 1,
                typeId: 4, // TRANSPORT
                description: &quot;Bring officer %NAME1% and his bodyguards to the %SYSTEM1% system. Remember to check the BBS to get your payment.&quot;,
                generate: { systems: 1, names: 1 },
                waitingMission: &quot;G1&quot;
            }
        ]
    },
    {
        groupId: 10,
        index: 5,
        title: &quot;GOVERNMENT DUTY: Transport an agent to its destination.&quot;,
        description: &quot;Citizen, you&#39;re candidate for an important task: to transport agent %NAME1% to the %SYSTEM1% system. Government will cover the expenses with %REWARD% credits.&quot;,
        choices: &quot;transport&quot;,
        currentTask: 1,
        passengers: [ 1 ],
        firstPassenger: 1,
        risk: 1,
        customResponses: {
            money: [ &quot;No questions.&quot; ]
        },
        tasks: [
            {
                index: 1,
                typeId: 4, // TRANSPORT
                description: &quot;Bring agent %NAME1% to the %SYSTEM1% system. Remember to check the BBS to get your payment.&quot;,
                generate: { systems: 1, names: 1 },
                waitingMission: &quot;G1&quot;
            }
        ]
    },
    {
        groupId: 10,
        index: 8,
        title: &quot;GOVERNMENT DUTY: Transport a government officer.&quot;,
        description: &quot;Citizen, you&#39;re candidate for an important task: to transport officer %NAME1% and his bodyguards back from a diplomatic meeting in the %SYSTEM1% system. Government will cover the expenses with %REWARD% credits.&quot;,
        choices: &quot;transport&quot;,
        currentTask: 1,
        risk: 1,
        customResponses: {
            money: [ &quot;No questions.&quot; ]
        },
        tasks: [
            {
                index: 1,
                typeId: 4, // TRANSPORT
                description: &quot;Bring back officer %NAME1% and his bodyguards from the %SYSTEM1% system to %SYSTEM0%. Remember to check the BBS to get your payment.&quot;,
                generate: { systems: 1, names: 7 },
                waitingMission: &quot;W10.4.8.1&quot;,
                passengers: [ 3, 7 ]
            },
            {
                index: 2,
                typeId: 4, // TRANSPORT
                description: &quot;Bring back officer %NAME1% and his bodyguards to the %SYSTEM0% system. Remember to check the BBS to get your payment.&quot;,
                generate: {
                    retrieve: true
                },
                waitingMission: &quot;G1&quot;
            }
        ]
    },
    {
        groupId: 10,
        index: 9,
        title: &quot;GOVERNMENT DUTY: Return trip for a government agent.&quot;,
        description: &quot;Citizen, you&#39;re candidate for an important task: to transport back agent %NAME1% from the %SYSTEM1% system. Government will cover the expenses with %REWARD% credits.&quot;,
        choices: &quot;transport&quot;,
        currentTask: 1,
        risk: 1,
        customResponses: {
            money: [ &quot;No questions.&quot; ]
        },
        tasks: [
            {
                index: 1,
                typeId: 4, // TRANSPORT
                description: &quot;Bring back agent %NAME1% from the %SYSTEM1% system to %SYSTEM0%. Remember to check the BBS to get your payment.&quot;,
                generate: { systems: 1, names: 1 },
                waitingMission: &quot;W10.4.9.1&quot;,
                passengers: [ 1 ]
            },
            {
                index: 2,
                typeId: 4, // TRANSPORT
                description: &quot;Bring back agent %NAME1% to the %SYSTEM0% system. Remember to check the BBS to get your payment.&quot;,
                generate: {
                    retrieve: true
                },
                waitingMission: &quot;G1&quot;
            }
        ]
    },
    // CARGO
    {
        groupId: 10,
        index: 6,
        title: &quot;GOVERNMENT DUTY: Deliver a shipment to destination.&quot;,
        description: &quot;Citizen, you&#39;re candidate for an important task: to deliver a shipment of %GOODS% to the %SYSTEM1% system. Government will cover the expenses with %REWARD% credits.&quot;,
        choices: &quot;cargo&quot;,
        currentTask: 1,
        customResponses: {
            money: [ &quot;No questions.&quot; ]
        },
        tasks: [
            {
                index: 1,
                typeId: 5, // CARGO
                description: &quot;Bring a shipment of %GOODS% to the %SYSTEM1% system. Remember to check the BBS to get your payment.&quot;,
                generate: { systems: 1, goods: 1 },
                waitingMission: &quot;G3&quot;
            }
        ]
    },
    {
        groupId: 10,
        index: 7,
        title: &quot;GOVERNMENT DUTY: Bring here a shipment from another system.&quot;,
        description: &quot;Citizen, you&#39;re candidate for an important task: to load and bring here a shipment of %GOODS% from the %SYSTEM1% system. Government will cover the expenses with %REWARD% credits.&quot;,
        choices: &quot;cargo&quot;,
        currentTask: 1,
        customResponses: {
            money: [ &quot;No questions.&quot; ]
        },
        tasks: [
            {
                index: 1,
                typeId: 5, // CARGO
                description: &quot;Bring a shipment of %GOODS% from the %SYSTEM1% system to %SYSTEM0%. Remember to check the BBS to get your payment.&quot;,
                generate: { systems: 1, goods: 1 },
                waitingMission: &quot;G3.1&quot;
            },
            {
                index: 1,
                typeId: 5, // CARGO
                description: &quot;Bring a shipment of %GOODS% to the %SYSTEM0% system. Remember to check the BBS to get your payment.&quot;,
                generate: { retrieve: true },
                waitingMission: &quot;G3&quot;
            }
        ]
    }
];

// ----------------------------------------------------------------------------

// Waiting messages - BBS items

this.waitingStore = [
    { groupId: 99, index: 0, title: &quot;LOOK HERE: %NAME1%! I&#39;m awaiting your arrival!&quot;, description: &quot;Hello, I&#39;m sorry but you&#39;re not the person I&#39;m waiting for. Goodbye.&quot;, choices: &quot;hangup&quot; },
    { groupId: 99, index: 0, title: &quot;NOTICE: Please %NAME1% contact me ASAP for completing your work.&quot;, description: &quot;Hello, I&#39;m sorry but you&#39;re not the person I&#39;m waiting for. Goodbye.&quot;, choices: &quot;hangup&quot; },
    { groupId: 99, index: 0, title: &quot;HEY COMMANDER: Are you %NAME1%? I&#39;m awaiting for you!&quot;, description: &quot;Hello, I&#39;m sorry but you&#39;re not the person I&#39;m waiting for. Goodbye.&quot;, choices: &quot;hangup&quot; },
    { groupId: 99, index: 0, title: &quot;ANSWER ME: %NAME1%.&quot;, description: &quot;Hello, I&#39;m sorry but you&#39;re not the person I&#39;m waiting for. Goodbye.&quot;, choices: &quot;hangup&quot; },
    { groupId: 99, index: 0, title: &quot;WAITING: I must to talk to %NAME1%.&quot;, description: &quot;Hello, I&#39;m sorry but you&#39;re not the person I&#39;m waiting for. Goodbye.&quot;, choices: &quot;hangup&quot; },
    { groupId: 99, index: 0, title: &quot;NOTICE: XXXXX Read here %NAME1% XXXXX.&quot;, description: &quot;Hello, I&#39;m sorry but you&#39;re not the person I&#39;m waiting for. Goodbye.&quot;, choices: &quot;hangup&quot; }
];

// Charities - BBS Items

this.charityStore = [
    { groupId: 98, index: 0, title: &quot;FEELING GENEROUS? &#39;%CHARITY%&#39; is here for your unwanted money!&quot;, description: &quot;Please select an amount to give to &#39;%CHARITY%&#39;.&quot;, showCredits: true, choices: &quot;charity&quot; },
    { groupId: 98, index: 0, title: &quot;GIVE MONEY: Make a good action. Support &#39;%CHARITY%&#39; now!&quot;, description: &quot;Please select an amount to give to &#39;%CHARITY%&#39;.&quot;, showCredits: true, choices: &quot;charity&quot; },
    { groupId: 98, index: 0, title: &quot;DONATE: &#39;%CHARITY%&#39;. We accept your money. Thanks.&quot;, description: &quot;Please select an amount to give to &#39;%CHARITY%&#39;.&quot;, showCredits: true, choices: &quot;charity&quot; }
];

// Ads - BBS Items

this.adStore = [
    // 101 - Generic messages and spam
    { groupId: 101, index: 0, title: &quot;NEED HOME: I&#39;m searching for a low-cost apartment. Contact me. Rent only.&quot;, description: &quot;Hi, I&#39;m %NAME0%. I&#39;m sorry but this ad is reserved to residents only.&quot;, choices: &quot;hangup&quot; },
    { groupId: 101, index: 0, title: &quot;FREE ROOM: Want to share my room with another person - expenses too.&quot;, description: &quot;Hi, I&#39;m %NAME0%. I&#39;m sorry but this ad is reserved to residents only.&quot;, choices: &quot;hangup&quot; },
    { groupId: 101, index: 0, title: &quot;CURIOUS: Do you want to see a real Thargoid? I can help you with that.&quot;, description: &quot;Hi, I&#39;m %NAME0%. I&#39;m sorry but this ad is reserved to residents only.&quot;, choices: &quot;hangup&quot; },
    { groupId: 101, index: 0, title: &quot;FORGIVE ME: %NAME1%, are you reading this? Please, please answer me!&quot;, description: &quot;Hi, I&#39;m %NAME0%. I&#39;m sorry but this ad is reserved to residents only.&quot;, choices: &quot;hangup&quot; },
    { groupId: 101, index: 0, title: &quot;LONELY? Do you want to share a bottle of %LIQUOR%? I&#39;m here if you want.&quot;, description: &quot;Hi, I&#39;m %NAME0%. I&#39;m sorry but this ad is reserved to residents only.&quot;, choices: &quot;hangup&quot; },
    { groupId: 101, index: 0, title: &quot;HELLO: Hello to everybody! Have a good day!&quot;, description: &quot;&quot; },
    { groupId: 101, index: 0, title: &quot;BREATHE: It&#39;s important. Don&#39;t underestimate gases.&quot;, description: &quot;&quot; },
    { groupId: 101, index: 0, title: &quot;HELP: Stasis field. My friend is inside. How to turn off?&quot;, description: &quot;&quot; },
    { groupId: 101, index: 0, title: &quot;WARNING: USERS WITH FAKE NAMES WILL BE BANNED FOREVER!&quot;, description: &quot;&quot; },
    { groupId: 101, index: 0, title: &quot;IMPORTANT: If you are a time traveler or have the technology I need your help!&quot;, description: &quot;&quot; },
    { groupId: 101, index: 0, title: &quot;IT WORKS: Write this message 10 times or you&#39;ll get bad luck in 10 days.&quot;, description: &quot;&quot; },
    { groupId: 101, index: 0, title: &quot;HINT: How %NAME0% Saved 3000cr Using This Simple Trick&quot;, description: &quot;&quot; },
    // 102 - Items messages
    { groupId: 102, index: 0, title: &quot;FOR SALE: I want to give away %ITEM%. Come and pick up.&quot;, description: &quot;Hi, I&#39;m %NAME0%. I&#39;m sorry but this ad is reserved to residents only.&quot;, choices: &quot;hangup&quot; },
    { groupId: 102, index: 0, title: &quot;NEED HELP: Someone has seen %ITEM% around here?&quot;, description: &quot;Hi, I&#39;m %NAME0%. I&#39;m sorry but this ad is reserved to residents only.&quot;, choices: &quot;hangup&quot; },
    { groupId: 102, index: 0, title: &quot;WANTED: Searching for %ITEM%. Contact me if you have info.&quot;, description: &quot;Hi, I&#39;m %NAME0%. I&#39;m sorry but this ad is reserved to residents only.&quot;, choices: &quot;hangup&quot; },
    { groupId: 102, index: 0, title: &quot;LOST ITEM: Need replacement for %ITEM%. Can you help me?&quot;, description: &quot;Hi, I&#39;m %NAME0%. I&#39;m sorry but this ad is reserved to residents only.&quot;, choices: &quot;hangup&quot; },
    { groupId: 102, index: 0, title: &quot;SELLING: Interested in %ITEM%. Contact me.&quot;, description: &quot;Hi, I&#39;m %NAME0%. I&#39;m sorry but this ad is reserved to residents only.&quot;, choices: &quot;hangup&quot; },
    // 103 - Job messages
    { groupId: 103, index: 0, title: &quot;NEED WORK? Open offer for %JOB%. Good position, decent pay. Please contact me.&quot;, description: &quot;Hi, I&#39;m %NAME0%. I&#39;m sorry but this ad is reserved to residents only.&quot;, choices: &quot;hangup&quot; },
    { groupId: 103, index: 0, title: &quot;AVAILABLE JOB: We have a free position for %JOB%. Are you interested?&quot;, description: &quot;Hi, I&#39;m %NAME0%. I&#39;m sorry but this ad is reserved to residents only.&quot;, choices: &quot;hangup&quot; },
    { groupId: 103, index: 0, title: &quot;NOW HIRING: Unexpected events force us to search for %JOB%. Contact us if you&#39;re available.&quot;, description: &quot;Hi, I&#39;m %NAME0%. I&#39;m sorry but this ad is reserved to residents only.&quot;, choices: &quot;hangup&quot; },
    { groupId: 103, index: 0, title: &quot;JOB HERE: Awesome position for %JOB%. Don&#39;t miss this opportunity!&quot;, description: &quot;Hi, I&#39;m %NAME0%. I&#39;m sorry but this ad is reserved to residents only.&quot;, choices: &quot;hangup&quot; },
    { groupId: 103, index: 0, title: &quot;AVAILABLE: I&#39;m %JOB%. Currently unemployed, searching for small jobs. Contact me.&quot;, description: &quot;Hi, I&#39;m %NAME0%. I&#39;m sorry but this ad is reserved to residents only.&quot;, choices: &quot;hangup&quot; },
    { groupId: 103, index: 0, title: &quot;JOB WANTED: Need job to feed disabled spouse and starving family.&quot;, description: &quot;&quot; },
    { groupId: 103, index: 0, title: &quot;UNEMPLOYED CREW: Need work on a starship. Anything considered.&quot;, description: &quot;&quot; },
    { groupId: 103, index: 0, title: &quot;NEED WORK: Recently fired for external causes. Looking for any job available.&quot;, description: &quot;&quot; },
    { groupId: 103, index: 0, title: &quot;VACANCY REQUIRED: as a crew member on a starship.&quot;, description: &quot;&quot; },
    { groupId: 103, index: 0, title: &quot;WANTED: Position on a reputable starship.&quot;, description: &quot;&quot; },
    // 104 - Racial messages
    { groupId: 104, index: 0, title: &quot;EVOLUTION: It&#39;s time for the %RACE% to change diet?&quot;, description: &quot;&quot; },
    { groupId: 104, index: 0, title: &quot;QUESTION: Isn&#39;t a %RACE% entitled to the sweat of its brow?&quot;, description: &quot;&quot; },
    { groupId: 104, index: 0, title: &quot;CONTEST: Vote the most beautiful %RACE% of the system!!&quot;, description: &quot;&quot; },
    { groupId: 104, index: 0, title: &quot;DANGER: Birth race in decline for %RACE%?&quot;, description: &quot;&quot; },
    { groupId: 104, index: 0, title: &quot;POLL: What people think when talking about %RACE%?&quot;, description: &quot;&quot; },
    { groupId: 104, index: 0, title: &quot;DISCOVER: 42 Life-Changing Style Tips Every %RACE% Should Know&quot;, description: &quot;&quot; },
    { groupId: 104, index: 0, title: &quot;INCREDIBLE: This %RACE% will change your life.&quot;, description: &quot;&quot; }
];

// Government Specific BBS Items

// 0 - Anarchy, 1 - Feudal, 2 - Multigovernmental, 3 - Dictatorship, 4 - Communist, 5 - Confederacy, 6 - Democracy, 7 - Corporate

this.governmentStore = [
    // Anarchy Specifics
    { groupId: 105, gov: [ 0 ], index: 0, title: &quot;R3M3MB3R: Property is theft!!!&quot;, description: &quot;&quot; },
    { groupId: 105, gov: [ 0 ], index: 0, title: &quot;W4R: State bigger health system.&quot;, description: &quot;&quot; },
    { groupId: 105, gov: [ 0 ], index: 0, title: &quot;V0T3: Bigger cages! Longer chains!&quot;, description: &quot;&quot; },
    { groupId: 105, gov: [ 0 ], index: 0, title: &quot;TH1NK: We are the crisis!&quot;, description: &quot;&quot; },
    { groupId: 105, gov: [ 0 ], index: 0, title: &quot;P30PL3: N07 PR0F175!!!&quot;, description: &quot;&quot; },
    { groupId: 105, gov: [ 0 ], index: 0, title: &quot;TH3M: Whom the system work for???&quot;, description: &quot;&quot; },
    { groupId: 105, gov: [ 0 ], index: 0, title: &quot;****: G4LC0P!&quot;, description: &quot;&quot; },
    { groupId: 105, gov: [ 0 ], index: 0, title: &quot;DEBATE: Someone interested - not screaming slogans?&quot;, description: &quot;&quot; },
    { groupId: 105, gov: [ 0 ], index: 0, title: &quot;PROPOSAL: Organize something. Use your imagination.&quot;, description: &quot;&quot; },
    { groupId: 105, gov: [ 0 ], index: 0, title: &quot;WAHT: Who enabled strong language censorship HERE? **** ****!!!&quot;, description: &quot;&quot; },
    { groupId: 105, gov: [ 0 ], index: 0, title: &quot;HINT: How to cope with GalCop officials.&quot;, description: &quot;&quot; },
    { groupId: 105, gov: [ 0 ], index: 0, title: &quot;GUIDE: Ten ways to avoid uncomfortable space encounters.&quot;, description: &quot;&quot; },
    { groupId: 105, gov: [ 0 ], index: 0, title: &quot;OPEN: Alternative botanical growing laboratory course.&quot;, description: &quot;&quot; },
    { groupId: 105, gov: [ 0 ], index: 0, title: &quot;MARKET: Updated listing for unwanted merchandising.&quot;, description: &quot;&quot; },
    { groupId: 105, gov: [ 0 ], index: 0, title: &quot;SOCIAL: Learning to lie in a believable way.&quot;, description: &quot;&quot; },
    { groupId: 105, gov: [ 0 ], index: 0, title: &quot;HELP: A friend of mine has been arrested.&quot;, description: &quot;&quot; },
    { groupId: 105, gov: [ 0 ], index: 0, title: &quot;NET: New and interesting contacts. Free and open.&quot;, description: &quot;&quot; },
    { groupId: 105, gov: [ 0 ], index: 0, title: &quot;DARK-BBS: It doesn&#39;t exists.&quot;, description: &quot;&quot; },
    // Feudal Specifics
    { groupId: 105, gov: [ 1 ], index: 0, title: &quot;EMPIRE: Your effort grows our strength.&quot;, description: &quot;&quot; },
    { groupId: 105, gov: [ 1 ], index: 0, title: &quot;HAIL: For the glory of the King!&quot;, description: &quot;&quot; },
    { groupId: 105, gov: [ 1 ], index: 0, title: &quot;LORD: Blessed are the meeks.&quot;, description: &quot;&quot; },
    { groupId: 105, gov: [ 1 ], index: 0, title: &quot;HERESY: Pagan rituals are BANNED from the Empire!&quot;, description: &quot;&quot; },
    { groupId: 105, gov: [ 1 ], index: 0, title: &quot;TAXES: Remember the dates, pay your dues.&quot;, description: &quot;&quot; },
    { groupId: 105, gov: [ 1 ], index: 0, title: &quot;KNIGHTS: No more invaders in OUR sacred lands!&quot;, description: &quot;&quot; },
    { groupId: 105, gov: [ 1 ], index: 0, title: &quot;PEASANT: You work the land, we protect the land.&quot;, description: &quot;&quot; },
    { groupId: 105, gov: [ 1 ], index: 0, title: &quot;TOURNAMENT: Join the festivities and celebrate our englightened monarch.&quot;, description: &quot;&quot; },
    // Dictatorship Specifics
    { groupId: 105, gov: [ 3 ], index: 0, title: &quot;WAKE UP: End corruption and immorality.&quot;, description: &quot;&quot; },
    { groupId: 105, gov: [ 3 ], index: 0, title: &quot;TRAITORS: They don&#39;t love our system!&quot;, description: &quot;&quot; },
    { groupId: 105, gov: [ 3 ], index: 0, title: &quot;YOUTH: Join the Revolutionary Forces.&quot;, description: &quot;&quot; },
    { groupId: 105, gov: [ 3 ], index: 0, title: &quot;TRUST: Have faith in your government officials!&quot;, description: &quot;&quot; },
    { groupId: 105, gov: [ 3 ], index: 0, title: &quot;THINK: What can you do for your system?&quot;, description: &quot;&quot; },
    { groupId: 105, gov: [ 3 ], index: 0, title: &quot;WORK: Give a future to your children.&quot;, description: &quot;&quot; },
    { groupId: 105, gov: [ 3 ], index: 0, title: &quot;ENEMIES: They could be among us.&quot;, description: &quot;&quot; },
    { groupId: 105, gov: [ 3 ], index: 0, title: &quot;PRIDE: You live in the cradle of civilization!&quot;, description: &quot;&quot; },
    { groupId: 105, gov: [ 3 ], index: 0, title: &quot;LOOKING FOR: Evicted from communal sector. Searching arrangement.&quot;, description: &quot;&quot; },
    { groupId: 105, gov: [ 3 ], index: 0, title: &quot;MEETING: A civil debate about minor local issues.&quot;, description: &quot;&quot; },
    { groupId: 105, gov: [ 3 ], index: 0, title: &quot;RAID: Last night. Someone heard something?&quot;, description: &quot;&quot; },
    { groupId: 105, gov: [ 3 ], index: 0, title: &quot;MISSING: I can&#39;t find a person anymore.&quot;, description: &quot;&quot; },
    { groupId: 105, gov: [ 3 ], index: 0, title: &quot;CONFORM: There&#39;s no need to dissent.&quot;, description: &quot;&quot; },
    { groupId: 105, gov: [ 3 ], index: 0, title: &quot;MISSING: Someone has seen...&quot;, description: &quot;&quot; },
    { groupId: 105, gov: [ 3 ], index: 0, title: &quot;NO PROBLEM: They say. You&#39;re happy and it&#39;s all okay.&quot;, description: &quot;&quot; },
    // Communist Specifics
    { groupId: 105, gov: [ 4 ], index: 0, title: &quot;KOMM: To have more we have to produce more!&quot;, description: &quot;&quot; },
    { groupId: 105, gov: [ 4 ], index: 0, title: &quot;KOMM: For the Industrial Plan!&quot;, description: &quot;&quot; },
    { groupId: 105, gov: [ 4 ], index: 0, title: &quot;KOMM: Long live to the Party!&quot;, description: &quot;&quot; },
    { groupId: 105, gov: [ 4 ], index: 0, title: &quot;KOMM: All power to the Party. Peace to the People. Land to the peasants.&quot;, description: &quot;&quot; },
    { groupId: 105, gov: [ 4 ], index: 0, title: &quot;KOMM: With great labor we will fulfill the plan.&quot;, description: &quot;&quot; },
    { groupId: 105, gov: [ 4 ], index: 0, title: &quot;KOMM: All workers choose the Party!&quot;, description: &quot;&quot; },
    { groupId: 105, gov: [ 4 ], index: 0, title: &quot;KOMM: We grow under the sun of our system.&quot;, description: &quot;&quot; },
    { groupId: 105, gov: [ 4 ], index: 0, title: &quot;KOMM: Follow the true path, comrades!&quot;, description: &quot;&quot; },
    { groupId: 105, gov: [ 4 ], index: 0, title: &quot;KOMM: Come to us on the collective farm, comrade!&quot;, description: &quot;&quot; },
    { groupId: 105, gov: [ 4 ], index: 0, title: &quot;KOMM: Proletarians of all countries, unite!&quot;, description: &quot;&quot; },
    { groupId: 105, gov: [ 4 ], index: 0, title: &quot;KOMM: Have you signed up with the volunteers?&quot;, description: &quot;&quot; },
    { groupId: 105, gov: [ 4 ], index: 0, title: &quot;WORK: Reaching the monthly production level.&quot;, description: &quot;&quot; },
    { groupId: 105, gov: [ 4 ], index: 0, title: &quot;WORK: Are we allowed to start a strike?&quot;, description: &quot;&quot; },
    { groupId: 105, gov: [ 4 ], index: 0, title: &quot;WORK: Who control the industry?&quot;, description: &quot;&quot; },
    { groupId: 105, gov: [ 4 ], index: 0, title: &quot;WORK: Requiring new machinery - existing one break too often.&quot;, description: &quot;&quot; },
    { groupId: 105, gov: [ 4 ], index: 0, title: &quot;SOCIAL: Weekly political debates.&quot;, description: &quot;&quot; },
    { groupId: 105, gov: [ 4 ], index: 0, title: &quot;SOCIAL: Capitalism is bad. You should know.&quot;, description: &quot;&quot; },
    { groupId: 105, gov: [ 4 ], index: 0, title: &quot;SOCIAL: How much space for innovation?&quot;, description: &quot;&quot; },
    { groupId: 105, gov: [ 4 ], index: 0, title: &quot;SOCIAL: Discussion on global economic models.&quot;, description: &quot;&quot; },
    { groupId: 105, gov: [ 4 ], index: 0, title: &quot;POLICE: I heard a lot of noise in the near apartments...&quot;, description: &quot;&quot; },
    { groupId: 105, gov: [ 4 ], index: 0, title: &quot;MISSING: I can&#39;t find a person anymore.&quot;, description: &quot;&quot; },
    { groupId: 105, gov: [ 4 ], index: 0, title: &quot;MISSING: Someone has seen...&quot;, description: &quot;&quot; },
    // Corporate Specifics
    { groupId: 105, gov: [ 7 ], index: 0, title: &quot;AD: You should do it now!&quot;, description: &quot;&quot; },
    { groupId: 105, gov: [ 7 ], index: 0, title: &quot;AD: Imagine something original!&quot;, description: &quot;&quot; },
    { groupId: 105, gov: [ 7 ], index: 0, title: &quot;AD: Buy it, you deserve it!&quot;, description: &quot;&quot; },
    { groupId: 105, gov: [ 7 ], index: 0, title: &quot;AD: There aren&#39;t things credits can&#39;t buy!&quot;, description: &quot;&quot; },
    { groupId: 105, gov: [ 7 ], index: 0, title: &quot;AD: All is designed for your comfort!&quot;, description: &quot;&quot; },
    { groupId: 105, gov: [ 7 ], index: 0, title: &quot;AD: Tastes so good! You can&#39;t live without!&quot;, description: &quot;&quot; },
    { groupId: 105, gov: [ 7 ], index: 0, title: &quot;AD: Have a break! Do shopping!&quot;, description: &quot;&quot; },
    { groupId: 105, gov: [ 7 ], index: 0, title: &quot;AD: Buy, break, replace!&quot;, description: &quot;&quot; },
    { groupId: 105, gov: [ 7 ], index: 0, title: &quot;AD: Buy it, you need it!&quot;, description: &quot;&quot; },
    { groupId: 105, gov: [ 7 ], index: 0, title: &quot;AD: You&#39;re never spending enough!&quot;, description: &quot;&quot; },
    { groupId: 105, gov: [ 7 ], index: 0, title: &quot;AD: BUY, CONSUME, REPEAT.&quot;, description: &quot;&quot; },
    { groupId: 105, gov: [ 7 ], index: 0, title: &quot;AD: Work until expensive become cheap!&quot;, description: &quot;&quot; },
    { groupId: 105, gov: [ 7 ], index: 0, title: &quot;HELP: Credit expired on my credit card. What can I do?&quot;, description: &quot;&quot; },
    { groupId: 105, gov: [ 7 ], index: 0, title: &quot;POLL: The best debit card on the market today.&quot;, description: &quot;&quot; },
    { groupId: 105, gov: [ 7 ], index: 0, title: &quot;ASKING: How to do more overtime without risking your life.&quot;, description: &quot;&quot; },
    { groupId: 105, gov: [ 7 ], index: 0, title: &quot;THERAPY: I cannot stop working. Too stressed.&quot;, description: &quot;&quot; },
    { groupId: 105, gov: [ 7 ], index: 0, title: &quot;MEDS: Ten products to ease your psychological discomfort.&quot;, description: &quot;&quot; },
    { groupId: 105, gov: [ 7 ], index: 0, title: &quot;MARKET: Global Funds Daily Updates.&quot;, description: &quot;&quot; },
    { groupId: 105, gov: [ 7 ], index: 0, title: &quot;INVESTMENT: What is better? Long term.&quot;, description: &quot;&quot; },
    { groupId: 105, gov: [ 7 ], index: 0, title: &quot;POLL: Can We Guess Your Favourite Product Based On Random Questions?&quot;, description: &quot;&quot; },
    // Various
    { groupId: 105, gov: [ 0, 2, 5, 6, 7 ], index: 0, title: &quot;ANSWER NOW: You have just won 999999 credits!!! Talk to me to get your money!!!&quot;, description: &quot;&quot; },
    { groupId: 105, gov: [ 0, 2, 5, 6, 7 ], index: 0, title: &quot;IMPORTANT: You could be entitled up to 15340 credits in compensation.&quot;, description: &quot;&quot; },
    { groupId: 105, gov: [ 2, 5, 6, 7 ], index: 0, title: &quot;SPACEPORT: Baggage reclamation office open for service.&quot;, description: &quot;&quot; },
    { groupId: 105, gov: [ 2, 5, 6, 7 ], index: 0, title: &quot;DELUXOR HOTELS: Exaggerate luxury for a deluxe holiday!&quot;, description: &quot;&quot; },
    { groupId: 105, gov: [ 2, 5, 6, 7 ], index: 0, title: &quot;HOSPITAL: Donor blood needed. Do your part.&quot;, description: &quot;&quot; },
    { groupId: 105, gov: [ 2, 5, 6 ], index: 0, title: &quot;ART GALLERY: We are closed, but stay updated for our next events!&quot;, description: &quot;&quot; },
    { groupId: 105, gov: [ 0, 6, 7 ], index: 0, title: &quot;CITIZEN: Do you trust your government?&quot;, description: &quot;&quot; },
    { groupId: 105, gov: [ 1, 2, 5, 7 ], index: 0, title: &quot;PETITION: Ban Low Quality %GOODS% - they&#39;re hurting the economy!&quot;, description: &quot;Hi, I&#39;m %NAME0%. I&#39;m sorry but this ad is reserved to residents only.&quot;, choices: &quot;hangup&quot; },
    { groupId: 105, gov: [ 1, 2, 5 ], index: 0, title: &quot;CONCERNED: Don&#39;t trust every %GOODS% Vendor. Stay alert.&quot;, description: &quot;Hi, I&#39;m %NAME0%. I&#39;m sorry but this ad is reserved to residents only.&quot;, choices: &quot;hangup&quot; },
    { groupId: 105, gov: [ 1, 2, 5, 7 ], index: 0, title: &quot;PROTEST: Lower taxes for %GOODS%!&quot;, description: &quot;Hi, I&#39;m %NAME0%. I&#39;m sorry but this ad is reserved to residents only.&quot;, choices: &quot;hangup&quot; },
    { groupId: 105, gov: [ 2, 5, 6, 7 ], index: 0, title: &quot;SOON: The new %MOVIE% movie from the acclaimed director %NAME1%.&quot;, description: &quot;Good day. If you&#39;re interested in this event, we suggest to ask for more information at the local cultural center. Thanks for your attention.&quot;, choices: &quot;hangup&quot; },
    { groupId: 105, gov: [ 2, 5, 6, 7 ], index: 0, title: &quot;IN STORES NOW: The last masterpiece in %MUSIC% by %NAME1%.&quot;, description: &quot;Good day. If you&#39;re interested in this event, we suggest to ask for more information at the local cultural center. Thanks for your attention.&quot;, choices: &quot;hangup&quot; },
    { groupId: 105, gov: [ 2, 5, 6 ], index: 0, title: &quot;ADMIRE: The last collection of %ART% paintings by %NAME1%, now in tour across the galaxy.&quot;, description: &quot;Good day. If you&#39;re interested in this event, we suggest to ask for more information at the local cultural center. Thanks for your attention.&quot;, choices: &quot;hangup&quot; },
    { groupId: 105, gov: [ 0, 2, 3, 4, 5, 6 ], index: 0, title: &quot;ENJOY: Come at the bar, and try our %LIQUOR%! Unforgettable experiences guaranteed!&quot;, description: &quot;&quot; },
    { groupId: 105, gov: [ 0, 2, 3, 4, 5, 6 ], index: 0, title: &quot;THE BEST: We have the best %LIQUOR% in the system. Why don&#39;t you try it?&quot;, description: &quot;&quot; },
    { groupId: 105, gov: [ 2, 5, 6, 7 ], index: 0, title: &quot;COOPER CAFE&#39;: Come and taste: we serve a damn good coffee!&quot;, description: &quot;&quot; },
    { groupId: 105, gov: [ 6, 7 ], index: 0, title: &quot;WEYLAND-YUTANI CORPORATION: Building better worlds.&quot;, description: &quot;&quot; },
    { groupId: 105, gov: [ 7 ], index: 0, title: &quot;ARES MACROTECHNOLGY: Making the world a safer place.&quot;, description: &quot;&quot; },
    { groupId: 105, gov: [ 7 ], index: 0, title: &quot;RENRAKU: Today&#39;s solutions to tomorrow&#39;s problems.&quot;, description: &quot;&quot; },
    { groupId: 105, gov: [ 7 ], index: 0, title: &quot;WUXING: We&#39;re behind everything you do.&quot;, description: &quot;&quot; },
    { groupId: 105, gov: [ 5, 6, 7 ], index: 0, title: &quot;OMNICORP: We got the future under control.&quot;, description: &quot;&quot; },
    { groupId: 105, gov: [ 5, 6, 7 ], index: 0, title: &quot;TYRELL CORP: More Human Than Human.&quot;, description: &quot;&quot; },
    { groupId: 105, gov: [ 7 ], index: 0, title: &quot;AURITECH SURVEILLANCE: We&#39;re keeping an eye out, for you.&quot;, description: &quot;&quot; },
    { groupId: 105, gov: [ 7 ], index: 0, title: &quot;WORLDCOM: For the Greater Good.&quot;, description: &quot;&quot; },
    { groupId: 105, gov: [ 2, 5, 6, 7 ], index: 0, title: &quot;CENTRAL SERVICES: We do the work! You do the pleasure.&quot;, description: &quot;&quot; },
    { groupId: 105, gov: [ 7 ], index: 0, title: &quot;RENAUTAS: Doing good is good business.&quot;, description: &quot;&quot; },
    { groupId: 105, gov: [ 5, 6, 7 ], index: 0, title: &quot;CYBERDYNE SYSTEMS: We are the future.&quot;, description: &quot;&quot; },
    { groupId: 105, gov: [ 7 ], index: 0, title: &quot;YOYODINE: The future begins tomorrow.&quot;, description: &quot;&quot; },
    { groupId: 105, gov: [ 2, 5, 6, 7 ], index: 0, title: &quot;SOYLENT CORPORATION: Today is Soylent Green day!&quot;, description: &quot;&quot; },
    { groupId: 105, gov: [ 7 ], index: 0, title: &quot;MULTI-NATIONAL UNITED: Paving the way to unity.&quot;, description: &quot;&quot; },
    { groupId: 105, gov: [ 2, 5, 6, 7 ], index: 0, title: &quot;ECORP: Together we can change the world.&quot;, description: &quot;&quot; },
    { groupId: 105, gov: [ 7 ], index: 0, title: &quot;MASSIVE DYNAMIC: What do we do? What don&#39;t we do.&quot;, description: &quot;&quot; }
]

// ----------------------------------------------------------------------------

// Player interaction options arrays

this.hangupChoices = {
    &quot;99_QUIT&quot;: &quot;Hang up.&quot;
};

this.charityChoices = {
    &quot;01_DONAATE01&quot;: &quot;Donate 0.1 credits.&quot;,
    &quot;02_DONATE1&quot;: &quot;Donate 1 credit.&quot;,
    &quot;03_DONATE10&quot;: &quot;Donate 10 credits.&quot;,
    &quot;04_DONATE100&quot;: &quot;Donate 100 credits.&quot;,
    &quot;05_DONATE1000&quot;: &quot;Donate 1000 credits.&quot;,
    &quot;06_DONATE10000&quot;: &quot;Donate 10000 credits.&quot;,
    &quot;99_QUIT&quot;: &quot;Hang up.&quot;
};

this.missionChoices = {
    &quot;01_OK&quot;: &quot;Ok - agreed.&quot;,
    // &quot;02_HOWMANY&quot;: &quot;How many of you are there?&quot;,
    &quot;03_MONEY&quot;: &quot;Why so much money?&quot;,
    &quot;04_PROBLEMS&quot;: &quot;Will there be any problems?&quot;,
    // &quot;05_PERMIT&quot;: &quot;Do I need a permit, and if so can I have one?&quot;,
    &quot;05_UNAWARE&quot;: &quot;Do the recipient will know of my arrival?&quot;,
    // &quot;REPEAT&quot;: &quot;Could you repeat your original request.&quot;,
    &quot;06_MOREMONEY&quot;: &quot;I want more money.&quot;,
    &quot;07_HALFADVANCE&quot;: &quot;I want half the money now.&quot;,
    &quot;08_FULLADVANCE&quot;: &quot;I want all the money now.&quot;,
    // &quot;96_QUIT&quot;: &quot;&#39;Hold on while I make room.&#39; then hang up.&quot;,
    // &quot;97_QUIT&quot;: &quot;&#39;I haven&#39;t enough room in my ship&#39; then hang up&quot;,
    // &quot;98_QUIT&quot;: &quot;&#39;Sorry, I&#39;m not going that way&#39; then hang up&quot;,
    &quot;99_QUIT&quot;: &quot;Hang up.&quot;
};

this.transportChoices = {
    &quot;01_OK&quot;: &quot;Ok - agreed.&quot;,
    &quot;02_HOWMANY&quot;: &quot;How many of you are there?&quot;,
    &quot;03_MONEY&quot;: &quot;Why so much money?&quot;,
    &quot;04_PROBLEMS&quot;: &quot;Will there be any problems?&quot;,
    // &quot;05_PERMIT&quot;: &quot;Do I need a permit, and if so can I have one?&quot;,
    // &quot;05_UNAWARE&quot;: &quot;Do the recipient will know of my arrival?&quot;,
    // &quot;REPEAT&quot;: &quot;Could you repeat your original request.&quot;,
    &quot;06_MOREMONEY&quot;: &quot;I want more money.&quot;,
    &quot;07_HALFADVANCE&quot;: &quot;I want half the money now.&quot;,
    &quot;08_FULLADVANCE&quot;: &quot;I want all the money now.&quot;,
    // &quot;96_QUIT&quot;: &quot;&#39;Hold on while I make room.&#39; then hang up.&quot;,
    // &quot;97_QUIT&quot;: &quot;&#39;I haven&#39;t enough room in my ship&#39; then hang up&quot;,
    // &quot;98_QUIT&quot;: &quot;&#39;Sorry, I&#39;m not going that way&#39; then hang up&quot;,
    &quot;99_QUIT&quot;: &quot;Hang up.&quot;
};

this.cargoChoices = {
    &quot;01_OK&quot;: &quot;Ok - agreed.&quot;,
    // &quot;02_HOWMANY&quot;: &quot;How many of you are there?&quot;,
    &quot;03_MONEY&quot;: &quot;Why so much money?&quot;,
    &quot;04_PROBLEMS&quot;: &quot;Will there be any problems?&quot;,
    // &quot;05_PERMIT&quot;: &quot;Do I need a permit, and if so can I have one?&quot;,
    // &quot;05_UNAWARE&quot;: &quot;Do the recipient will know of my arrival?&quot;,
    // &quot;REPEAT&quot;: &quot;Could you repeat your original request.&quot;,
    &quot;06_MOREMONEY&quot;: &quot;I want more money.&quot;,
    &quot;07_HALFADVANCE&quot;: &quot;I want half the money now.&quot;,
    &quot;08_FULLADVANCE&quot;: &quot;I want all the money now.&quot;,
    // &quot;96_QUIT&quot;: &quot;&#39;Hold on while I make room.&#39; then hang up.&quot;,
    // &quot;97_QUIT&quot;: &quot;&#39;I haven&#39;t enough room in my ship&#39; then hang up&quot;,
    // &quot;98_QUIT&quot;: &quot;&#39;Sorry, I&#39;m not going that way&#39; then hang up&quot;,
    &quot;99_QUIT&quot;: &quot;Hang up.&quot;
};
</pre></td>
                </tr>
                <tr>
                    <td valign="top">Scripts/LITF_Missions.js</td>
                    <td><pre>/* eslint-disable semi, no-multi-spaces, quotes, indent, no-tabs, yoda */
/* global worldScripts, randomName, system, player, expandDescription, randomInhabitantsDescription */

&quot;use strict&quot;;

this.name = &quot;LITF_Missions&quot;;
this.author = &quot;BeeTLe BeTHLeHeM&quot;;
this.copyright = &quot;2018 BeeTLe BeTHLeHeM&quot;;
this.description = &quot;Mission generation methods&quot;;
this.version = &quot;0.10.0&quot;;
this.licence = &quot;CC BY-NC-SA 4.0&quot;;

// Active groups index, by system government type

this.groupsByGov = [
    [3, 5], // Anarchy
    [2, 3, 5], // Feudal
    [0, 1, 2, 4, 5, 6, 7, 8, 9], // Multigovernmental
    [2, 5, 10], // Dictatorship
    [5, 10], // Communist
    [0, 1, 2, 4, 5, 6, 7, 8, 9], // Confederacy
    [0, 1, 2, 4, 5, 6, 7, 8, 9], // Democracy
    [3, 4, 6, 7] // Corporate
];

var _co   = null;
var _md   = null;
var _litf = null;
var _bbs  = null;

this.$init = function () {
    _co   = worldScripts.LITF_Common;
    _md   = worldScripts.LITF_MissionData;
    _litf = worldScripts.LITF;
    _bbs  = worldScripts.LITF_BBS;
}

// Main method
this.$generateMission = function (activeGroupsArr, debugMissionIdx) {
    _co.$log(&quot;[LITF_BBS] generateMission&quot;);

    var storeItem = null; // Store object
    var mObj      = null; // Mission object
    var passArr   = null; // Passengers array

    if (activeGroupsArr[0] === &quot;debug&quot;) {
        // Get debug mission object
        for (var m = 0; m &lt; _md.debugStore.length; m++) {
            storeItem = _md.debugStore[m];
            if (storeItem.index === debugMissionIdx) {
                _co.$log(&quot;Clone store object&quot;);
                mObj = JSON.parse(JSON.stringify(storeItem));
                break;
            }
        }
    } else {
        // Get mission object

        var counter = 0;
        while (counter &lt; 50) {
            counter++;

            var mIdx = _co.$roll(0, _md.missionStore.length - 1);
            storeItem = _md.missionStore[mIdx];

            if (activeGroupsArr.indexOf(storeItem.groupId) &gt; -1) {
                _co.$log(&quot;Clone store object&quot;);
                mObj = JSON.parse(JSON.stringify(storeItem));
                break;
            }
        }

        if (mObj === null) {
            return null;
        }
    }

    // Define mission details
    _co.$log(&quot;Define mission details :: mObj = &quot; + JSON.stringify(mObj));

    var pFeedback = _litf.litfCommander.feedback;
    var maxSystemDistance = 10 + (Math.abs(pFeedback) / 5);

    mObj.missionId      = _co.$getGeneralId(); // Unique id
    mObj.contractor     = randomName() + &quot; &quot; + randomName();
    mObj.startingSystem = { index: 0, id: system.ID, name: System.systemNameForID(system.ID), distance: 0 };
    mObj.rewardAdvanceObtained = null; // Player has obtained a reward advance
    mObj.moreMoneyObtained     = false; // Player has obtained a reward increase

    // Face
    mObj.faceBackground = this.$getFaceBackground(mObj);

    // Defaults
    if (!mObj.local) {  mObj.local = false; }
    if (!mObj.showCredits) { mObj.showCredits = false; }
    if (!mObj.noReward) { mObj.noReward = false; }
    if (!mObj.failureDead) { mObj.failureDead = false; }

    // Feedback checks
    _co.$log(&quot;Feedback checks&quot;);

    if (mObj.groupId === 3) {
        // GalShady
        var maxFeedback = mObj.maxFeedback ? mObj.maxFeedback : this.maxFeedbackDefault;
        if (pFeedback &gt; maxFeedback) {
            mObj.description = &quot;You smell too clean for this. Return when your hands will be dirtier.&quot;;
            mObj.choices = &quot;hangup&quot;;
        }
    } else {
        // Not GalShady
        var minFeedback = mObj.minFeedback ? mObj.minFeedback : this.minFeedbackDefault;
        if (pFeedback &lt; minFeedback) {
            mObj.description = &quot;Hello, thanks for contacting us, but we want someone with a higher feedback rating.&quot;;
            mObj.choices = &quot;hangup&quot;;
        }
    }

    // Define number of passengers (at the start of the mission, if any)
    if (mObj.passengers) {
        passArr = mObj.passengers;
        if (passArr.length === 1) {
            mObj.passengers = passArr[0]; // Fixed number
        } else if (passArr.length === 2) {
            mObj.passengers = _co.$roll(passArr[0], passArr[1]); // Random number
        }
    }

    // Define tasks

    var ta = 0;
    var task = {};

    var maxRisk = 0;

    if (mObj.risk) { maxRisk = mObj.risk; }

    var generatedSystems = [];

    for (ta = 0; ta &lt; mObj.tasks.length; ta++) {
        task = mObj.tasks[ta];

        // Defaults
        if (!task.unaware) { task.unaware = false; }
        if (!task.urgent) { task.urgent = false; }
        // if (!task.risk) { task.risk = 0; }

        // Define number of passengers (during a task)
        if (task.passengers) {
            passArr = task.passengers;
            if (passArr.length === 1) {
                task.passengers = passArr[0]; // Fixed number
            } else if (passArr.length === 2) {
                task.passengers = _co.$roll(passArr[0], passArr[1]); // Random number
            }
        }

        // Procedural generation
        var generate = task.generate;
        task.info = this.$generateInfo(generate, mObj.groupId, maxSystemDistance, generatedSystems);

        if (task.info.systems === null) {
            _co.$log(&quot;-- WARNING -- Error generating random systems! Aborting mission generation!&quot;);
            return null;
        } else {
            for (var s = 0; s &lt; task.info.systems.length; s++) {
                generatedSystems.push(task.info.systems[s]);
            }

            // Special generation properties
            if (generate.retrieve &amp;&amp; generate.retrieve === true) {
                task.info.systems.push(mObj.startingSystem);
                task.info.names.push(mObj.contractor);
            }
        }
    }

    // Time for completing the mission
    mObj.timeAllowed = this.$missionAllocatedTime(mObj);
    if (mObj.timeAllowed === 0) {
        _co.$log(&quot;-- WARNING -- Error generating mission deadline! Aborting mission generation!&quot;);
        return null;
    }

    // Mission reward
    mObj.reward = this.$missionReward(mObj);

    // Tweak mission risk factor is payment is high
    if (mObj.reward &gt; 1000) {
        if (!mObj.risk || mObj.risk &lt; 1) {
            mObj.risk = 1;
        }
    } else if (mObj.reward &gt; 3000) {
        if (!mObj.risk || mObj.risk &lt; 2) {
            mObj.risk = 2;
        }
    }

    if (maxRisk &lt; mObj.risk) { maxRisk = mObj.risk; }

    // Responses
    _co.$log(&quot;Responses&quot;);

    mObj.responses = {};
    mObj.responses.howmany = &quot;There is only me here - what do you mean?&quot;;
    mObj.responses.money = &quot;Sorry, that&#39;s none of your business.&quot;;
    mObj.responses.problems = &quot;No.&quot;;

    // Custom responses
    _co.$log(&quot;Custom responses&quot;);

    var crIdx = 0;
    if (mObj.customResponses) {
        _co.$log(&quot;customResponses esiste&quot;);
        if (mObj.customResponses.money) {
            var money = mObj.customResponses.money;
            _co.$log(&quot;customResponses.money = &quot; + money);

            if (money[0].indexOf(&quot;[litf_missionResponseMoneyGroup]&quot;) &gt; -1) {
                money[0] = money[0].replace(&quot;[litf_missionResponseMoneyGroup]&quot;, expandDescription(&quot;[litf_missionResponseMoneyGroup]&quot;));
                mObj.responses.money = money[0];
            } else if (money[0].indexOf(&quot;[litf_missionResponseMoneyPassenger]&quot;) &gt; -1) {
                money[0] = money[0].replace(&quot;[litf_missionResponseMoneyPassenger]&quot;, expandDescription(&quot;[litf_missionResponseMoneyPassenger]&quot;));
                mObj.responses.money = money[0];
            } else if (money[0].indexOf(&quot;[litf_missionResponseMoneyParcel]&quot;) &gt; -1) {
                money[0] = money[0].replace(&quot;[litf_missionResponseMoneyParcel]&quot;, expandDescription(&quot;[litf_missionResponseMoneyParcel]&quot;));
                mObj.responses.money = money[0];
            } else if (money[0].indexOf(&quot;[litf_missionResponseMoneyArtist]&quot;) &gt; -1) {
                money[0] = money[0].replace(&quot;[litf_missionResponseMoneyArtist]&quot;, expandDescription(&quot;[litf_missionResponseMoneyArtist]&quot;));
                mObj.responses.money = money[0];
            } else if (money[0].indexOf(&quot;[litf_missionResponseMoneyNatureJob]&quot;) &gt; -1) {
                money[0] = money[0].replace(&quot;[litf_missionResponseMoneyNatureJob]&quot;, expandDescription(&quot;[litf_missionResponseMoneyNatureJob]&quot;));
                mObj.responses.money = money[0];
            } else {
                _co.$log(&quot;4&quot;);
                crIdx = _co.$roll(0, money.length - 1);
                mObj.responses.money = money[crIdx];
            }
            _co.$log(&quot;responses.money = &quot; + mObj.responses.money);
        }
    }

    if (maxRisk === 1) {
        mObj.responses.problems = expandDescription(&quot;[litf_missionResponseRisk01]&quot;);
    } else if (maxRisk === 2) {
        mObj.responses.problems = expandDescription(&quot;[litf_missionResponseRisk02]&quot;);
    }

    mObj.responses.unaware = [ expandDescription(&quot;[litf_missionResponseUnawareFalse]&quot;), expandDescription(&quot;[litf_missionResponseUnawareTrue]&quot;) ];

    //

    mObj.title = this.$replaceKeys(mObj.title, mObj);
    mObj.description = this.$replaceKeys(mObj.description, mObj);

    if (mObj.parcel) {
        mObj.parcel = this.$replaceKeys(mObj.parcel, mObj);
        mObj.parcel = mObj.parcel[0].charAt(0).toUpperCase() + mObj.parcel[0].substring(1);
    }

    for (ta = 0; ta &lt; mObj.tasks.length; ta++) {
        task = mObj.tasks[ta];
        task.description = this.$replaceKeys(task.description, mObj);

        if (task.parcel) {
            task.parcel = this.$replaceKeys(task.parcel, mObj);
            task.parcel = task.parcel[0].charAt(0).toUpperCase() + task.parcel[0].substring(1);
        }
    }

    _co.$log(&quot;mission object &quot; + JSON.stringify(mObj));

    return mObj;
}

this.$getFaceBackground = function (mObj) {
    var roll = 0;
    var filename = null;

    if (mObj.groupId === 0) {
        // GalCop
        roll = _co.$roll(1, 5);
        filename = (roll &lt; 10 ? &quot;0&quot; : &quot;&quot;) + roll + &quot;-galcop.png&quot;;
    } else if (mObj.groupId === 3) {
        // GalShady
        roll = _co.$roll(1, 5);
        filename = (roll &lt; 10 ? &quot;0&quot; : &quot;&quot;) + roll + &quot;-galshady.png&quot;;
    } else if (mObj.groupId === 10) {
        // GalGovernment
        roll = _co.$roll(1, 5);
        filename = (roll &lt; 10 ? &quot;0&quot; : &quot;&quot;) + roll + &quot;-galgov.png&quot;;
    // } else if (mObj.choices === &quot;hangup&quot;) {
    //     filename = &quot;connrfsd.png&quot;;
    } else {
        roll = _co.$roll(1, 21);
        filename = (roll &lt; 10 ? &quot;0&quot; : &quot;&quot;) + roll + &quot;-casual.png&quot;;
    }

    _co.$log(&quot;[LITF_Missions] getFaceBackground :: &quot; + filename);

    return filename;
}

this.$generatePlayerWaitingMission = function (amItem) {
    var pwObj = this.$getPlayerWaitingMission(amItem);

    pwObj.title = this.$replaceKeys(pwObj.title, amItem);

    for (var s = 0; s &lt; pwObj.steps.length; s++) {
        var step = pwObj.steps[s];

        step.description = this.$replaceKeys(step.description, amItem);

        var choice = step.choice;
        var cKeys = _co.$getObjectKeys(choice);
        for (var ch = 0; ch &lt; cKeys.length; ch++) {
            choice[cKeys[ch]] = this.$replaceKeys(choice[cKeys[ch]], amItem);
        }
    }

    pwObj.parentMissionId = amItem.missionId; // original mission reference id
    pwObj.missionId = _co.$getGeneralId();

    pwObj.reward = amItem.reward;  // mission reward
    pwObj.feedbackSuccess = amItem.feedbackSuccess; // feedback reward

    return pwObj;
}

this.$getPlayerWaitingMission = function (mItem) {
    _co.$log(&quot;[LITF_BBS] getPlayerWaitingMission&quot;);

    var pwObj = null;

    var cTask = _bbs.$getMissionTask(mItem, mItem.currentTask);

    var pwLabel = cTask.waitingMission;

    _co.$log(&quot;pwLabel = &quot; + pwLabel);

    for (var pw = 0; pw &lt; _md.missionWaitingStore.length; pw++) {
        var pwItem = _md.missionWaitingStore[pw];

        _co.$log(&quot;pwItem[&quot; + pw + &quot;] &quot; + JSON.stringify(pwItem));

        if (pwItem.label === pwLabel) {
            pwObj = {};

            pwObj = JSON.parse(JSON.stringify(pwItem));

            // These properties are always the same
            pwObj.groupId = 97;
            pwObj.typeId = 0;
            pwObj.index = 0;
            pwObj.currentStep = 1;
            pwObj.choices = &quot;waiting&quot;;

            break;
        }
    }

    // Use the title already present or generate a random one for the waiting item

    if (pwObj.title === null) {
        var idx = -1;
        var tObj = null;

        if (cTask.unaware === false) {
            idx = _co.$roll(0, _md.waitingStore.length - 1);
            tObj = _md.waitingStore[idx];
        } else {
            var valid = false;
            while (valid === false) {
                idx = _co.$roll(0, _md.adStore.length - 1);
                tObj = _md.adStore[idx];
                if (tObj.groupId === 101) {
                    valid = true;
                }
            }
        }

        pwObj.title = tObj.title;
        pwObj.title = pwObj.title.replace(&quot;%NAME1%&quot;, &quot;%PLAYERNAME%&quot;);
    }

    return pwObj;
}

this.$generateInfo = function (gObj, groupId, maxSystemDistance, generatedSystems) {
    _co.$log(&quot;[LITF_Mission] generateInfo&quot;);

    var info = {
        systems: [],
        names: [],
        books: [],
        charities: [],
        items: [],
        jobs: [],
        goods: [],
        races: [],
        liquors: [],
        movies: [],
        music: [],
        art: [],
        paintings: []
    };

    var i = 0;
    var gkeyArr = _co.$getObjectKeys(gObj);

    for (var gk = 0; gk &lt; gkeyArr.length; gk++) {
        var gkey = gkeyArr[gk];
        if (gkey === &quot;systems&quot;) {
            for (i = 0; i &lt; gObj[gkey]; i++) {
                var valid = false;
                var rsys = null;
                var counter = 0;
                while (valid === false &amp;&amp; counter &lt; 100) {
                    rsys = _co.$randomSystem(maxSystemDistance);

                    valid = true;
                    for (var sy = 0; sy &lt; info.systems.length; sy++) {
                        // _co.$log(&quot;rsys.id = &quot; + rsys.id + &quot; info.systems[&quot; + sy + &quot;].name = &quot; + info.systems[sy].id);
                        // _co.$log(&quot;rsys.name = &quot; + rsys.id + &quot; info.systems[&quot; + sy + &quot;].name = &quot; + info.systems[sy].name);
                        if (info.systems[sy].id === rsys.id) {
                            valid = false;
                        }
                    }

                    for (var gs = 0; gs &lt; generatedSystems.length; gs++) {
                        if (generatedSystems[gs].id === rsys.id) {
                            valid = false;
                        }
                    }

                    counter++;
                }

                if (counter &lt; 100) {
                    info.systems.push(rsys);
                } else {
                    info.systems = null;
                }
            }
        } else if (gkey === &quot;names&quot;) {
            for (i = 0; i &lt; gObj[gkey]; i++) {
                info.names.push(randomName() + &quot; &quot; + randomName());
            }
        } else if (gkey === &quot;books&quot;) {
            for (i = 0; i &lt; gObj[gkey]; i++) {
                info.books.push(expandDescription(&quot;[litf_Books]&quot;));
            }
        } else if (gkey === &quot;charities&quot;) {
            for (i = 0; i &lt; gObj[gkey]; i++) {
                info.charities.push(expandDescription(&quot;[litf_Charity]&quot;));
            }
        } else if (gkey === &quot;items&quot;) {
            for (i = 0; i &lt; gObj[gkey]; i++) {
                info.items.push(expandDescription(&quot;[litf_Items]&quot;));
            }
        } else if (gkey === &quot;jobs&quot;) {
            for (i = 0; i &lt; gObj[gkey]; i++) {
                info.jobs.push(expandDescription(&quot;[litf_Jobs]&quot;));
            }
        } else if (gkey === &quot;goods&quot;) {
            for (i = 0; i &lt; gObj[gkey]; i++) {
                var goodArrByGroup = _co.commodityGroups[groupId];
                var goodIdx = _co.$roll(0, goodArrByGroup.length - 1);
                info.goods.push(goodArrByGroup[goodIdx]);
            }
        } else if (gkey === &quot;races&quot;) {
            for (i = 0; i &lt; gObj[gkey]; i++) {
                info.races.push(randomInhabitantsDescription(true));
            }
        } else if (gkey === &quot;liquors&quot;) {
            for (i = 0; i &lt; gObj[gkey]; i++) {
                info.liquors.push(expandDescription(&quot;[litf_Liquors]&quot;));
            }
        } else if (gkey === &quot;movies&quot;) {
            for (i = 0; i &lt; gObj[gkey]; i++) {
                info.movies.push(expandDescription(&quot;[litf_Movie1]&quot;) + &quot; &quot; + expandDescription(&quot;[litf_Movie2]&quot;) + &quot; &quot; + expandDescription(&quot;[litf_Movie3]&quot;));
            }
        } else if (gkey === &quot;music&quot;) {
            for (i = 0; i &lt; gObj[gkey]; i++) {
                info.music.push(expandDescription(&quot;[litf_Music1]&quot;) + &quot; &quot; + expandDescription(&quot;[litf_Music2]&quot;) + &quot; &quot; + expandDescription(&quot;[litf_Music3]&quot;));
            }
        } else if (gkey === &quot;art&quot;) {
            for (i = 0; i &lt; gObj[gkey]; i++) {
                info.art.push(expandDescription(&quot;[litf_Art1]&quot;) + &quot; &quot; + expandDescription(&quot;[litf_Art2]&quot;));
            }
        } else if (gkey === &quot;paintings&quot;) {
            for (i = 0; i &lt; gObj[gkey]; i++) {
                info.paintings.push(expandDescription(&quot;[litf_Painting1]&quot;) + &quot; &quot; + expandDescription(&quot;[litf_Painting2]&quot;));
            }
        }
    }

    return info;
}

this.$generateGovernmentItem = function () {
    _co.$log(&quot;[LITF_Mission] generateGovernmentItem&quot;);

    var storeObj = null;

    var stationData = _litf.litfVars.stationParams;
    var government = stationData.government;

    var valid = false;
    while (valid === false) {
        var idx = _co.$roll(0, _md.governmentStore.length - 1);
        storeObj = _md.governmentStore[idx];

        valid = true;
        if (storeObj.gov.indexOf(government) === -1) {
            valid = false;
        }
    }

    // Clone store object
    _co.$log(&quot;Clone store object&quot;);
    var obj = JSON.parse(JSON.stringify(storeObj));

    obj.missionId = -1;

    // Procedural generation
    var generate = {
        systems: 0,
        names: 0,
        books: 0,
        charities: 0,
        items: 0,
        jobs: 0,
        goods: 0,
        races: 0,
        liquors: 0,
        movies: 0,
        music: 0,
        art: 0,
        paintings: 0
    };

    if (obj.title.indexOf(&quot;%SYSTEM1%&quot;) &gt; -1 || obj.description.indexOf(&quot;%SYSTEM1%&quot;) &gt; -1) {
        generate.systems = generate.systems + 1;
    }

    if (obj.title.indexOf(&quot;%NAME1%&quot;) &gt; -1 || obj.description.indexOf(&quot;%NAME1%&quot;) &gt; -1) {
        generate.names = generate.names + 1;
    }

    if (obj.title.indexOf(&quot;%BOOK%&quot;) &gt; -1 || obj.description.indexOf(&quot;%BOOK%&quot;) &gt; -1) {
        generate.books = generate.books + 1;
    }

    if (obj.title.indexOf(&quot;%CHARITY%&quot;) &gt; -1 || obj.description.indexOf(&quot;%CHARITY%&quot;) &gt; -1) {
        generate.charities = generate.charities + 1;
    }

    if (obj.title.indexOf(&quot;%ITEM%&quot;) &gt; -1 || obj.description.indexOf(&quot;%ITEM%&quot;) &gt; -1) {
        generate.items = generate.items + 1;
    }

    if (obj.title.indexOf(&quot;%JOB%&quot;) &gt; -1 || obj.description.indexOf(&quot;%JOB%&quot;) &gt; -1) {
        generate.jobs = generate.jobs + 1;
    }

    if (obj.title.indexOf(&quot;%GOODS%&quot;) &gt; -1 || obj.description.indexOf(&quot;%GOODS%&quot;) &gt; -1) {
        generate.goods = generate.goods + 1;
    }

    if (obj.title.indexOf(&quot;%RACE%&quot;) &gt; -1 || obj.description.indexOf(&quot;%RACE%&quot;) &gt; -1) {
        generate.races = generate.races + 1;
    }

    if (obj.title.indexOf(&quot;%LIQUOR%&quot;) &gt; -1 || obj.description.indexOf(&quot;%LIQUOR%&quot;) &gt; -1) {
        generate.liquors = generate.liquors + 1;
    }

    if (obj.title.indexOf(&quot;%MOVIE%&quot;) &gt; -1 || obj.description.indexOf(&quot;%MOVIE%&quot;) &gt; -1) {
        generate.movies = generate.movies + 1;
    }

    if (obj.title.indexOf(&quot;%MUSIC%&quot;) &gt; -1 || obj.description.indexOf(&quot;%MUSIC%&quot;) &gt; -1) {
        generate.music = generate.music + 1;
    }

    if (obj.title.indexOf(&quot;%ART%&quot;) &gt; -1 || obj.description.indexOf(&quot;%ART%&quot;) &gt; -1) {
        generate.art = generate.art + 1;
    }

    if (obj.title.indexOf(&quot;%PAINTING%&quot;) &gt; -1 || obj.description.indexOf(&quot;%PAINTING%&quot;) &gt; -1) {
        generate.paintings = generate.paintings + 1;
    }

    //

    obj.tasks = [{}];

    // Procedural generation
    obj.tasks[0].info = this.$generateInfo(generate, 10, 20, []);

    //

    obj.title = this.$replaceKeys(obj.title, obj);

    return obj;
}

this.$generateRandomItem = function (store) {
    _co.$log(&quot;[LITF_Mission] generateRandomItem&quot;);

    var pFeedback = _litf.litfCommander.feedback;
    var maxSystemDistance = 10 + (Math.abs(pFeedback) / 5);

    var idx = _co.$roll(0, store.length - 1);
    var storeObj = store[idx];

    // Clone store object
    _co.$log(&quot;Clone store object&quot;);
    var obj = JSON.parse(JSON.stringify(storeObj));

    obj.missionId = -1;
    obj.contractor = randomName() + &quot; &quot; + randomName();

    // Face
    obj.faceBackground = this.$getFaceBackground(obj);

    // Procedural generation
    var generate = {
        systems: 0,
        names: 0,
        books: 0,
        charities: 0,
        items: 0,
        jobs: 0,
        goods: 0,
        races: 0,
        liquors: 0,
        movies: 0,
        music: 0,
        art: 0,
        paintings: 0
    };

    if (obj.title.indexOf(&quot;%SYSTEM1%&quot;) &gt; -1 || obj.description.indexOf(&quot;%SYSTEM1%&quot;) &gt; -1) {
        generate.systems = generate.systems + 1;
    }

    if (obj.title.indexOf(&quot;%NAME1%&quot;) &gt; -1 || obj.description.indexOf(&quot;%NAME1%&quot;) &gt; -1) {
        generate.names = generate.names + 1;
    }

    if (obj.title.indexOf(&quot;%BOOK%&quot;) &gt; -1 || obj.description.indexOf(&quot;%BOOK%&quot;) &gt; -1) {
        generate.books = generate.books + 1;
    }

    if (obj.title.indexOf(&quot;%CHARITY%&quot;) &gt; -1 || obj.description.indexOf(&quot;%CHARITY%&quot;) &gt; -1) {
        generate.charities = generate.charities + 1;
    }

    if (obj.title.indexOf(&quot;%ITEM%&quot;) &gt; -1 || obj.description.indexOf(&quot;%ITEM%&quot;) &gt; -1) {
        generate.items = generate.items + 1;
    }

    if (obj.title.indexOf(&quot;%JOB%&quot;) &gt; -1 || obj.description.indexOf(&quot;%JOB%&quot;) &gt; -1) {
        generate.jobs = generate.jobs + 1;
    }

    if (obj.title.indexOf(&quot;%GOODS%&quot;) &gt; -1 || obj.description.indexOf(&quot;%GOODS%&quot;) &gt; -1) {
        generate.goods = generate.goods + 1;
    }

    if (obj.title.indexOf(&quot;%RACE%&quot;) &gt; -1 || obj.description.indexOf(&quot;%RACE%&quot;) &gt; -1) {
        generate.races = generate.races + 1;
    }

    if (obj.title.indexOf(&quot;%LIQUOR%&quot;) &gt; -1 || obj.description.indexOf(&quot;%LIQUOR%&quot;) &gt; -1) {
        generate.liquors = generate.liquors + 1;
    }

    if (obj.title.indexOf(&quot;%MOVIE%&quot;) &gt; -1 || obj.description.indexOf(&quot;%MOVIE%&quot;) &gt; -1) {
        generate.movies = generate.movies + 1;
    }

    if (obj.title.indexOf(&quot;%MUSIC%&quot;) &gt; -1 || obj.description.indexOf(&quot;%MUSIC%&quot;) &gt; -1) {
        generate.music = generate.music + 1;
    }

    if (obj.title.indexOf(&quot;%ART%&quot;) &gt; -1 || obj.description.indexOf(&quot;%ART%&quot;) &gt; -1) {
        generate.art = generate.art + 1;
    }

    if (obj.title.indexOf(&quot;%PAINTING%&quot;) &gt; -1 || obj.description.indexOf(&quot;%PAINTING%&quot;) &gt; -1) {
        generate.paintings = generate.paintings + 1;
    }

    //

    obj.tasks = [{}];

    // Procedural generation
    obj.tasks[0].info = this.$generateInfo(generate, 12, maxSystemDistance, []);

    //

    obj.title = this.$replaceKeys(obj.title, obj);
    obj.description = this.$replaceKeys(obj.description, obj);

    _co.$log(&quot;obj.title = &quot; + obj.title);

    return obj;
}

this.$replaceKeys = function (text, mObj) {
    _co.$log(&quot;[LITF_Mission] replaceKeys&quot;);

    while (text.indexOf(&quot;%SYSTEM0%&quot;) &gt; -1) { text = text.replace(&quot;%SYSTEM0%&quot;, mObj.startingSystem.name); }
    while (text.indexOf(&quot;%SYSTEM1%&quot;) &gt; -1) { text = text.replace(&quot;%SYSTEM1%&quot;, mObj.tasks[0].info.systems[0].name); }
    while (text.indexOf(&quot;%SYSTEM2%&quot;) &gt; -1) { text = text.replace(&quot;%SYSTEM2%&quot;, mObj.tasks[1].info.systems[0].name); }

    while (text.indexOf(&quot;%NAME0%&quot;) &gt; -1) { text = text.replace(&quot;%NAME0%&quot;, mObj.contractor); }
    while (text.indexOf(&quot;%NAME1%&quot;) &gt; -1) { text = text.replace(&quot;%NAME1%&quot;, mObj.tasks[0].info.names[0]); }
    while (text.indexOf(&quot;%NAME2%&quot;) &gt; -1) { text = text.replace(&quot;%NAME2%&quot;, mObj.tasks[1].info.names[0]); }

    while (text.indexOf(&quot;%PLAYERNAME%&quot;) &gt; -1) { text = text.replace(&quot;%PLAYERNAME%&quot;, player.name); }

    while (text.indexOf(&quot;%REWARD%&quot;) &gt; -1) { text = text.replace(&quot;%REWARD%&quot;, mObj.reward); }

    while (text.indexOf(&quot;%BOOK%&quot;) &gt; -1) { text = text.replace(&quot;%BOOK%&quot;, mObj.tasks[0].info.books[0]); }
    while (text.indexOf(&quot;%CHARITY%&quot;) &gt; -1) { text = text.replace(&quot;%CHARITY%&quot;, mObj.tasks[0].info.charities[0]); }
    while (text.indexOf(&quot;%ITEM%&quot;) &gt; -1) { text = text.replace(&quot;%ITEM%&quot;, mObj.tasks[0].info.items[0]); }
    while (text.indexOf(&quot;%JOB%&quot;) &gt; -1) { text = text.replace(&quot;%JOB%&quot;, mObj.tasks[0].info.jobs[0]); }
    while (text.indexOf(&quot;%GOODS%&quot;) &gt; -1) { text = text.replace(&quot;%GOODS%&quot;, mObj.tasks[0].info.goods[0]); }
    while (text.indexOf(&quot;%RACE%&quot;) &gt; -1) { text = text.replace(&quot;%RACE%&quot;, mObj.tasks[0].info.races[0]); }
    while (text.indexOf(&quot;%LIQUOR%&quot;) &gt; -1) { text = text.replace(&quot;%LIQUOR%&quot;, mObj.tasks[0].info.liquors[0]); }
    while (text.indexOf(&quot;%MOVIE%&quot;) &gt; -1) { text = text.replace(&quot;%MOVIE%&quot;, mObj.tasks[0].info.movies[0]); }
    while (text.indexOf(&quot;%MUSIC%&quot;) &gt; -1) { text = text.replace(&quot;%MUSIC%&quot;, mObj.tasks[0].info.music[0]); }
    while (text.indexOf(&quot;%ART%&quot;) &gt; -1) { text = text.replace(&quot;%ART%&quot;, mObj.tasks[0].info.art[0]); }
    while (text.indexOf(&quot;%PAINTING%&quot;) &gt; -1) { text = text.replace(&quot;%PAINTING%&quot;, mObj.tasks[0].info.paintings[0]); }

    while (text.indexOf(&quot;%PASSENGERS%&quot;) &gt; -1) { text = text.replace(&quot;%PASSENGERS%&quot;, _bbs.$howManyPassengers(mObj)); }

    return text;
}

this.$missionAllocatedTime = function (mObj) {
    _co.$log(&quot;[LITF_Mission] missionAllocatedTime&quot;);

    var time = 0;
    var totalTime = 0;
    var route = null;
    var multi = 0;

    if (mObj.local === false) {
        var tasks = mObj.tasks.length;

        if (tasks === 1) {
            route = _co.$getSystemRoute(mObj.startingSystem.id, mObj.tasks[0].info.systems[0].id);

            if (mObj.tasks[0].urgent === true) {
                multi = 1.2;
            } else {
                multi = 1.5
            }
            totalTime = route.time * multi;
        } else if (tasks &gt; 1) {
            for (var ta = 0; ta &lt; mObj.tasks.length; ta++) {
                if (ta === 0) {
                    route = _co.$getSystemRoute(mObj.startingSystem.id, mObj.tasks[0].info.systems[0].id);
                } else {
                    route = _co.$getSystemRoute(mObj.tasks[ta - 1].info.systems[0].id, mObj.tasks[ta].info.systems[0].id);
                }

                if (mObj.tasks[ta].urgent === true) {
                    multi = 1 + parseInt(_co.$roll(1, 3) / 10);
                } else {
                    multi = 1 + parseInt(_co.$roll(3, 6) / 10);
                }

                totalTime = totalTime + (route.time * multi);
            }
        }
        time = totalTime * 3600; // seconds
    } else {
        time = 0;
    }

    // Debug //
    if (_litf.litfVars.config.debug === true) {
        // time = 30;
    }

    return Math.round(time);
}

this.$missionReward = function (mObj) {
    _co.$log(&quot;[LITF_Mission] missionReward2&quot;);

    var baseReward = 50;

    var passengers = 0;
    var urgentTask = false;
    var risk = 0;

    var reward = 0;
    var partialReward = 0;
    var multi = 1;

    // Missions without rewards
    if (mObj.noReward === true) {
        return -1;
    }

    // Local missions
    if (mObj.local === true) {
        _co.$log(&quot;local missions not implemented.&quot;)
        return 0;
    }

    // Non-local missions

    var taskNum = mObj.tasks.length;
    _co.$log(&quot;tasks = &quot; + taskNum);

    var absFeedback = Math.abs(_litf.litfCommander.feedback); // Absolute value player feedback
    multi = parseInt(absFeedback / 30);

    var groupMissionCompleted = _litf.litfCommander.statistics.missionCompleted[mObj.groupId];
    if (groupMissionCompleted &gt; 0 &amp;&amp; groupMissionCompleted &lt;= 50) {
        multi += parseInt(groupMissionCompleted / 10);
    }

    //

    if (taskNum === 1) {
        if (mObj.tasks[0].typeId === 5) {
            var cargoGoods = mObj.tasks[0].info.goods[0];
            var scPrice = _co.$getSubCommodityPrice(cargoGoods);
            var cargoTotal = _co.$roll(1, player.ship.cargoSpaceAvailable);

            var subPrice = parseInt((scPrice * cargoTotal) / 3);
            baseReward = baseReward + subPrice;

            _co.$log(&quot;cargoGoods[&quot; + cargoGoods + &quot;] scPrice[&quot; + scPrice + &quot;] cargoTotal[&quot; + cargoTotal + &quot;] subPrice = &quot; + subPrice);
        }

        if (mObj.passengers) { passengers = mObj.passengers; }
        if (passengers &gt; 2) { multi = multi + 1; } // Small groups
        if (passengers &gt; 4) { multi = multi + 1; } // Large groups

        if (mObj.tasks[0].urgent) { urgentTask = mObj.tasks[0].urgent; }
        if (urgentTask === true) { multi = multi + 1; }

        if (mObj.risk) { risk = mObj.risk; }
        multi = multi + risk;

        partialReward = baseReward * multi;
    } else {
        for (var ta = 0; ta &lt; taskNum; ta++) {
            var task = mObj.tasks[ta];

            multi = parseInt(absFeedback / 10);
            if (mObj.risk) { risk = mObj.risk; }
            multi = multi + risk;

            passengers = 0;
            if (task.passengers) { passengers = task.passengers; }
            if (passengers &gt; 2) { multi = multi + 1; } // Small groups
            if (passengers &gt; 4) { multi = multi + 1; } // Large groups

            urgentTask = false;
            if (task.urgent) { urgentTask = task.urgent; }
            if (urgentTask === true) { multi = multi + 1; }

            partialReward = partialReward + (baseReward * multi);
        }
    }

    var missionTimeHours = parseInt(mObj.timeAllowed / 3600);
    var multiTime = 11 - parseInt(missionTimeHours / 10);
    if (multiTime &lt; 1) { multiTime = 1; }
    var timeReward = multiTime * 100;
    reward = partialReward + timeReward;

    // // var pricePerHour = 10;
    // reward = partialReward + (missionTimeHours * pricePerHour);
    _co.$log(&quot;reward = &quot; + reward);

    // Adjust by system economy
    var econDesc = system.economyDescription;
    if (econDesc.indexOf(&quot;Rich&quot;) !== -1) {
        reward = parseInt(reward / 100 * 110);
    } else if (econDesc.indexOf(&quot;Poor&quot;) !== -1) {
        reward = parseInt(reward / 100 * 75);
    } else if (econDesc.indexOf(&quot;Mainly&quot;)) {
        reward = parseInt(reward / 100 * 90);
    }

    return reward;
}
</pre></td>
                </tr>
                <tr>
                    <td valign="top">Scripts/LITF_Station_alpha.js</td>
                    <td><pre>/* eslint-disable semi, no-multi-spaces, quotes, indent, no-tabs, yoda */
/* global worldScripts, mission, setScreenBackground, system */

&quot;use strict&quot;;

this.name	     = &quot;LITF_Station_ALPHA&quot;;
this.author	     = &quot;BeeTLe BeTHLeHeM&quot;;
this.copyright	 = &quot;2018 BeeTLe BeTHLeHeM&quot;;
this.description = &quot;Experimental Station Navigation (ALPHA)&quot;;
this.version	 = &quot;0.10.0&quot;;
this.licence	 = &quot;CC BY-NC-SA 4.0&quot;;

var _co  = null;
var _mi = null;
var _litf = null;

var $goPlace = this.$goPlace;

this.litfNavigation = null;

this.$init = function () {
    _co = worldScripts.LITF_Common;
    _mi = worldScripts.LITF_Missions;
    _litf = worldScripts.LITF;

    var stationData = _litf.litfVars.stationParams;
    var sGroups = _mi.groupsByGov[stationData.government];

    this.litfNavigation = {
        currentLocation: null,
        lastLocation: null,
        stationMapTemplate: this.testStationMap,
        systemTL: system.techLevel,
        stationData: stationData,
        stationGroups: sGroups
    };
}

this.$start = function () {
	this.$goPlace(&quot;hangar&quot;);
};

this.$goPlace = function (location) {
    var title = &quot;Roaming Around the Station&quot;;

    this.litfNavigation.lastLocation = this.litfNavigation.currentLocation;
    this.litfNavigation.currentLocation = location;

    var locationData = this.$getLocation(location);

    var text = &quot;LOCATION: &quot; + locationData.name + &quot;\n\n&quot; + locationData.description;

    var choices = this.$checkChoices(locationData.choices);

    var opts = {
        title: title,
        exitScreen: &quot;GUI_SCREEN_INTERFACES&quot;,
        message: text,
        choices: choices
    };

    mission.runScreen(opts, this.$executeChoice);

    if (locationData.background) {
        // setScreenBackground(locationData.background);
        setScreenBackground({ name: &quot;images/&quot; + locationData.background, height: 480 });
    }
};

this.$checkChoices = function (choiceArr) {
    var choices = {};
    var value = -1;

    for (var c = 0; c &lt; choiceArr.length; c++) {
        var cObj = choiceArr[c];

        var valid = true;
        if (cObj.requires) {
            var crSplit = cObj.requires.split(&quot;,&quot;);
            for (var cr = 0; cr &lt; crSplit.length; cr++) {
                var requires = crSplit[cr];
                var rSplit = requires.split(&quot; &quot;);

                if (rSplit[0] === &quot;TL&quot;) {
                    if (rSplit[1] === &quot;low&quot;) {
                        if (this.litfNavigation.systemTL &gt; 5) {
                            valid = false;
                        }
                    } else if (rSplit[1] === &quot;notlow&quot;) {
                        if (this.litfNavigation.systemTL &lt; 6) {
                            valid = false;
                        }
                    } else if (rSplit[1] === &quot;medium&quot;) {
                        if (this.litfNavigation.systemTL &lt; 6 || this.litfNavigation.systemTL &gt; 9) {
                            valid = false;
                        }
                    } else if (rSplit[1] === &quot;high&quot;) {
                        if (this.litfNavigation.systemTL &lt; 10) {
                            valid = false;
                        }
                    }
                } else if (rSplit[0] === &quot;group&quot;) {
                    value = parseInt(rSplit[1]);

                    if (this.litfNavigation.stationGroups.indexOf(value) === -1) {
                        valid = false;
                    }
                }
            }
        }

        if (valid === true) {
            choices[cObj.label] = cObj.text;
        }
    }

    return choices;
}

this.$getLocation = function (locationId) {
    locationId = locationId.toLowerCase();

    _co.$log(&quot;[LITF_Station_alpha] getLocation : &quot; + locationId);

    var stationMap = this.litfNavigation.stationMapTemplate;
    for (var l = 0; l &lt; stationMap.locations.length; l++) {
        var loc = stationMap.locations[l];
        _co.$log(&quot;[&quot; + l + &quot;] &quot; + loc.id);
        if (loc.id === locationId) {
            return loc;
        }
    }

    return null;
}

this.$executeChoice = function (choice) {
    var cSplit = choice.split(&quot;_&quot;); // choice index _ command _ parameters...

    var command = cSplit[1];
    if (command === &quot;QUIT&quot;) {
        _litf.$LITFinterface();
    } else if (command === &quot;GOTO&quot;) {
        $goPlace(cSplit[2]);
    }
}

// -----------------------------------------------------------------------------

this.testStationMap = {
    locations: [
        {
            id: &quot;hangar&quot;,
            name: &quot;Hangar&quot;,
            description: &quot;You see your ship, parked. There are other ships, in different conditions. You see a few of them being examined by the station droids, floating slowly around the hull detecting breaches.&quot;,
            background: &quot;bg_hangar.png&quot;,
            choices: [
                { label: &quot;01_QUIT&quot;, text: &quot;Embark your ship.&quot; },
                { label: &quot;02_GOTO_DOCKS&quot;, text: &quot;Go to the Docks.&quot; }
            ]
        },
        {
            id: &quot;docks&quot;,
            name: &quot;Docks&quot;,
            description: &quot;There&#39;s a lot of movement. You see droids moving crates and containers around, loading and offloading ships.&quot;,
            // background: &quot;bg_docks.png&quot;,
            choices: [
                { label: &quot;01_GOTO_LIFT&quot;, text: &quot;Go to the Station Lift&quot; },
                { label: &quot;02_GOTO_HANGAR&quot;, text: &quot;Enter the Hangar.&quot; },
                { label: &quot;03_GOTO_STORAGE&quot;, text: &quot;Enter the Storage Area.&quot;, requires: &quot;TL medium&quot; },
                { label: &quot;04_GOTO_REPAIR&quot;, text: &quot;Enter the Maintenance Area.&quot;, requires: &quot;TL high&quot; }
            ]
        },
        {
            id: &quot;storage&quot;,
            name: &quot;Storage Area&quot;,
            description: &quot;You see an endless row of containers of various colors and size.&quot;,
            // background: &quot;bg_storage.png&quot;,
            choices: [
                { label: &quot;01_GOTO_DOCKS&quot;, text: &quot;Go to the Docks.&quot; }
            ]
        },
        {
            id: &quot;repair&quot;,
            name: &quot;Maintenance Area&quot;,
            description: &quot;Several crews of people are repairing different ships.&quot;,
            // background: &quot;bg_repair.png&quot;,
            choices: [
                { label: &quot;01_GOTO_DOCKS&quot;, text: &quot;Go to the Docks.&quot; }
            ]
        },
        {
            id: &quot;lift&quot;,
            name: &quot;Station Lift Tube&quot;,
            description: &quot;The lift tube has several cabins going up and down to different levels. People come and go, alone and in groups. There&#39;s a continuous activity here, and a constant background noise.&quot;,
            // background: &quot;bg_lift.png&quot;,
            choices: [
                { label: &quot;01_GOTO_DOCKS&quot;, text: &quot;Take a cabin to the Docks Level.&quot; },
                { label: &quot;02_GOTO_AGRINDUSTRIAL&quot;, text: &quot;Take a cabin to the AgrIndustrial Level.&quot;, requires: &quot;group 10&quot; },
                { label: &quot;03_GOTO_CIVIC&quot;, text: &quot;Take a cabin to the Civic Level.&quot; },
                { label: &quot;04_GOTO_ENTERTAINMENT&quot;, text: &quot;Take a cabin to the Entertainment Level.&quot; },
                { label: &quot;05_GOTO_TOURISM&quot;, text: &quot;Take a cabin to the Tourism Level.&quot;, requires: &quot;group 6&quot; },
                { label: &quot;06_GOTO_ADMIN&quot;, text: &quot;Take a cabin to the Administrative Level.&quot; }
            ]
        },
        {
            id: &quot;civic&quot;,
            name: &quot;Civic Level Hub&quot;,
            description: &quot;You&#39;re at the entrance of the civic level, where the station permanent and semi-permanent population resides outside of work.&quot;,
            // background: &quot;bg_civic.png&quot;,
            choices: [
                { label: &quot;01_GOTO_LIFT&quot;, text: &quot;Go to the Station Lift&quot; },
                { label: &quot;02_GOTO_HIVES&quot;, text: &quot;Go to the Common Hives&quot;, requires: &quot;TL low&quot; },
                { label: &quot;03_GOTO_APARTMENTS&quot;, text: &quot;Go to the Apartments Complex&quot;, requires: &quot;TL notlow&quot; },
                { label: &quot;04_GOTO_LIBRARY&quot;, text: &quot;Go to the Public Library&quot;, requires: &quot;group 1&quot; },
                { label: &quot;05_GOTO_SQUARE&quot;, text: &quot;Go to the Public Square&quot;, requires: &quot;group 5&quot; },
                { label: &quot;06_GOTO_MEGAMALL&quot;, text: &quot;Go to the MEGAMall&quot;, requires: &quot;group 7,TL notlow&quot; }
            ]
        }
    ]
}
</pre></td>
                </tr>
            </table>
        </a>
    </body>
</html>
