<html>
    <head>
        <title>Expansion Traffic Redistributer</title>
        <link rel="stylesheet" href="../style.css">
    </head>
    <body>
        <table border="0" width="100%">
            <tr>
                <td>Back to <a href='../index.html'>Index</a></td>
                <td align="right"><small>Page generated: Oct 11, 2023, 3:16:49 PM</small></td>
            </tr>
        </table>

        <h1>Expansion Traffic Redistributer</h1>

        <h2>Content</h2>
        <ul>
          <li><a href="#warnings">Warnings</a></li>
          <li><a href="#manifest">Manifest</a></li>
          <li><a href="#documentation">Documentation</a></li>
          <li><a href="#equipment">4 Equipment</a></li>
          <li><a href="#ships">1 Ships</a></li>
          <li><a href="#models">0 Models</a></li>
          <li><a href="#scripts">1 Scripts</a></li>
        </ul>

          <a name="warnings">
            <h2>Warnings</h2>
            <ol>
                <li>Unknown key &#39;upload_date&#39; at https://wiki.alioth.net/img_auth.php/4/49/Oolite.oxp.redspear.traffic_redistributer.oxz!manifest.plist</li>
            </ol>
          </a>

        <a name="manifest">
        <h2>Manifest</h2>
            <table border="1">
                <tr>
                    <th></th>
                    <th>from Expansion Manager's OXP list</th>
                    <th>from Expansion Manifest</th>
                </tr>
                <tr>
                    <td>Description</td>
                    <td>Manipulates system traffic to reduce time spent in mass-lock with minimal side-effects. Press &#39;i&#39; for more information.
- - - - - - - - - -

Station bound traders are often headed in the same direction as the player and as such can contribute to some of the most time consuming and tedious mass-locks in the game. The basic idea here is to alter the probabilities of the various ships appearing to favour the slower ships without excluding any of the faster ones. Slower traders take less time (and/or fuel) to overtake and therefore result in more tolerable mass-locks.</td>
                    <td>Manipulates system traffic to reduce time spent in mass-lock with minimal side-effects. Press &#39;i&#39; for more information.
- - - - - - - - - -

Station bound traders are often headed in the same direction as the player and as such can contribute to some of the most time consuming and tedious mass-locks in the game. The basic idea here is to alter the probabilities of the various ships appearing to favour the slower ships without excluding any of the faster ones. Slower traders take less time (and/or fuel) to overtake and therefore result in more tolerable mass-locks.</td>
                </tr>
                <tr>
                    <td>Identifier</td>
                    <td>oolite.oxp.redspear.traffic_redistributer</td>
                    <td>oolite.oxp.redspear.traffic_redistributer</td>
                </tr>
                <tr>
                    <td>Title</td>
                    <td>Traffic Redistributer</td>
                    <td>Traffic Redistributer</td>
                </tr>
                <tr>
                    <td>Category</td>
                    <td>Mechanics</td>
                    <td>Mechanics</td>
                </tr>
                <tr>
                    <td>Author</td>
                    <td>Redspear</td>
                    <td>Redspear</td>
                </tr>
                <tr>
                    <td>Version</td>
                    <td>2.0</td>
                    <td>2.0</td>
                </tr>
                <tr>
                    <td>Tags</td>
                    <td></td>
                    <td></td>
                </tr>
                <tr>
                    <td>Required Oolite Version</td>
                    <td></td>
                    <td></td>
                </tr>
                <tr>
                    <td>Maximum Oolite Version</td>
                    <td></td>
                    <td></td>
                </tr>
                <tr>
                    <td>Required Expansions</td>
                    <td>
                    </td>
                    <td>
                    </td>
                </tr>
                <tr>
                    <td>Optional Expansions</td>
                    <td>
                    </td>
                    <td>
                    </td>
                </tr>
                <tr>
                    <td>Conflict Expansions</td>
                    <td>
                    </td>
                    <td>
                    </td>
                </tr>
                <tr>
                    <td>Information URL</td>
                    <td><a target="_blank" href="http://aegidian.org/bb/viewtopic.php?f=4&amp;t=18672">http://aegidian.org/bb/viewtopic.php?f=4&amp;t=18672</a></td>
                    <td><a target="_blank" href="">n/a</a></td>
                </tr>
                <tr>
                    <td>Download URL</td>
                    <td><a target="_blank" href="https://wiki.alioth.net/img_auth.php/4/49/Oolite.oxp.redspear.traffic_redistributer.oxz">https://wiki.alioth.net/img_auth.php/4/49/Oolite.oxp.redspear.traffic_redistributer.oxz</a></td>
                    <td><a target="_blank" href="">n/a</a></td>
                </tr>
                <tr>
                    <td>License</td>
                    <td>CC-BY-NC-SA 4.0</td>
                    <td>CC-BY-NC-SA 4.0</td>
                </tr>
                <tr>
                    <td>File Size</td>
                    <td>n/a</td>
                </tr>
                <tr>
                    <td>Upload date</td>
                    <td>1610873295</td>
                </tr>
            </table>
                </a>

        <a name="documentation">
        <h2>Documentation</h2>
        <p>Also read <a href='http://wiki.alioth.net/index.php/Traffic%20Redistributer'>http://wiki.alioth.net/index.php/Traffic%20Redistributer</a></p>
        </a>

        <a name="equipment">          
        <h2>Equipment</h2>
            <table>
                <tr>
                    <th>Name</th>
                    <th>Visible</th>
                    <th>Cost [deci-credits]</th>
                    <th>Tech-Level</th>
                </tr>
                <tr>
                    <td><a href="../equipment/EQ_TR_FOUR.html">TR Four</a></td>
                    <td>no</td>
                    <td align="right">1</td>
                    <td align="center">101+</td>
                </tr>
                <tr>
                    <td><a href="../equipment/EQ_TR_ONE.html">TR One</a></td>
                    <td>no</td>
                    <td align="right">1</td>
                    <td align="center">101+</td>
                </tr>
                <tr>
                    <td><a href="../equipment/EQ_TR_THREE.html">TR Three</a></td>
                    <td>no</td>
                    <td align="right">1</td>
                    <td align="center">101+</td>
                </tr>
                <tr>
                    <td><a href="../equipment/EQ_TR_TWO.html">TR Two</a></td>
                    <td>no</td>
                    <td align="right">1</td>
                    <td align="center">101+</td>
                </tr>
            </table>
        </a>

        <a name="ships">    
        <h2>Ships</h2>
            <table>
                <tr>
                    <th>Name</th>
                </tr>
                <tr>
                    <td><a href="../ships/oolite_transporter-trader.html">oolite_transporter-trader</a></td>
                </tr>
            </table>
        </a>

        <a name="models">    
        <h2>Models</h2>
            This expansion declares no models. This may be related to warnings.
        </a>

        <a name="scripts">    
        <h2>Scripts</h2>
            <table>
                <tr>
                    <th>Path</th>
                </tr>
                <tr>
                    <td valign="top">Scripts/traffic_redistributer.js</td>
                    <td><pre>this.name        = &quot;traffic_redistributer&quot;; 
this.author      = &quot;Redspear&quot;; 
this.copyright   = &quot;2018 Redspear&quot;;
this.licence     = &quot;CC BY-NC-SA 4.0&quot;; 
this.description = &quot;Script to reduce appearance of fast traders from other oxps&quot;; 
this.version     = &quot;2.0&quot;;

&quot;use strict&quot;;

// set variables
this.startUp = function()
{
	if (player.ship.equipmentStatus(&quot;EQ_TR_ONE&quot;) == &quot;EQUIPMENT_OK&quot;) {
		this._TRcount = 1;
		}
		else {
		if (player.ship.equipmentStatus(&quot;EQ_TR_TWO&quot;) == &quot;EQUIPMENT_OK&quot;) {
			this._TRcount = 2;
			}
			else {
			if (player.ship.equipmentStatus(&quot;EQ_TR_THREE&quot;) == &quot;EQUIPMENT_OK&quot;) {
				this._TRcount = 3;
				}
				else {
				if (player.ship.equipmentStatus(&quot;EQ_TR_FOUR&quot;) == &quot;EQUIPMENT_OK&quot;) {
					this._TRcount = 4;
					}
					else {
					this._TRcount = 0;
					}
				}
			}
		}
}

//	first four fast traders are rejected (core ships are exempt) and then the counter is reset
this.allowSpawnShip = function ()
{
	if ((ship.primaryRole == &quot;trader&quot; || ship.primaryRole == &quot;trader-courier&quot; || ship.primaryRole == &quot;trader-smuggler&quot; || ship.primaryRole == &quot;shuttle&quot;) &amp;&amp; ship.maxSpeed &gt; 300 &amp;&amp; (ship.dataKey != &quot;asp&quot; || ship.dataKey != &quot;sidewinder&quot; || ship.dataKey != &quot;mamba&quot; || ship.dataKey != &quot;boamk2&quot;)) { // so tempted to exclude the boa cruisers :-P
		if (_TRcount &lt; 5) {
			this._TRcount = _TRcount + 1;
			return false;
			}
			else {
				this._TRcount = 0;
				return true;
				}
			}
			else {
			return true;
			}
				
}

//	clean up for save game and leave equipment marker if appropriate
this.playerWillSaveGame = function ()
{
	player.ship.removeEquipment(&quot;EQ_TR_ONE&quot;);
	player.ship.removeEquipment(&quot;EQ_TR_TWO&quot;);
	player.ship.removeEquipment(&quot;EQ_TR_THREE&quot;);
	player.ship.removeEquipment(&quot;EQ_TR_FOUR&quot;);
	
	if (this._TRcount = 1) {
		player.ship.awardEquipment(&quot;EQ_TR_ONE&quot;);
		}
		else {
			if (this._TRcount = 2) {
				player.ship.awardEquipment(&quot;EQ_TR_TWO&quot;);
				}
				else {
					if (this._TRcount = 3) {
						player.ship.awardEquipment(&quot;EQ_TR_THREE&quot;);
						}
						else {
							if (this._TRcount = 4) {
								player.ship.awardEquipment(&quot;EQ_TR_FOUR&quot;);
								}
								else {
									return;
								}
							}
					}
			}
	
}

</pre></td>
                </tr>
            </table>
        </a>
    </body>
</html>
