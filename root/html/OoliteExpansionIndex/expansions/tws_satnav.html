<html>
    <head>
        <title>Expansion Galactic SatNav</title>
        <link rel="stylesheet" href="../style.css">
    </head>
    <body>
        <table border="0" width="100%">
            <tr>
                <td>Back to <a href='../index.html'>Index</a></td>
                <td align="right"><small>Page generated: Oct 11, 2023, 3:16:49 PM</small></td>
            </tr>
        </table>

        <h1>Expansion Galactic SatNav</h1>

        <h2>Content</h2>
        <ul>
          
          <li><a href="#manifest">Manifest</a></li>
          <li><a href="#documentation">Documentation</a></li>
          <li><a href="#equipment">1 Equipment</a></li>
          <li><a href="#ships">0 Ships</a></li>
          <li><a href="#models">0 Models</a></li>
          <li><a href="#scripts">2 Scripts</a></li>
        </ul>


        <a name="manifest">
        <h2>Manifest</h2>
            <table border="1">
                <tr>
                    <th></th>
                    <th>from Expansion Manager's OXP list</th>
                    <th>from Expansion Manifest</th>
                </tr>
                <tr>
                    <td>Description</td>
                    <td>A navigation aid for long journeys</td>
                    <td>A navigation aid for long journeys</td>
                </tr>
                <tr>
                    <td>Identifier</td>
                    <td>tws_satnav</td>
                    <td>tws_satnav</td>
                </tr>
                <tr>
                    <td>Title</td>
                    <td>Galactic SatNav</td>
                    <td>Galactic SatNav</td>
                </tr>
                <tr>
                    <td>Category</td>
                    <td>Equipment</td>
                    <td>Equipment</td>
                </tr>
                <tr>
                    <td>Author</td>
                    <td>Wyn Sleeman</td>
                    <td>Wyn Sleeman</td>
                </tr>
                <tr>
                    <td>Version</td>
                    <td>0.0.2</td>
                    <td>0.0.2</td>
                </tr>
                <tr>
                    <td>Tags</td>
                    <td></td>
                    <td></td>
                </tr>
                <tr>
                    <td>Required Oolite Version</td>
                    <td></td>
                    <td></td>
                </tr>
                <tr>
                    <td>Maximum Oolite Version</td>
                    <td></td>
                    <td></td>
                </tr>
                <tr>
                    <td>Required Expansions</td>
                    <td>
                    </td>
                    <td>
                    </td>
                </tr>
                <tr>
                    <td>Optional Expansions</td>
                    <td>
                    </td>
                    <td>
                    </td>
                </tr>
                <tr>
                    <td>Conflict Expansions</td>
                    <td>
                    </td>
                    <td>
                    </td>
                </tr>
                <tr>
                    <td>Information URL</td>
                    <td><a target="_blank" href="http://wiki.alioth.net/index.php/GalacticSatNav">http://wiki.alioth.net/index.php/GalacticSatNav</a></td>
                    <td><a target="_blank" href="">n/a</a></td>
                </tr>
                <tr>
                    <td>Download URL</td>
                    <td><a target="_blank" href="https://wiki.alioth.net/img_auth.php/a/ac/Tws_satnav.oxz">https://wiki.alioth.net/img_auth.php/a/ac/Tws_satnav.oxz</a></td>
                    <td><a target="_blank" href="http://wiki.alioth.net/img_auth.php/a/ac/Tws_satnav.oxz">http://wiki.alioth.net/img_auth.php/a/ac/Tws_satnav.oxz</a></td>
                </tr>
                <tr>
                    <td>License</td>
                    <td>CC-BY-NC-SA 4.0</td>
                    <td>CC-BY-NC-SA 4.0</td>
                </tr>
                <tr>
                    <td>File Size</td>
                    <td>n/a</td>
                </tr>
                <tr>
                    <td>Upload date</td>
                    <td>1610873407</td>
                </tr>
            </table>
                </a>

        <a name="documentation">
        <h2>Documentation</h2>
        <p>Also read <a href='http://wiki.alioth.net/index.php/Galactic%20SatNav'>http://wiki.alioth.net/index.php/Galactic%20SatNav</a></p>
        <h3>tws_satnav_readme.txt</h3>
        <pre>---------------------------------
Galactic Sat Nav  ver. 0.0.2
---------------------------------
      Date: October, 2014
    Author: Wyn Sleeman


-------------
Instructions:
-------------

The Galactic Sat Nav is a software upgrade to the Advanced Navigational Array
Simply set a destination in either the Local or long range Chart, then Activate the Sat Nav (shift-N to prime, then n to activate)
Every time you enter the local chart the Sat Nav will prompt which local system you should travel to for either the shortest or quickest journey.
When you reach your destination the Sat Nav will automatically switch off.
---------------
Recent changes:
---------------
0.0.2 Changed required tech level, price
0.0.1 Changed the messages a bit to show distance, no of jumps, time.  Made it non-damageable - It is a software update !
0.0.0 This is the initial pre-release
</pre>
        </a>

        <a name="equipment">          
        <h2>Equipment</h2>
            <table>
                <tr>
                    <th>Name</th>
                    <th>Visible</th>
                    <th>Cost [deci-credits]</th>
                    <th>Tech-Level</th>
                </tr>
                <tr>
                    <td><a href="../equipment/EQ_TWS_GALACTICSATNAV.html">Galactic Sat Nav</a></td>
                    <td>yes</td>
                    <td align="right">5000</td>
                    <td align="center">8+</td>
                </tr>
            </table>
        </a>

        <a name="ships">    
        <h2>Ships</h2>
            This expansion declares no ships. 
        </a>

        <a name="models">    
        <h2>Models</h2>
            This expansion declares no models. 
        </a>

        <a name="scripts">    
        <h2>Scripts</h2>
            <table>
                <tr>
                    <th>Path</th>
                </tr>
                <tr>
                    <td valign="top">Config/script.js</td>
                    <td><pre>this.name           = &quot;tws_satnav_main&quot;;
this.author         = &quot;Wyn Sleeman&quot;;
this.copyright      = &quot;(C) 2014 Wyn Sleeman&quot;;
this.licence        = &quot;CC-NC-by-SA 3.0&quot;;
this.description    = &quot;Navigation aid for long journeys&quot;;
this.version        = &quot;0.01&quot;;
this.equipmentName  = &quot;EQ_TWS_GALACTICSATNAV&quot;;
&quot;use strict&quot;;

//WorldSpace Handlers
this.startUp = function()
{
	this._finalDestination = -1;
	if(missionVariables.tws_satnav_finalDestination === null) return;
	
	this._finalDestination = missionVariables.tws_satnav_finalDestination;
}

this.playerWillSaveGame = function(message)
{
	if(this._okToContinue() == true)
	{
		missionVariables.tws_satnav_finalDestination = this._finalDestination;
	}
	else
	{
		missionVariables.tws_satnav_finalDestination = null;
	}
}

this.guiScreenChanged = function(to, from)
{
	if(guiScreen != &quot;GUI_SCREEN_SHORT_RANGE_CHART&quot;) return;
	if(this._okToContinue() == false) return;
	if(this._finalDestination == system.ID) 
	{
		this._finalDestination = -1;
		return;
	}
    player.consoleMessage(&quot;Routes to &quot; + System.systemNameForID(this._finalDestination), 10);

	this._destinationInfo = System.infoForSystem(system.info.galaxyID, this._finalDestination);

	this._route = system.info.routeToSystem(this._destinationInfo,&quot;OPTIMIZED_BY_JUMPS&quot;);
	if(! this._route) return;
	this._showRouteDescription(&quot;Shortest&quot;);

	this._route = system.info.routeToSystem(this._destinationInfo,&quot;OPTIMIZED_BY_TIME&quot;);
	if(! this._route) return;

	this._showRouteDescription(&quot;Quickest&quot;);
}

this.playerEnteredNewGalaxy = function(galaxyNumber)
{
	this._finalDestination = -1;
}

this.shipExitedWitchspace = function()
{
	if(this._okToContinue()==false) return;
	if(this._finalDestination == system.ID) 
	{
		player.consoleMessage(&quot;SatNav OFF: You have arrived at &quot; + System.systemNameForID(this._finalDestination) , 6);
		this._finalDestination = -1;
		return;
	}
}


//Internal Functions
this._setDestination = function()
{
	if(player.ship.targetSystem &gt;= 0)
	{
		this._finalDestination = player.ship.targetSystem;
		player.consoleMessage(&quot;SatNav ON. Destination: &quot; + System.systemNameForID(player.ship.targetSystem), 6);
	}
}
this._okToContinue = function()
{
	if(player.ship.equipmentStatus(&quot;EQ_ADVANCED_NAVIGATIONAL_ARRAY&quot;) != &quot;EQUIPMENT_OK&quot;) return false;
	if(player.ship.equipmentStatus(this.equipmentName) != &quot;EQUIPMENT_OK&quot;) return false;
	if(this._finalDestination == -1) return false;
	return true;
}
this._showRouteDescription = function(routeType)
{
	let _result = routeType;
	if(this._route.route.length &lt;= 2)
	{
		_result += &quot;: Direct to &quot; + System.systemNameForID(this._finalDestination) + &quot; (&quot;;
	}
	else 
	{
		_result += &quot;: via &quot; + System.systemNameForID(this._route.route[1]) + &quot; (&quot;+ formatInteger(this._route.route.length -1) + &quot; J, &quot;;
	}
	_result += formatCredits(this._route.distance, true, false) + &quot; LY, &quot; + formatCredits(this._route.time, true, false) +&quot; hrs)&quot;;
	
	player.consoleMessage( _result, 10);
	delete _result;
}</pre></td>
                </tr>
                <tr>
                    <td valign="top">Scripts/tws_satnav_activation.js</td>
                    <td><pre>this.name           = &quot;tws_satnav_activation&quot;;
this.description    = &quot;Activation Handler for TWS Satnav&quot;
this.author         = &quot;Wyn Sleeman&quot;;
this.copyright      = &quot;Â© 2014 Wyn Sleeman&quot;;
this.license		= &quot;CC-BY-NC-SA 4.0&quot;;
this.version        = &quot;0.0&quot;;

&quot;use strict&quot;;
this.activated = function ()
{
	worldScripts[&quot;tws_satnav_main&quot;]._setDestination();
}
</pre></td>
                </tr>
            </table>
        </a>
    </body>
</html>
