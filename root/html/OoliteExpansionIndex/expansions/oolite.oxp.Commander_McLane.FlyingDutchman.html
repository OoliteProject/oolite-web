<html>
    <head>
        <title>Expansion Flying Dutchman</title>
        <link rel="stylesheet" href="../style.css">
    </head>
    <body>
        <table border="0" width="100%">
            <tr>
                <td>Back to <a href='../index.html'>Index</a></td>
                <td align="right"><small>Page generated: Oct 11, 2023, 3:16:48 PM</small></td>
            </tr>
        </table>

        <h1>Expansion Flying Dutchman</h1>

        <h2>Content</h2>
        <ul>
          
          <li><a href="#manifest">Manifest</a></li>
          <li><a href="#documentation">Documentation</a></li>
          <li><a href="#equipment">0 Equipment</a></li>
          <li><a href="#ships">2 Ships</a></li>
          <li><a href="#models">0 Models</a></li>
          <li><a href="#scripts">3 Scripts</a></li>
        </ul>


        <a name="manifest">
        <h2>Manifest</h2>
            <table border="1">
                <tr>
                    <th></th>
                    <th>from Expansion Manager's OXP list</th>
                    <th>from Expansion Manifest</th>
                </tr>
                <tr>
                    <td>Description</td>
                    <td>This OXP introduces the small possibility to encounter a ghost ship.</td>
                    <td>This OXP introduces the small possibility to encounter a ghost ship.</td>
                </tr>
                <tr>
                    <td>Identifier</td>
                    <td>oolite.oxp.Commander_McLane.FlyingDutchman</td>
                    <td>oolite.oxp.Commander_McLane.FlyingDutchman</td>
                </tr>
                <tr>
                    <td>Title</td>
                    <td>Flying Dutchman</td>
                    <td>Flying Dutchman</td>
                </tr>
                <tr>
                    <td>Category</td>
                    <td>Missions</td>
                    <td>Missions</td>
                </tr>
                <tr>
                    <td>Author</td>
                    <td>Commander McLane</td>
                    <td>Commander McLane</td>
                </tr>
                <tr>
                    <td>Version</td>
                    <td>1.7</td>
                    <td>1.7</td>
                </tr>
                <tr>
                    <td>Tags</td>
                    <td></td>
                    <td></td>
                </tr>
                <tr>
                    <td>Required Oolite Version</td>
                    <td></td>
                    <td></td>
                </tr>
                <tr>
                    <td>Maximum Oolite Version</td>
                    <td></td>
                    <td></td>
                </tr>
                <tr>
                    <td>Required Expansions</td>
                    <td>
                    </td>
                    <td>
                    </td>
                </tr>
                <tr>
                    <td>Optional Expansions</td>
                    <td>
                    </td>
                    <td>
                    </td>
                </tr>
                <tr>
                    <td>Conflict Expansions</td>
                    <td>
                    </td>
                    <td>
                    </td>
                </tr>
                <tr>
                    <td>Information URL</td>
                    <td><a target="_blank" href="http://wiki.alioth.net/index.php/Flying_Dutchman_OXP">http://wiki.alioth.net/index.php/Flying_Dutchman_OXP</a></td>
                    <td><a target="_blank" href="">n/a</a></td>
                </tr>
                <tr>
                    <td>Download URL</td>
                    <td><a target="_blank" href="https://wiki.alioth.net/img_auth.php/7/7c/FlyingDutchman-1.7.oxz">https://wiki.alioth.net/img_auth.php/7/7c/FlyingDutchman-1.7.oxz</a></td>
                    <td><a target="_blank" href="">n/a</a></td>
                </tr>
                <tr>
                    <td>License</td>
                    <td>CC-BY-NC-SA 3.0</td>
                    <td>CC-BY-NC-SA 3.0</td>
                </tr>
                <tr>
                    <td>File Size</td>
                    <td>n/a</td>
                </tr>
                <tr>
                    <td>Upload date</td>
                    <td>1610873343</td>
                </tr>
            </table>
                </a>

        <a name="documentation">
        <h2>Documentation</h2>
        <p>Also read <a href='http://wiki.alioth.net/index.php/Flying%20Dutchman'>http://wiki.alioth.net/index.php/Flying%20Dutchman</a></p>
        <h3>.~lock.readMe.rtf#</h3>
        <pre>,dybal,dybal,26.11.2020 13:57,file:///home/dybal/.config/libreoffice/4;</pre>
        <h3>readMe.rtf</h3>
        <pre>{\rtf1\ansi\ansicpg1252\cocoartf1038\cocoasubrtf350
\readonlydoc1{\fonttbl\f0\fswiss\fcharset0 Helvetica;}
{\colortbl;\red255\green255\blue255;}
\paperw11905\paperh16837\margl1440\margr1440\vieww12720\viewh8880\viewkind0
\pard\tx566\tx1133\tx1700\tx2267\tx2834\tx3401\tx3968\tx4535\tx5102\tx5669\tx6236\tx6803\qc\pardirnatural

\f0\b\fs26 \cf0 \ul \ulc0 Flying Dutchman v 1.7
\b0 \ulnone \
\
by &quot;Commander McLane&quot;\
\
inspired by a model by &quot;Griff&quot;\
and a story by &quot;Captain Hesperus&quot;\
\
\
an Expansion Pack for Oolite by Giles Williams\
\
based on &quot;Elite&quot; by Ian Bell and David Braben\
\pard\tx566\tx1133\tx1700\tx2267\tx2834\tx3401\tx3968\tx4535\tx5102\tx5669\tx6236\tx6803\ql\qnatural\pardirnatural
\cf0 \
\
\ul Introduction\ulnone \
\
&#39;...and, inevitably, as the chronometers count down the seconds to midnight and the windows of the station&#39;s bar grow dark as the planet blocks out the light of the star, the old timers sit nearer together and begin to trade tales of &#39;The Phantom Cobra&#39;. Some claim that it&#39;s the ghost of Commander Peter Jameson, reported lost at the end of the last Thargoid War, others that it is simply a manifestation of all those lost souls who were trapped in the trackless depths of interstellar space. One common story is the trail of bad luck and hideous deaths that follow in the wake of the ship&#39;s sightings...&#39;\
\
\ul Overview\ulnone \
\
This OXP introduces the small possibility to encounter a ghost ship, the tale of which is sung in shady bars (and in the news, if they have nothing else to report). After an introduction, which will eventually be triggered if you just fly around a little, you can meet the ship itself. Find out whether the tales and stories contain a grain of truth...\
\
\ul Featured Ships\ulnone \
\
Griff&#39;s Wireframe Cobra triggered and inspired this OXP. It&#39;s the sole ship contained in it.\
\
\ul Minimum Requirements\ulnone \
\
Flying_Dutchman.oxp in version 1.7 requires at least Oolite 1.75.\
\
\ul Download Location\ulnone \
\
This OXP is available for download via the {\field{\*\fldinst{HYPERLINK &quot;http://wiki.alioth.net/index.php/Flying_Dutchman_OXP&quot;}}{\fldrslt Elite Wiki}}.\
\
\ul Installation\ulnone \
\
Move or copy the file Flying_Dutchman.oxp from this folder to the AddOns folder. Where this resides depends on your system. Restart Oolite.\
\
\ul Acknowledgements\ulnone \
\
Thanks to Griff for his ingenious model of the Wireframe Cobra, which inspired this little OXP.\
\
Thanks to Captain Hesperus for the short story he posted on the Oolite BB, which set the tone for what this OXP does.\
\
Also thanks to all the Oolite coders who are making the scripting model more and more sophisticated, thereby making OXPs like this possible.\
\
\ul License\ulnone \
\
This work is licensed under the Creative\&#39;a0Commons Attribution-NonCommercial-ShareAlike License version 3.0. For more information see the ReadMe of Oolite or the {\field{\*\fldinst{HYPERLINK &quot;http://creativecommons.org/licenses/by-nc-sa/3.0/&quot;}}{\fldrslt Creative Commons&#39; website}}.\
\
Practically this means that you may rip it apart and use whatever seems useful to you, as long as you credit the original author. It would be nice\&#39;97although by no means necessary\&#39;97to give me a note, if you intend to use parts of it.\
\
\ul History\ulnone \
\
version 1.7 (April 10th, 2011)\
- moved all self-defined methods into their own namespace\
- disabled NPC-shields for the Flying Dutchman if NPC-shields.oxp is installed\
\
version 1.6 (February 22nd, 2011)\
- corrected a bug preventing one of the bad lucks from working properly\
- now using a frame callback for the temperature rising\
- made the OXP compatible to Oolite 1.75\
- therefore it won&#39;t run in Oolite versions below that\
\
version 1.5 (September 9th, 2009)\
- one addition to bad luck\
- made the OXP compatible to Oolite 1.73.2\
- therefore it won&#39;t run in Oolite versions below that\
\
version 1.4 (November 4th, 2008)\
- the ghost ship is now spawned directly in the player&#39;s path\
- made the OXP compatible to Oolite 1.72\
- therefore it won&#39;t run in Oolite versions below that\
\
version 1.3 (August 14th, 2008)\
- corrected a bug that could delay the second mission screen\
- two additions to bad luck\
\
version 1.2 (July 27th, 2008)\
- corrected a bug introduced with one of the improvements in 1.1\
\
version 1.1 (July 25th, 2008)\
- two small improvements\
\
version 1.0 (July 24th, 2008)\
- fully functional version\
- requires Oolite 1.71\
}</pre>
        </a>

        <a name="equipment">          
        <h2>Equipment</h2>
            This expansion declares no equipment. 
        </a>

        <a name="ships">    
        <h2>Ships</h2>
            <table>
                <tr>
                    <th>Name</th>
                </tr>
                <tr>
                    <td><a href="../ships/flying-dutchman.html">flying-dutchman</a></td>
                </tr>
                <tr>
                    <td><a href="../ships/flying-dutchman-runner.html">flying-dutchman-runner</a></td>
                </tr>
            </table>
        </a>

        <a name="models">    
        <h2>Models</h2>
            This expansion declares no models. 
        </a>

        <a name="scripts">    
        <h2>Scripts</h2>
            <table>
                <tr>
                    <th>Path</th>
                </tr>
                <tr>
                    <td valign="top">Config/script.js</td>
                    <td><pre>/*

script.js

Script for telling the tale of the Flying Dutchman.


Oolite
Copyright © 2003-2011 Giles C Williams and contributors

This program is free software; you can redistribute it and/or
modify it under the terms of the GNU General Public License
as published by the Free Software Foundation; either version 2
of the License, or (at your option) any later version.

This program is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
GNU General Public License for more details.

You should have received a copy of the GNU General Public License
along with this program; if not, write to the Free Software
Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston,
MA 02110-1301, USA.


Flying_Dutchman.oxp
Copyright © 2008-2011 &quot;Commander McLane&quot;

This work is licensed under the Creative Commons
Attribution-Noncommercial-Share Alike 3.0 Unported License.

To view a copy of this license, visit
http://creativecommons.org/licenses/by-nc-sa/3.0/ or send a letter
to Creative Commons, 171 Second Street, Suite 300, San Francisco,
California, 94105, USA.

*/

&quot;use strict&quot;;

this.name           = &quot;Flying Dutchman&quot;;
this.description    = &quot;Script for telling the tale of the Flying Dutchman&quot;;
this.author         = &quot;Commander McLane&quot;;
this.copyright      = &quot;© 2011 Commander McLane&quot;;
this.license		= &quot;CC-by-nc-sa 3.0&quot;;
this.version        = &quot;1.7&quot;;


this.missionOffers = function()
{
	if (guiScreen == &quot;GUI_SCREEN_MISSION&quot;) return;
	if (player.ship.dockedStation.isMainStation)
	{
		if (!missionVariables.flying_dutchman &amp;&amp; Math.random() &gt; 0.92)
		{
			mission.runScreen({titleKey:&quot;flying_dutchman_newstitle&quot;, messageKey:&quot;flying_dutchman_newsflash&quot;, background:&quot;iNews.png&quot;});
			missionVariables.flying_dutchman = &quot;NEWS&quot;;
			missionVariables.flying_dutchman_jumpcounter = 0;
		}
		if (missionVariables.flying_dutchman == &quot;NEWS&quot; &amp;&amp; system.government &gt; 4 &amp;&amp; missionVariables.flying_dutchman_jumpcounter &gt;= 3)
		{
			mission.runScreen({titleKey:&quot;flying_dutchman_encountertitle&quot;, messageKey:&quot;flying_dutchman_encounter&quot;});
			missionVariables.flying_dutchman = &quot;ENCOUNTER&quot;;
			delete missionVariables.flying_dutchman_jumpcounter;
		}
	}
}

this.missionScreenOpportunity = function()
{
	this.missionOffers();
}

this.shipWillExitWitchspace = function()
{
	if (system.isInterstellarSpace) return;
	if (missionVariables.flying_dutchman == &quot;NEWS&quot;) missionVariables.flying_dutchman_jumpcounter ++;
	if (missionVariables.flying_dutchman == &quot;ENCOUNTER&quot;) system.addShipsToRoute(&quot;flying_dutchman_runner&quot;, 1, 0.25, &quot;wp&quot;);
	if (missionVariables.flying_dutchman == &quot;SEE_YOU_AGAIN&quot; &amp;&amp; Math.random() &gt; 0.95) system.addShipsToRoute(&quot;flying_dutchman_runner&quot;, 1, 0.25, &quot;wp&quot;);
}
</pre></td>
                </tr>
                <tr>
                    <td valign="top">Scripts/flying-dutchman-cobra.js</td>
                    <td><pre>/*

flying-dutchman-cobra.js

Script for the Flying Dutchman.


Oolite
Copyright © 2003-2011 Giles C Williams and contributors

This program is free software; you can redistribute it and/or
modify it under the terms of the GNU General Public License
as published by the Free Software Foundation; either version 2
of the License, or (at your option) any later version.

This program is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
GNU General Public License for more details.

You should have received a copy of the GNU General Public License
along with this program; if not, write to the Free Software
Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston,
MA 02110-1301, USA.


Flying_Dutchman.oxp
Copyright © 2008-2011 &quot;Commander McLane&quot;

This work is licensed under the Creative Commons
Attribution-Noncommercial-Share Alike 3.0 Unported License.

To view a copy of this license, visit
http://creativecommons.org/licenses/by-nc-sa/3.0/ or send a letter
to Creative Commons, 171 Second Street, Suite 300, San Francisco,
California, 94105, USA.

*/

&quot;use strict&quot;;

this.name           = &quot;flying-dutchman-cobra&quot;;
this.description    = &quot;Script for the Flying Dutchman&quot;;
this.author         = &quot;Commander McLane&quot;;
this.copyright      = &quot;© 2011 Commander McLane&quot;;
this.license		= &quot;CC-by-nc-sa 3.0&quot;;
this.version        = &quot;1.7&quot;;


var equipment_key = new Array(
	&quot;EQ_ECM&quot;,
	&quot;EQ_FUEL_SCOOPS&quot;,
	&quot;EQ_ESCAPE_POD&quot;,
	&quot;EQ_ENERGY_BOMB&quot;,
	&quot;EQ_ENERGY_UNIT&quot;,
	&quot;EQ_NAVAL_ENERGY_UNIT&quot;,
	&quot;EQ_DOCK_COMP&quot;,
	&quot;EQ_GAL_DRIVE&quot;,
	&quot;EQ_FUEL_INJECTION&quot;,
	&quot;EQ_ADVANCED_COMPASS&quot;,
	&quot;EQ_SHIELD_BOOSTER&quot;,
	&quot;EQ_NAVAL_SHIELD_BOOSTER&quot;,
	&quot;EQ_HEAT_SHIELD&quot;,
	&quot;EQ_WORMHOLE_SCANNER&quot;
);

var equipment_name = new Array(
	&quot;E.C.M. System&quot;,
	&quot;Fuel Scoops&quot;,
	&quot;Escape Pod&quot;,
	&quot;Energy Bomb&quot;,
	&quot;Extra Energy Unit&quot;,
	&quot;Naval Energy Unit&quot;,
	&quot;Docking Computers&quot;,
	&quot;Galactic Hyperdrive&quot;,
	&quot;Witchdrive Fuel Injectors&quot;,
	&quot;Advanced Space Compass&quot;,
	&quot;Shield Boosters&quot;,
	&quot;Military Shield Enhancement&quot;,
	&quot;External Heat Shielding&quot;,
	&quot;Wormhole Scanner&quot;
);


this.$checkTemperature = function()
{
	if(player.ship.temperature &gt; 1.2)
	{
		removeFrameCallback(this.raiseTemperature);
        this.temperatureCheck.stop();
		player.consoleMessage(&quot;Phew, that was critical. A/C back online.&quot;, 3);
		return;
	}
}

this.$tumble = function()
{
	this.ship.reactToAIMessage(&quot;LET_HIM_TUMBLE&quot;);
	if(this.tumbleCounter++ &gt; 10) this.tumbleTimer.stop();
}

this.$playerBadLuck = function()
{
	missionVariables.flying_dutchman = &quot;SEE_YOU_AGAIN&quot;;
	var badLuck = Math.ceil(Math.random()*12);
	switch(badLuck)
	{
	case 1:
		if(player.ship.fuel &gt; 0)
		{
			player.ship.fuelLeakRate = 8;
			player.consoleMessage(&quot;Bad luck! Fuel leak detected.&quot;, 6);
		}
		break;
		
	case 2:
		var equip = Math.floor(Math.random()*14);
		if(player.ship.equipmentStatus(equipment_key[equip]) == &quot;EQUIPMENT_OK&quot;)
		{
			player.consoleMessage(&quot;Oops! Your &quot; + equipment_name[equip] + &quot; mysteriously broke.&quot;, 6);
			player.ship.setEquipmentStatus(equipment_key[equip], &quot;EQUIPMENT_DAMAGED&quot;);
		}
		break;
		
	case 3:
		var pirateGroup = system.addGroup(&quot;pirate&quot;, 5, player.ship.position, 8000);
        for(i=0; i&lt;pirateGroup.count; i++)
        {
            pirateGroup.ships[i].target = player.ship;
            pirateGroup.ships[i].AIState = (&quot;ATTACK_SHIP&quot;);
        }
		player.consoleMessage(&quot;Bad luck! Some pirates materialized out of nowhere.&quot;, 6);
		break;
		
	case 4:
		this.ship.ejectSpecificItem(&quot;qbomb&quot;);
		break;
		
	case 5:
		if(player.ship.dumpCargo()) player.consoleMessage(&quot;Oops! Lost some cargo.&quot;, 6);
		break;
		
	case 6:
		player.consoleMessage(&quot;Bad luck! A/C broken. Temperature rising.&quot;, 6);
		this.raiseTemperature = addFrameCallback(function(){player.ship.temperature += 0.016;})
		if(this.temperatureCheck) this.temperatureCheck.start();
		else this.temperatureCheck = new Timer(this, this.$checkTemperature, 0, 0.25);
		break;
		
	case 7:
			player.consoleMessage(&quot;Bad luck! A Trumble somehow materialized right in front of you.&quot;, 6);
			player.ship.awardEquipment(&quot;EQ_TRUMBLE&quot;);
		break;
		
	case 8:
		system.addShips(&quot;asteroid&quot;, 1, player.ship.position.add(player.ship.orientation.vectorForward().multiply(2000)), 0);
		player.consoleMessage(&quot;Oops! Where did that asteroid come from?&quot;, 6);
		break;
		
	case 9:
		player.consoleMessage(&quot;Oops! What&#39;s happening with your controls?&quot;, 6);
		this.tumbleCounter = 0;
		if(this.tumbleTimer) this.tumbleTimer.start();
		else this.tumbleTimer = new Timer(this, this.$tumble, 0, 0.5);
		break;

	case 10:
		player.consoleMessage(&quot;Oops! Where are these missiles coming from?&quot;, 6);
		var dutchmanMissiles = system.addShips(&quot;missile&quot;, 6, player.ship.position, 7000);
		for (var i=0; i&lt;dutchmanMissiles.length; i++)
		{
			dutchmanMissiles[i].target = player.ship;
		}
		break;
	
	case 11:
		if(player.bounty &lt; 51)
		{
			player.consoleMessage(&quot;Oops! It seems you have become a fugitive! And where do the cops come from so suddenly?!&quot;, 6);
			player.bounty += 120;
			system.addShips(&quot;police&quot;, 3, player.ship.position, 10000);
		}
		break;
		
	case 12:
		{
			player.consoleMessage(&quot;What?!? A major bank just all of a sudden went bancrupt! You lost 5 per cent of all your credits!&quot;, 6);
			player.credits = player.credits * 0.95;
		}
	}
}

this.playerWillEnterWitchspace = this.shipDied = function()
{
	if(this.tempRaise) delete this.tempRaise;
	if(this.tumbleTimer) delete this.tumbleTimer;
}</pre></td>
                </tr>
                <tr>
                    <td valign="top">Scripts/flying-dutchman-runner.js</td>
                    <td><pre>/*

flying-dutchman-runner.js

Script for spawning the Flying Dutchman.


Oolite
Copyright © 2003-2011 Giles C Williams and contributors

This program is free software; you can redistribute it and/or
modify it under the terms of the GNU General Public License
as published by the Free Software Foundation; either version 2
of the License, or (at your option) any later version.

This program is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
GNU General Public License for more details.

You should have received a copy of the GNU General Public License
along with this program; if not, write to the Free Software
Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston,
MA 02110-1301, USA.


Flying_Dutchman.oxp
Copyright © 2008-2011 &quot;Commander McLane&quot;

This work is licensed under the Creative Commons
Attribution-Noncommercial-Share Alike 3.0 Unported License.

To view a copy of this license, visit
http://creativecommons.org/licenses/by-nc-sa/3.0/ or send a letter
to Creative Commons, 171 Second Street, Suite 300, San Francisco,
California, 94105, USA.

*/

&quot;use strict&quot;;

this.name           = &quot;flying-dutchman-runner&quot;;
this.description    = &quot;Script for spawning the Flying Dutchman&quot;;
this.author         = &quot;Commander McLane&quot;;
this.copyright      = &quot;© 2011 Commander McLane&quot;;
this.license		= &quot;CC-by-nc-sa 3.0&quot;;
this.version        = &quot;1.7&quot;;


this.$spawnFlyingDutchman = function()
{
	system.addShips(&quot;flying_dutchman&quot;, 1, player.ship.position.add(player.ship.orientation.vectorForward().multiply(27000)), 500);
}
</pre></td>
                </tr>
            </table>
        </a>
    </body>
</html>
