<html>
    <head>
        <title>Expansion Extra Fuel Tanks</title>
        <link rel="stylesheet" href="../style.css">
    </head>
    <body>
        <table border="0" width="100%">
            <tr>
                <td>Back to <a href='../index.html'>Index</a></td>
                <td align="right"><small>Page generated: Oct 11, 2023, 3:16:49 PM</small></td>
            </tr>
        </table>

        <h1>Expansion Extra Fuel Tanks</h1>

        <h2>Content</h2>
        <ul>
          
          <li><a href="#manifest">Manifest</a></li>
          <li><a href="#documentation">Documentation</a></li>
          <li><a href="#equipment">7 Equipment</a></li>
          <li><a href="#ships">0 Ships</a></li>
          <li><a href="#models">0 Models</a></li>
          <li><a href="#scripts">1 Scripts</a></li>
        </ul>


        <a name="manifest">
        <h2>Manifest</h2>
            <table border="1">
                <tr>
                    <th></th>
                    <th>from Expansion Manager's OXP list</th>
                    <th>from Expansion Manifest</th>
                </tr>
                <tr>
                    <td>Description</td>
                    <td>Additional Reserve (1LY) and Auxiliary (3LY) fuel tanks. These are fitted internally and can be re-filled.</td>
                    <td>Additional Reserve (1LY) and Auxiliary (3LY) fuel tanks. These are fitted internally and can be re-filled.</td>
                </tr>
                <tr>
                    <td>Identifier</td>
                    <td>oolite.oxp.smivs.ExtraFuelTanks</td>
                    <td>oolite.oxp.smivs.ExtraFuelTanks</td>
                </tr>
                <tr>
                    <td>Title</td>
                    <td>Extra Fuel Tanks</td>
                    <td>Extra Fuel Tanks</td>
                </tr>
                <tr>
                    <td>Category</td>
                    <td>Equipment</td>
                    <td>Equipment</td>
                </tr>
                <tr>
                    <td>Author</td>
                    <td>Smivs</td>
                    <td>Smivs</td>
                </tr>
                <tr>
                    <td>Version</td>
                    <td>1.8</td>
                    <td>1.8</td>
                </tr>
                <tr>
                    <td>Tags</td>
                    <td></td>
                    <td></td>
                </tr>
                <tr>
                    <td>Required Oolite Version</td>
                    <td></td>
                    <td></td>
                </tr>
                <tr>
                    <td>Maximum Oolite Version</td>
                    <td></td>
                    <td></td>
                </tr>
                <tr>
                    <td>Required Expansions</td>
                    <td>
                    </td>
                    <td>
                    </td>
                </tr>
                <tr>
                    <td>Optional Expansions</td>
                    <td>
                    </td>
                    <td>
                    </td>
                </tr>
                <tr>
                    <td>Conflict Expansions</td>
                    <td>
                    </td>
                    <td>
                    </td>
                </tr>
                <tr>
                    <td>Information URL</td>
                    <td><a target="_blank" href="http://wiki.alioth.net/index.php/ExtraFuelTanks">http://wiki.alioth.net/index.php/ExtraFuelTanks</a></td>
                    <td><a target="_blank" href="">n/a</a></td>
                </tr>
                <tr>
                    <td>Download URL</td>
                    <td><a target="_blank" href="https://wiki.alioth.net/img_auth.php/9/90/ExtraFuelTanks-v1.8.oxz">https://wiki.alioth.net/img_auth.php/9/90/ExtraFuelTanks-v1.8.oxz</a></td>
                    <td><a target="_blank" href="">n/a</a></td>
                </tr>
                <tr>
                    <td>License</td>
                    <td>CC-BY-NC-SA 4.0</td>
                    <td>CC-BY-NC-SA 4.0</td>
                </tr>
                <tr>
                    <td>File Size</td>
                    <td>n/a</td>
                </tr>
                <tr>
                    <td>Upload date</td>
                    <td>1610873369</td>
                </tr>
            </table>
                </a>

        <a name="documentation">
        <h2>Documentation</h2>
        <p>Also read <a href='http://wiki.alioth.net/index.php/Extra%20Fuel%20Tanks'>http://wiki.alioth.net/index.php/Extra%20Fuel%20Tanks</a></p>
        <h3>readme.rtf</h3>
        <pre>ï»¿ExtraFuelTanks OXP V1.8

This OXP adds buyable extra fuel tanks. These are primable equipment - &#39;Shift-n&#39; to prime, and &#39;n&#39; to activate. There are two types of tank available.

The Reserve Tank holds 1LY of Liquified Quirium Gas.

The Auxiliary Tank holds 3LY of Liquified Quirium Gas.

You may only fit one type of tank, so decide which will be the best for you. The &#39;Reserve&#39; is an emergency top-up for when you are almost out of fuel. The &#39;Auxiliary&#39; is much more of a game-changer allowing you to be much more flexible in terms of refuelling by docking or sunskimming.

You can buy a Full Tank (Cr 10 000 for the &#39;Reserve&#39; and Cr 50 000 for the Auxiliary) from any TL10+ station. This will appear on the F5 screen as &#39;Reserve Fuel Tank&#39; or &#39;Auxiliary Fuel Tank&#39;. 

The fuel can be moved into the main tank when the main tank is empty. The F5 screen will then show the Reserve or Auxiliary tank to be &#39;Empty&#39;.

After use you can refill the tank. &#39;Refill Reserve Tank&#39; for Cr 10 or &#39;Refill Auxiliary Tank&#39; for Cr 30. The tanks can be refilled at any Main Station.

If you have a Reserve Tank, you can upgrade to an Auxiliary Tank. The Reserve Tank must be empty, and the cost of the conversion is Cr 40 000. The new Auxiliary Tank will be full and ready for use.

License:-
This work is licensed under the Creative Commons Attribution-Noncommercial-Share Alike 4.0 Unported License.

Author:-
The OXP was developed by Smivs.




</pre>
        </a>

        <a name="equipment">          
        <h2>Equipment</h2>
            <table>
                <tr>
                    <th>Name</th>
                    <th>Visible</th>
                    <th>Cost [deci-credits]</th>
                    <th>Tech-Level</th>
                </tr>
                <tr>
                    <td><a href="../equipment/EQ_1LY_CHARGE.html">Refill Reserve Fuel Tank</a></td>
                    <td>no</td>
                    <td align="right">100</td>
                    <td align="center">1+</td>
                </tr>
                <tr>
                    <td><a href="../equipment/EQ_3LY_CHARGE.html">Refill Auxiliary Fuel Tank</a></td>
                    <td>no</td>
                    <td align="right">300</td>
                    <td align="center">1+</td>
                </tr>
                <tr>
                    <td><a href="../equipment/EQ_AUX_TANK.html">Auxiliary Fuel Tank -Full</a></td>
                    <td>yes</td>
                    <td align="right">500000</td>
                    <td align="center">10+</td>
                </tr>
                <tr>
                    <td><a href="../equipment/EQ_AUX_TANK_EMPTY.html">Auxiliary Fuel Tank - Empty</a></td>
                    <td>yes</td>
                    <td align="right">500000</td>
                    <td align="center">17+</td>
                </tr>
                <tr>
                    <td><a href="../equipment/EQ_RESERVE_TANK.html">Reserve Fuel Tank - Full</a></td>
                    <td>yes</td>
                    <td align="right">100000</td>
                    <td align="center">10+</td>
                </tr>
                <tr>
                    <td><a href="../equipment/EQ_RESERVE_TANK_EMPTY.html">Reserve Fuel Tank - Empty</a></td>
                    <td>yes</td>
                    <td align="right">100000</td>
                    <td align="center">17+</td>
                </tr>
                <tr>
                    <td><a href="../equipment/EQ_UPGRADE_TANK.html">Upgrade Reserve Fuel Tank to Auxiliary Fuel Tank</a></td>
                    <td>no</td>
                    <td align="right">400000</td>
                    <td align="center">10+</td>
                </tr>
            </table>
        </a>

        <a name="ships">    
        <h2>Ships</h2>
            This expansion declares no ships. 
        </a>

        <a name="models">    
        <h2>Models</h2>
            This expansion declares no models. 
        </a>

        <a name="scripts">    
        <h2>Scripts</h2>
            <table>
                <tr>
                    <th>Path</th>
                </tr>
                <tr>
                    <td valign="top">Scripts/extra_tanks_script.js</td>
                    <td><pre>&quot;use strict&quot;;

// Standard attributes 
this.name           = &quot;extra_tanks_script.js&quot;; 
this.author         = &quot;Smivs&quot;; 
this.copyright      = &quot;(C) Smivs&quot;;
this.licence        = &quot;Creative Commons Attribution - Non-Commercial - Share Alike 4.0&quot;;
this.version        = &quot;1.8&quot;; 
this.description    = &quot;Script to control tanks and refills, and upgrade reserve to auxiliary tank.&quot;; 


this.startUp = function()
// check for old-version variables at start
{
  if (missionVariables.TL_FOR_EQ_RESERVE_TANK_EMPTY || missionVariables.TL_FOR_EQ_AUX_TANK_EMPTY)
    {
// set mission flag
      this.missionFlag = &quot;NO&quot;;
      this.startUpComplete;
      delete this.startUp;
  }
}
this.missionScreenOpportunity = function()
// check for old-version variables 
{
  if (missionVariables.TL_FOR_EQ_RESERVE_TANK_EMPTY || missionVariables.TL_FOR_EQ_AUX_TANK_EMPTY)
    {
// Do nothing now if tank is damaged
      if (player.ship.docked &amp;&amp; player.ship.equipmentStatus(&quot;EQ_RESERVE_TANK&quot; || &quot;EQ_RESERVE_TANK_EMPTY&quot; || &quot;EQ_AUX_TANK&quot; || &quot;EQ_AUX_TANK_EMPTY&quot;) == &quot;EQUIPMENT_DAMAGED&quot;) 
        {
          return;
        }
// otherwise clean up and replace old status variables from previous versions and run mission screen
      if (player.ship.docked &amp;&amp; player.ship.equipmentStatus(&quot;EQ_RESERVE_TANK&quot;) == &quot;EQUIPMENT_OK&quot;)
        {
          delete missionVariables.TL_FOR_EQ_RESERVE_TANK_EMPTY;
          missionVariables.extra_tank_status = &quot;RESERVE_TANK_FULL&quot;;
          mission.runScreen({title: &quot;!!! Fuel Tank Safety Notice !!!&quot;, messageKey: &quot;extraTank_B_C_Update&quot;}); 
          this.missionFlag = &quot;DONE&quot;;
        }
      if (player.ship.docked &amp;&amp; player.ship.equipmentStatus(&quot;EQ_RESERVE_TANK_EMPTY&quot;) == &quot;EQUIPMENT_OK&quot;)
        {
          delete missionVariables.TL_FOR_EQ_RESERVE_TANK_EMPTY;
          missionVariables.extra_tank_status = &quot;RESERVE_TANK_EMPTY&quot;;
          mission.runScreen({title: &quot;!!! Fuel Tank Safety Notice !!!&quot;, messageKey: &quot;extraTank_B_C_Update&quot;}); 
          this.missionFlag = &quot;DONE&quot;;
        }
      if (player.ship.docked &amp;&amp; player.ship.equipmentStatus(&quot;EQ_AUX_TANK&quot;) == &quot;EQUIPMENT_OK&quot;)
        {
          delete missionVariables.TL_FOR_EQ_AUX_TANK_EMPTY;
          missionVariables.extra_tank_status = &quot;AUX_TANK_FULL&quot;;
          mission.runScreen({title: &quot;!!! Fuel Tank Safety Notice !!!&quot;, messageKey: &quot;extraTank_B_C_Update&quot;}); 
          this.missionFlag = &quot;DONE&quot;;
        }
      if (player.ship.docked &amp;&amp; player.ship.equipmentStatus(&quot;EQ_AUX_TANK_EMPTY&quot;) == &quot;EQUIPMENT_OK&quot;)
        {
          delete missionVariables.TL_FOR_EQ_AUX_TANK_EMPTY;
          missionVariables.extra_tank_status = &quot;AUX_TANK_EMPTY&quot;;
          mission.runScreen({title: &quot;!!! Fuel Tank Safety Notice !!!&quot;, messageKey: &quot;extraTank_B_C_Update&quot;}); 
          this.missionFlag = &quot;DONE&quot;;
        }
    } 
}
// handle purchase of tanks and refills
this.playerBoughtEquipment = function(equipment)
{
  if (equipment == &quot;EQ_RESERVE_TANK&quot;)
    {
      missionVariables.extra_tank_status = &quot;RESERVE_TANK_FULL&quot;;
    }
  if (equipment == &quot;EQ_AUX_TANK&quot;)
    {
      missionVariables.extra_tank_status = &quot;AUX_TANK_FULL&quot;;
    }
  if (equipment == &quot;EQ_1LY_CHARGE&quot;)
    {
      player.ship.removeEquipment(&quot;EQ_1LY_CHARGE&quot;);
      player.ship.removeEquipment(&quot;EQ_RESERVE_TANK_EMPTY&quot;);
      player.ship.awardEquipment(&quot;EQ_RESERVE_TANK&quot;);
      missionVariables.extra_tank_status = &quot;RESERVE_TANK_FULL&quot;;
    }
  if (equipment == &quot;EQ_3LY_CHARGE&quot;)
    {
      player.ship.removeEquipment(&quot;EQ_3LY_CHARGE&quot;);
      player.ship.removeEquipment(&quot;EQ_AUX_TANK_EMPTY&quot;);
      player.ship.awardEquipment(&quot;EQ_AUX_TANK&quot;);
      missionVariables.extra_tank_status = &quot;AUX_TANK_FULL&quot;;
    }
  if (equipment== &quot;EQ_UPGRADE_TANK&quot;)
    {
      player.ship.removeEquipment(&quot;EQ_RESERVE_TANK_EMPTY&quot;);
      player.ship.removeEquipment(&quot;EQ_UPGRADE_TANK&quot;);
      player.ship.awardEquipment(&quot;EQ_AUX_TANK&quot;);
      missionVariables.extra_tank_status = &quot;AUX_TANK_FULL&quot;;
    }
}
this.activated = function()
{
// if reserve tank activated
  if (player.ship.fuel === 0 &amp;&amp; player.ship.equipmentStatus (&quot;EQ_RESERVE_TANK&quot;) == &quot;EQUIPMENT_OK&quot; &amp;&amp; missionVariables.extra_tank_status == &quot;RESERVE_TANK_FULL&quot;)
     {
       this.ship.fuel += 1.0;
       player.ship.removeEquipment(&quot;EQ_RESERVE_TANK&quot;);
       player.ship.awardEquipment(&quot;EQ_RESERVE_TANK_EMPTY&quot;);
       missionVariables.extra_tank_status = &quot;RESERVE_TANK_EMPTY&quot;;
       player.consoleMessage(&quot;Fuel transferred to Main Tank&quot;);
     }
// unless the main tank is too full
  else if (player.ship.fuel &gt; 0 &amp;&amp; player.ship.equipmentStatus (&quot;EQ_RESERVE_TANK&quot;) == &quot;EQUIPMENT_OK&quot; &amp;&amp; missionVariables.extra_tank_status == &quot;RESERVE_TANK_FULL&quot;)
     {
       player.consoleMessage(&quot;Fuel transfer cancelled - Main Tank must be empty&quot;);
       return;
     }
// or the reserve tank is empty
  else if (player.ship.fuel &gt; 0 &amp;&amp; player.ship.equipmentStatus (&quot;EQ_RESERVE_TANK_EMPTY&quot;) == &quot;EQUIPMENT_OK&quot; &amp;&amp; missionVariables.extra_tank_status == &quot;RESERVE_TANK_EMPTY&quot;)
     {
       player.consoleMessage(&quot;Fuel transfer un-available - Reserve Tank is empty.&quot;);
       return;
     }
// if auxiliary tank activated
  else if (player.ship.fuel === 0 &amp;&amp; player.ship.equipmentStatus (&quot;EQ_AUX_TANK&quot;) == &quot;EQUIPMENT_OK&quot; &amp;&amp; missionVariables.extra_tank_status === &quot;AUX_TANK_FULL&quot;)
     {
        this.ship.fuel += 3.0;
        player.ship.removeEquipment(&quot;EQ_AUX_TANK&quot;);
        player.ship.awardEquipment(&quot;EQ_AUX_TANK_EMPTY&quot;);
	missionVariables.extra_tank_status = &quot;AUX_TANK_EMPTY&quot;;
        player.consoleMessage(&quot;Fuel transferred to Main Tank&quot;);
      }
// unless the main tank is too full
  else if (player.ship.fuel &gt; 0 &amp;&amp; player.ship.equipmentStatus (&quot;EQ_AUX_TANK&quot;) == &quot;EQUIPMENT_OK&quot; &amp;&amp; missionVariables.extra_tank_status === &quot;AUX_TANK_FULL&quot;)
      {
        player.consoleMessage(&quot;Fuel transfer cancelled - Main Tank must be empty&quot;);
        return;
      }
// or the auxiliary tank is empty
  else if (player.ship.fuel &gt; 0 &amp;&amp; player.ship.equipmentStatus (&quot;EQ_AUX_TANK_EMPTY&quot;) == &quot;EQUIPMENT_OK&quot; &amp;&amp; missionVariables.extra_tank_status == &quot;AUX_TANK_EMPTY&quot;)
      {
        player.consoleMessage(&quot;Fuel transfer un-available - Auxiliary Tank is empty.&quot;);
        return;
      }
}
this.allowAwardEquipment = function(equipment, ship, context)
// condition scripting for Refills and Upgrade to control availability
{
  if (equipment == &quot;EQ_1LY_CHARGE&quot;)
    {
      if (context == &quot;purchase&quot; &amp;&amp; player.ship.equipmentStatus(&quot;EQ_RESERVE_TANK_EMPTY&quot;) == &quot;EQUIPMENT_OK&quot; &amp;&amp; missionVariables.extra_tank_status == &quot;RESERVE_TANK_EMPTY&quot;)
	{
	  return true;
	}
    }
 if (equipment == &quot;EQ_3LY_CHARGE&quot;)
    {
      if (context == &quot;purchase&quot; &amp;&amp; player.ship.equipmentStatus(&quot;EQ_AUX_TANK_EMPTY&quot;) == &quot;EQUIPMENT_OK&quot; &amp;&amp; missionVariables.extra_tank_status == &quot;AUX_TANK_EMPTY&quot;)
	{
	  return true;
	}
    }
  if (equipment == &quot;EQ_UPGRADE_TANK&quot;)
    {
      if (context == &quot;purchase&quot; &amp;&amp; player.ship.equipmentStatus(&quot;EQ_RESERVE_TANK_EMPTY&quot;) == &quot;EQUIPMENT_OK&quot; &amp;&amp; missionVariables.extra_tank_status == (&quot;RESERVE_TANK_EMPTY&quot;))
	{
	  return true;
	}
    }
}
</pre></td>
                </tr>
            </table>
        </a>
    </body>
</html>
