<html>
    <head>
        <title>Expansion Battle Damage</title>
        <link rel="stylesheet" href="../style.css">
    </head>
    <body>
        <table border="0" width="100%">
            <tr>
                <td>Back to <a href='../index.html'>Index</a></td>
                <td align="right"><small>Page generated: Oct 11, 2023, 3:16:49 PM</small></td>
            </tr>
        </table>

        <h1>Expansion Battle Damage</h1>

        <h2>Content</h2>
        <ul>
          
          <li><a href="#manifest">Manifest</a></li>
          <li><a href="#documentation">Documentation</a></li>
          <li><a href="#equipment">2 Equipment</a></li>
          <li><a href="#ships">0 Ships</a></li>
          <li><a href="#models">0 Models</a></li>
          <li><a href="#scripts">1 Scripts</a></li>
        </ul>


        <a name="manifest">
        <h2>Manifest</h2>
            <table border="1">
                <tr>
                    <th></th>
                    <th>from Expansion Manager's OXP list</th>
                    <th>from Expansion Manifest</th>
                </tr>
                <tr>
                    <td>Description</td>
                    <td>Causes damage to your hull when hit while shields are down. The damage should be repaired promptly to avoid problems.</td>
                    <td>Causes damage to your hull when hit while shields are down. The damage should be repaired promptly to avoid problems.</td>
                </tr>
                <tr>
                    <td>Identifier</td>
                    <td>oolite.oxp.smivs.BattleDamage</td>
                    <td>oolite.oxp.smivs.BattleDamage</td>
                </tr>
                <tr>
                    <td>Title</td>
                    <td>Battle Damage</td>
                    <td>Battle Damage</td>
                </tr>
                <tr>
                    <td>Category</td>
                    <td>Ambience</td>
                    <td>Ambience</td>
                </tr>
                <tr>
                    <td>Author</td>
                    <td>Smivs</td>
                    <td>Smivs</td>
                </tr>
                <tr>
                    <td>Version</td>
                    <td>1.3</td>
                    <td>1.3</td>
                </tr>
                <tr>
                    <td>Tags</td>
                    <td></td>
                    <td></td>
                </tr>
                <tr>
                    <td>Required Oolite Version</td>
                    <td></td>
                    <td></td>
                </tr>
                <tr>
                    <td>Maximum Oolite Version</td>
                    <td></td>
                    <td></td>
                </tr>
                <tr>
                    <td>Required Expansions</td>
                    <td>
                    </td>
                    <td>
                    </td>
                </tr>
                <tr>
                    <td>Optional Expansions</td>
                    <td>
                    </td>
                    <td>
                    </td>
                </tr>
                <tr>
                    <td>Conflict Expansions</td>
                    <td>
                    </td>
                    <td>
                    </td>
                </tr>
                <tr>
                    <td>Information URL</td>
                    <td><a target="_blank" href="http://wiki.alioth.net/index.php/BattleDamage">http://wiki.alioth.net/index.php/BattleDamage</a></td>
                    <td><a target="_blank" href="">n/a</a></td>
                </tr>
                <tr>
                    <td>Download URL</td>
                    <td><a target="_blank" href="https://wiki.alioth.net/img_auth.php/a/a6/BattleDamage_v1.3.oxz">https://wiki.alioth.net/img_auth.php/a/a6/BattleDamage_v1.3.oxz</a></td>
                    <td><a target="_blank" href="">n/a</a></td>
                </tr>
                <tr>
                    <td>License</td>
                    <td>CC-BY-NC-SA 4.0</td>
                    <td>CC-BY-NC-SA 4.0</td>
                </tr>
                <tr>
                    <td>File Size</td>
                    <td>n/a</td>
                </tr>
                <tr>
                    <td>Upload date</td>
                    <td>1610873403</td>
                </tr>
            </table>
                </a>

        <a name="documentation">
        <h2>Documentation</h2>
        <p>Also read <a href='http://wiki.alioth.net/index.php/Battle%20Damage'>http://wiki.alioth.net/index.php/Battle%20Damage</a></p>
        <h3>readme.rtf</h3>
        <pre>ï»¿Battle Damage OXP v1.3

This OXP adds an immersive factor into the game. 
When your shields are gone, your opponents&#39; lasers are directly hitting your hull, but in the &#39;core&#39; game this has no obvious impact or repercussions. This OXP adds this &#39;realism&#39; into the game by causing damage to your ship&#39;s hull, which if not repaired promptly will lead to problems such as fuel leaks and mis-jumps.
If you take an un-shielded hit, a console message will alert you to the fact with a warning:- &#39;WARNING! HULL DAMAGE&#39; and further hits will be notified with another console message:- &#39;Hull taking further damage&#39;.
Upon docking, someone will point out this damage to you and urge you to have emergency repairs made at the Ship Outfitters (F3). 
Here you will find &#39;Emergency Hull Repairs&#39; offered for 75Cr. These repairs are fairly basic and consist of new Duralium plates welded over the damaged areas to ensure structural integrity and airtightness where needed. Repairs will take around six to eight hours of game time, after which your ship will be spaceworthy again. 
If you are offered a Maintenance Overhaul, this WILL include any emergency repairs. &#39;Emergency Hull Repairs&#39; will also be offered, so you can still make repairs even if you wish to defer the Overhaul at this time. Choose one or the other.
Any damaged equipment will need to be repaired seperately.
If you do not have repairs made, you may experience mis-jumps or fuel leaks as a consequence of the damage. If you launch damaged the station staff will sometimes overlook this if the damage is not too severe although you may be reminded about the damage when you next dock. Sometimes the station you are leaving will point out the damage but let you go on your way, or you may encounter problems on launching and be urged to re-dock immediately for repairs, and you might even get a telling-off from one of the Dock officials and a small fine.

Author:- Smivs
Licence:- Creative Commons Attribution - Non-Commercial - Share Alike 4.0 license&quot;
</pre>
        </a>

        <a name="equipment">          
        <h2>Equipment</h2>
            <table>
                <tr>
                    <th>Name</th>
                    <th>Visible</th>
                    <th>Cost [deci-credits]</th>
                    <th>Tech-Level</th>
                </tr>
                <tr>
                    <td><a href="../equipment/EQ_HULL_REPAIR.html">Emergency Hull Repairs</a></td>
                    <td>no</td>
                    <td align="right">750</td>
                    <td align="center">1+</td>
                </tr>
                <tr>
                    <td><a href="../equipment/EQ_RENOVATION.html">Maintenance Overhaul</a></td>
                    <td>yes</td>
                    <td align="right">1000</td>
                    <td align="center">7+</td>
                </tr>
            </table>
        </a>

        <a name="ships">    
        <h2>Ships</h2>
            This expansion declares no ships. 
        </a>

        <a name="models">    
        <h2>Models</h2>
            This expansion declares no models. 
        </a>

        <a name="scripts">    
        <h2>Scripts</h2>
            <table>
                <tr>
                    <th>Path</th>
                </tr>
                <tr>
                    <td valign="top">Scripts/battle_damage_script.js</td>
                    <td><pre>&quot;use strict&quot;;

// Standard attributes
this.name = &quot;Battle Damage&quot;;
this.author = &quot;Smivs&quot;;
this.copyright = &quot;Smivs&quot;;
this.license = &quot;Creative Commons Attribution - Non-Commercial - Share Alike 4.0 license&quot;; 
this.description = &quot;Script to control hull damage and repair&quot;;
this.version = &quot;1.3&quot;;

this.startUp = function ()
{
if (missionVariables.BattleDamage_status !== &quot;DAMAGED&quot;)
 {
 player.ship.awardEquipment (&quot;EQ_HULL_REPAIR&quot;); //Ensures that repair does not appear on F3 screen
 missionVariables.BattleDamage_status = &quot;OK&quot;;
 }
}
this.playerBoughtNewShip = function ()
{
 player.ship.awardEquipment (&quot;EQ_HULL_REPAIR&quot;); //Ensures that repair does not appear on F3 screen
 missionVariables.BattleDamage_status = &quot;OK&quot;;
} 
this.shipWillDockWithStation = function (station)
{
 if (missionVariables.BattleDamage_status == &quot;DAMAGED&quot;)
 {
  player.addMessageToArrivalReport(expandDescription(&quot;[HULL_DAMAGE_MESSAGE]&quot;));
 }
 else if (missionVariables.BattleDamage_status == &quot;DAMAGED1&quot;)
 {
  missionVariables.BattleDamage_status = &quot;DAMAGED&quot;; // set to damaged
  player.addMessageToArrivalReport(expandDescription(&quot;[HULL_DAMAGE_MESSAGE_TWO]&quot;));
  player.credits -= 25;
 }
}
this.shipWillLaunchFromStation = function(station)
{
 if (missionVariables.BattleDamage_status == &quot;OK&quot;) //Ensures that there are no issues when player launches after un-repaired launch/re-dock/repair/re-launch
 {
  player.ship.fuelLeakRate = 0;
  player.ship.scriptedMisjump = false;
 }
}
this.shipLaunchedFromStation = function(station) // to handle ship launching with damage un-repaired
{
 if (missionVariables.BattleDamage_status == &quot;DAMAGED&quot; &amp;&amp; (Math.random() &lt;= 0.50)) 
 {
  this.station = station;
  this.station.commsMessage(&quot;Commander, your ship appears to be badly damaged. Take care!&quot;),player.ship;
  missionVariables.BattleDamage_status = &quot;DAMAGED&quot;; // set to damaged
 }
 else if (missionVariables.BattleDamage_status == &quot;DAMAGED&quot; &amp;&amp; (Math.random() &gt; 0.50))
 {
  player.ship.fuelLeakRate = 0.5;
  player.consoleMessage(&quot;WARNING! FUEL LEAK.&quot;,5);
  this.station = station;
  this.station.commsMessage(&quot;Commander, your ship is venting fuel due to a hull breach. You must dock for repairs immediately.&quot;),player.ship;
  player.ship.scriptedMisjump = true;
  missionVariables.BattleDamage_status = &quot;DAMAGED1&quot;; // set to damaged1
 }
}
this.shipTakingDamage = function(amount)
{ 
 if(amount === 0) return;
 else if (missionVariables.BattleDamage_status == &quot;DAMAGED&quot;)
  {
  player.consoleMessage(&quot;Hull taking further damage.&quot;,1);
  }
 else 
  {
  player.ship.removeEquipment(&quot;EQ_HULL_REPAIR&quot;); //remove &#39;repair&#39; to allow &#39;repair&#39; to be applied again. This should happen before any risk of damage to &#39;repair&#39;
  missionVariables.BattleDamage_status = &quot;DAMAGED&quot;; // set to damaged
  player.consoleMessage(&quot;WARNING! HULL DAMAGE&quot;,6);
  }
}
this.playerBoughtEquipment = function(equipment)
{
 if (equipment == &quot;EQ_HULL_REPAIR&quot;)
  {
  clock.addSeconds (&quot;35000&quot;);
  missionVariables.BattleDamage_status = &quot;OK&quot;; // set to OK
  }
 if (equipment == &quot;EQ_RENOVATION&quot;)
  {
  player.ship.awardEquipment(&quot;EQ_HULL_REPAIR&quot;);
  missionVariables.BattleDamage_status = &quot;OK&quot;; // set to OK
  }
}
this.shipLaunchedEscapePod = function(escapepod) // resets everything after ejecting so new ship is undamaged
{
 missionVariables.BattleDamage_status = &quot;OK&quot;; //set to OK
 player.ship.awardEquipment (&quot;EQ_HULL_REPAIR&quot;); //Ensures that repair does not appear on F3 screen
}
</pre></td>
                </tr>
            </table>
        </a>
    </body>
</html>
