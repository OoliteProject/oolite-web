<html>
    <head>
        <title>Expansion Gecko &#39;Dragon Class&#39;</title>
        <link rel="stylesheet" href="../style.css">
    </head>
    <body>
        <table border="0" width="100%">
            <tr>
                <td>Back to <a href='../index.html'>Index</a></td>
                <td align="right"><small>Page generated: Oct 11, 2023, 3:16:49 PM</small></td>
            </tr>
        </table>

        <h1>Expansion Gecko &#39;Dragon Class&#39;</h1>

        <h2>Content</h2>
        <ul>
          <li><a href="#warnings">Warnings</a></li>
          <li><a href="#manifest">Manifest</a></li>
          <li><a href="#documentation">Documentation</a></li>
          <li><a href="#equipment">0 Equipment</a></li>
          <li><a href="#ships">22 Ships</a></li>
          <li><a href="#models">0 Models</a></li>
          <li><a href="#scripts">2 Scripts</a></li>
        </ul>

          <a name="warnings">
            <h2>Warnings</h2>
            <ol>
                <li>Tags mismatch between OXP Manifest and Expansion Manager at character position 0002 (RIGHT SQUARE BRACKET vs LATIN SMALL LETTER S)(&#39;[]&#39; vs &#39;[ships]&#39;)</li>
                <li>Information URL mismatch between OXP Manifest and Expansion Manager string length at character position 0</li>
            </ol>
          </a>

        <a name="manifest">
        <h2>Manifest</h2>
            <table border="1">
                <tr>
                    <th></th>
                    <th>from Expansion Manager's OXP list</th>
                    <th>from Expansion Manifest</th>
                </tr>
                <tr>
                    <td>Description</td>
                    <td>A Gecko heavy fighter based on the technology of a wrecked Green Gecko from the Green Knights of Lago. Warning, this ship is significant stronger than most core-ships. For more details please check the wiki page.</td>
                    <td>A Gecko heavy fighter based on the technology of a wrecked Green Gecko from the Green Knights of Lago. Warning, this ship is significant stronger than most core-ships. For more details please check the wiki page.</td>
                </tr>
                <tr>
                    <td>Identifier</td>
                    <td>oolite.oxp.zzz.Montana05.BUS_gecko_dragon</td>
                    <td>oolite.oxp.zzz.Montana05.BUS_gecko_dragon</td>
                </tr>
                <tr>
                    <td>Title</td>
                    <td>Gecko &#39;Dragon Class&#39;</td>
                    <td>Gecko &#39;Dragon Class&#39;</td>
                </tr>
                <tr>
                    <td>Category</td>
                    <td>Ships</td>
                    <td>Ships</td>
                </tr>
                <tr>
                    <td>Author</td>
                    <td>Montana05</td>
                    <td>Montana05</td>
                </tr>
                <tr>
                    <td>Version</td>
                    <td>0.52</td>
                    <td>0.52</td>
                </tr>
                <tr>
                    <td>Tags</td>
                    <td></td>
                    <td>ships</td>
                </tr>
                <tr>
                    <td>Required Oolite Version</td>
                    <td></td>
                    <td></td>
                </tr>
                <tr>
                    <td>Maximum Oolite Version</td>
                    <td></td>
                    <td></td>
                </tr>
                <tr>
                    <td>Required Expansions</td>
                    <td>
                            <li>oolite.oxp.zzz.Montana05.resource_pack_01:0.53</li>
                    </td>
                    <td>
                            <li>oolite.oxp.zzz.Montana05.resource_pack_01:0.53</li>
                    </td>
                </tr>
                <tr>
                    <td>Optional Expansions</td>
                    <td>
                    </td>
                    <td>
                    </td>
                </tr>
                <tr>
                    <td>Conflict Expansions</td>
                    <td>
                    </td>
                    <td>
                    </td>
                </tr>
                <tr>
                    <td>Information URL</td>
                    <td><a target="_blank" href=""></a></td>
                    <td><a target="_blank" href="">n/a</a></td>
                </tr>
                <tr>
                    <td>Download URL</td>
                    <td><a target="_blank" href="https://wiki.alioth.net/img_auth.php/3/36/Oolite.oxp.zzz.Montana05.BUS_gecko_dragon.OXZ">https://wiki.alioth.net/img_auth.php/3/36/Oolite.oxp.zzz.Montana05.BUS_gecko_dragon.OXZ</a></td>
                    <td><a target="_blank" href="">n/a</a></td>
                </tr>
                <tr>
                    <td>License</td>
                    <td>CC BY-NC-SA 4.0</td>
                    <td>CC BY-NC-SA 4.0</td>
                </tr>
                <tr>
                    <td>File Size</td>
                    <td>n/a</td>
                </tr>
                <tr>
                    <td>Upload date</td>
                    <td>1638498197</td>
                </tr>
            </table>
                </a>

        <a name="documentation">
        <h2>Documentation</h2>
        <p>Also read <a href='http://wiki.alioth.net/index.php/Gecko%20&#39;Dragon%20Class&#39;'>http://wiki.alioth.net/index.php/Gecko%20&#39;Dragon%20Class&#39;</a></p>
        <h3>read_me.txt</h3>
        <pre>
Overview
========

A Gecko heavy fighter based on the technology of a wrecked Green Gecko. While not as advanced as the original 
this ship could be a fearsome combatant. By copying some of the hi-tech from Avernus Orbital the design 
includes 4 front laser mounts, an additional pylon, increased speed, more energy banks, and a higher reload rate. 
On the downside, no hyperdrive, Shield Boosters or Military Shield Enhancement could be assigned and the maintenance 
costs are 10% higher. While primarily used as a single-pilot combat craft, the cockpit supports a co-pilot as well. 

Credits
=======

The Gecko &quot;Dragon Class&quot; is inspired by the Green Gecko and the Renegade Gecko, thanks a lot to Cody and LittleBear.

Cody (basic concept)
LittleBear (additional ideas from the Renegade Gecko (Renegade Pirates OXP)
Griff (ship model, gun model, and basic textures)
another_commander (specular maps)
phkb (basic diffuse map for the Bounty Hunter Guild variant)
Cholmondely (reported a model error) 

Remarks
=======

While available to the player please keep in mind that you have only 3 t cargo capacity and no hyperdrive, flying this craft 
could be a challenge.

If you are using New lasers OXP some lasers will be replaced.

Warning
=======

This ship/ships belong to the category Ubership, I recommend installing Multiple Lasers as well to level the field. 

Requirements
============

Montanas Resource Pack 01 is required. It could be found on the Expansions Manager.

Details
=======

For additional details please check the wiki-page: http://wiki.alioth.net/index.php/Gecko_Dragon_Class

License
=======

This work is licensed under Creative Commons Attribution Non-Commercial Share Alike 4.0 International (CC BY-NC-SA 4.0).
To view a copy of this license visit https://creativecommons.org/licenses/by-nc-sa/4.0

Version History
===============

V 0.50
initial release

V 0.51
corrected a texture in a model (thanks to Cholmondely for reporting the bug)
optimized the emission maps
added another ship (Bounty Hunter Guild, based on a diffuse map from phkb)
enhanced ship script
downgraded some equipped weapons and reduced the chances to appear in the game

V 0.52
small tweaks to adjust better with other OXP&#39;s
</pre>
        </a>

        <a name="equipment">          
        <h2>Equipment</h2>
            This expansion declares no equipment. This may be related to warnings.
        </a>

        <a name="ships">    
        <h2>Ships</h2>
            <table>
                <tr>
                    <th>Name</th>
                </tr>
                <tr>
                    <td><a href="../ships/BUS_gecko_dragon_01.html">Gecko &#39;Dragon Class&#39;</a></td>
                </tr>
                <tr>
                    <td><a href="../ships/BUS_gecko_dragon_02.html">Gecko &#39;Dragon Class&#39;</a></td>
                </tr>
                <tr>
                    <td><a href="../ships/BUS_gecko_dragon_escape_capsule.html">BUS_gecko_dragon_escape_capsule</a></td>
                </tr>
                <tr>
                    <td><a href="../ships/BUS_gecko_dragon_escape_capsule_bhg.html">BUS_gecko_dragon_escape_capsule_bhg</a></td>
                </tr>
                <tr>
                    <td><a href="../ships/BUS_gecko_dragon_escape_capsule_bhg_pirate.html">BUS_gecko_dragon_escape_capsule_bhg_pirate</a></td>
                </tr>
                <tr>
                    <td><a href="../ships/BUS_gecko_dragon_escape_capsule_pirate.html">BUS_gecko_dragon_escape_capsule_pirate</a></td>
                </tr>
                <tr>
                    <td><a href="../ships/BUS_gecko_dragon_escape_capsule_ssg.html">BUS_gecko_dragon_escape_capsule_ssg</a></td>
                </tr>
                <tr>
                    <td><a href="../ships/BUS_gecko_dragon_escape_capsule_ssg_pirate.html">BUS_gecko_dragon_escape_capsule_ssg_pirate</a></td>
                </tr>
                <tr>
                    <td><a href="../ships/BUS_gecko_dragon_gun_01.html">Gecko Dragon Class Gun</a></td>
                </tr>
                <tr>
                    <td><a href="../ships/BUS_gecko_dragon_gun_02.html">BUS_gecko_dragon_gun_02</a></td>
                </tr>
                <tr>
                    <td><a href="../ships/BUS_gecko_dragon_gun_03.html">BUS_gecko_dragon_gun_03</a></td>
                </tr>
                <tr>
                    <td><a href="../ships/BUS_gecko_dragon_gun_04.html">BUS_gecko_dragon_gun_04</a></td>
                </tr>
                <tr>
                    <td><a href="../ships/BUS_gecko_dragon_hunt_01.html">BUS_gecko_dragon_hunt_01</a></td>
                </tr>
                <tr>
                    <td><a href="../ships/BUS_gecko_dragon_hunt_02.html">BHG Gecko &#39;Dragon Class&#39;</a></td>
                </tr>
                <tr>
                    <td><a href="../ships/BUS_gecko_dragon_hunt_02_team_01.html">BUS_gecko_dragon_hunt_02_team_01</a></td>
                </tr>
                <tr>
                    <td><a href="../ships/BUS_gecko_dragon_pirate_01.html">BUS_gecko_dragon_pirate_01</a></td>
                </tr>
                <tr>
                    <td><a href="../ships/BUS_gecko_dragon_pirate_02.html">BUS_gecko_dragon_pirate_02</a></td>
                </tr>
                <tr>
                    <td><a href="../ships/BUS_gecko_dragon_player_01.html">BUS_gecko_dragon_player_01</a></td>
                </tr>
                <tr>
                    <td><a href="../ships/BUS_gecko_dragon_player_02.html">BUS_gecko_dragon_player_02</a></td>
                </tr>
                <tr>
                    <td><a href="../ships/BUS_gecko_dragon_player_gun.html">BUS_gecko_dragon_player_gun</a></td>
                </tr>
                <tr>
                    <td><a href="../ships/BUS_gecko_dragon_ssg.html">SSG Gecko &#39;Dragon Class&#39;</a></td>
                </tr>
                <tr>
                    <td><a href="../ships/BUS_gecko_dragon_ssg_team_01.html">BUS_gecko_dragon_ssg_team_01</a></td>
                </tr>
            </table>
        </a>

        <a name="models">    
        <h2>Models</h2>
            This expansion declares no models. This may be related to warnings.
        </a>

        <a name="scripts">    
        <h2>Scripts</h2>
            <table>
                <tr>
                    <th>Path</th>
                </tr>
                <tr>
                    <td valign="top">Scripts/BUS_gecko_dragon_gun.js</td>
                    <td><pre>this.name			= &quot;BUS_gecko_dragon_gun&quot;;
this.author			= &quot;Montana05&quot;;
this.description	= &quot;check and possible replace Gecko &#39;Dragon Class&#39; external laser&quot;;
this.version		= &quot;0.52&quot;;
this.copyright		= &quot;2021 Montana05&quot;;
this.licence   		= &quot;CC BY-NC-SA 4.0&quot;;
&quot;use strict&quot;;

	// replaces weapons if &quot;new lasers OXP&quot; is available
	if(worldScripts[&quot;new_lasers&quot;])
	{
		if(this.ship.forwardWeapon != EquipmentInfo.infoForKey(&quot;EQ_WEAPON_ASSAULT_LASER&quot;))
		{
			this.ship.forwardWeapon = &quot;EQ_WEAPON_ASSAULT_LASER&quot;;  // ColtMaster CM4
			//log(this.name, &quot;New Lasers OXP available, &quot; + this.ship.name + &quot; switched external weapon to: ColtMaster CM4 Assault Laser&quot;);
		}
	};
</pre></td>
                </tr>
                <tr>
                    <td valign="top">Scripts/BUS_gecko_dragon_ship_script.js</td>
                    <td><pre>this.name			= &quot;BUS_gecko_dragon_ship_script&quot;;
this.author			= &quot;Montana05&quot;;
this.description	= &quot;ship script for Gecko &#39;Dragon Class&#39;&quot;;
this.version		= &quot;0.52&quot;;
this.copyright		= &quot;2021 Montana05&quot;;
this.licence   		= &quot;CC BY-NC-SA 4.0&quot;;
&quot;use strict&quot;;

this.shipSpawned = function(ship)
{
	this.$BUSgdc_shipType = this.ship.dataKey;
	var shipRole = this.ship.primaryRole;
	
	if(this.ship.hasRole(&quot;escape-capsule&quot;))
	{
		// neutral inits first
		var crewName = expandDescription(&quot;[nom]&quot;);
		var crewDescription = &quot;a crew member of an evacuated ship&quot;;
		var crewRole = &quot;hunter&quot;;  // not perfect but somewhere in the middle
		var crewRank = &quot;Commander&quot;;
		var bhgRank = &quot;Hunter&quot;;  // middle rank
		var crewRace = expandDescription(&quot;[MRP01_GalCop_races_scientific]&quot;);  // add a race to the crew members
		var crewBounty = 0;
		var crewInsurance = 0;
		
		this.$BUSgdc_crew_ranks_array = [&quot;Gunner&quot;, &quot;Co-Pilot&quot;, &quot;Pilot&quot;, &quot;Commander&quot;];  // based on an crew of 1 to 2 person
		crewRank = 
		$BUSgdc_crew_ranks_array[Math.floor(Math.random() * $BUSgdc_crew_ranks_array.length)];

		// ranks for Bounty Hunter Guild taken from Random Hits OXP, all credits to LittleBear
		this.$BUSgdc_bhg_ranks_array = 
		[&quot;Outsider&quot;, &quot;Recruit&quot;, &quot;Vigilante&quot;, &quot;Bailiff&quot;, &quot;Deputy&quot;, &quot;Tracker&quot;, &quot;Hunter&quot;, &quot;Sheriff&quot;, &quot;Provost&quot;, &quot;Marshal&quot;, &quot;Enforcer&quot;, &quot;Executioner&quot;, &quot;Judge&quot;];
		bhgRank = 
		$BUSgdc_bhg_ranks_array[Math.floor(Math.random() * $BUSgdc_bhg_ranks_array.length)];

		switch(this.$BUSgdc_shipType) 
		{
			case &quot;BUS_gecko_dragon_escape_capsule&quot;:

				crewName = (&quot;the &quot; + crewRace + &quot; &quot; + crewRank + &quot; &quot; + expandDescription(&quot;[nom]&quot;));
				crewDescription = &quot;a ship crew member&quot;;
				crewInsurance = this.$getRndInteger(90, 450);
				crewRole = &quot;hunter&quot;;
				break;

			case &quot;BUS_gecko_dragon_escape_capsule_bhg&quot;:

				crewName = (&quot;the &quot; + crewRace + &quot; &quot; + bhgRank + &quot; &quot; + expandDescription(&quot;[nom]&quot;));
				crewDescription = &quot;a member of the Bounty Hunter Guild&quot;;
				crewInsurance = (this.$getRndInteger(90, 450) * 1.10);  // BHG got better insurance conditions
				crewRole = &quot;hunter&quot;;
				break;

			case &quot;BUS_gecko_dragon_escape_capsule_ssg&quot;:	
		
				crewName = (&quot;the &quot; + crewRace + &quot; &quot; + crewRank + &quot; &quot; + expandDescription(&quot;[nom]&quot;));
				crewDescription = &quot;a SSG ship crew member&quot;;
				crewInsurance = (this.$getRndInteger(90, 450) * 1.25);  // SSG got better insurance conditions
				crewRole = &quot;hunter&quot;;
				break;
			
			case &quot;BUS_gecko_dragon_escape_capsule_bhg_pirate&quot;:
				
				crewName = (&quot;the &quot; + crewRace + &quot; &quot; + bhgRank + &quot; &quot; + expandDescription(&quot;[nom]&quot;));
				crewDescription = &quot;a rouge member of the Bounty Hunter Guild&quot;;
				crewBounty = (this.$getRndInteger(90, 450) * 1.10) + (15 * system.government);  // stable governments pay extra bonus
				crewRole = &quot;hunter&quot;;
				break;
			
			case &quot;BUS_gecko_dragon_escape_capsule_ssg_pirate&quot;:
				
				crewName = (&quot;the &quot; + crewRace + &quot; &quot; + crewRank + &quot; &quot; + expandDescription(&quot;[nom]&quot;));
				crewDescription = &quot;a rouge SSG ship crew member&quot;;
				crewBounty = (this.$getRndInteger(90, 450) * 1.25) + (15 * system.government);  // stable governments pay extra bonus
				crewRole = &quot;hunter&quot;;
				break;
									
			case &quot;BUS_gecko_dragon_escape_capsule_pirate&quot;:

				crewName = (&quot;the &quot; + crewRace + &quot; &quot; + expandDescription(&quot;[MRP01_pirate_nicknames]&quot;) + expandDescription(&quot;[nom]&quot;));
				crewDescription = &quot;a criminal wanted by GalCop police&quot;;
				crewRole = &quot;pirate&quot;;
				crewBounty = this.$getRndInteger(90, 450) + (15 * system.government);  // stable governments pay extra bonus
				break;	
				
			default: 
				break;		
		};

		this.ship.setCrew
		(
			{
				name: crewName,
				short_description: crewDescription,
				role: crewRole,
				species: crewRace,
				insurance: crewInsurance,
				bounty: crewBounty
			}
		);

		// remove individual roles
		this.ship.primaryRole = &quot;escape-capsule&quot;;
	}
	else
	{
		// individual role of the ship, will only be called from other OXP&#39;s 
		switch(shipRole) 
		{
			case &quot;BUS_gecko_dragon_01&quot;:
			case &quot;BUS_gecko_dragon_02&quot;:
			case &quot;BUS_gecko_dragon_ssg&quot;:
			
				this.ship.primaryRole = &quot;escort-heavy&quot;;
				break;
				
			case &quot;BUS_gecko_dragon_hunt_01&quot;:
			case &quot;BUS_gecko_dragon_hunt_02&quot;:
			case &quot;BUS_gecko_dragon_hunt_02_team_01&quot;:
			case &quot;BUS_gecko_dragon_ssg_team_01&quot;:
				
				this.ship.switchAI(&quot;oolite-bountyHunterAI.js&quot;);
				this.ship.primaryRole = &quot;hunter&quot;;
				break;

			case &quot;BUS_gecko_dragon_pirate_01&quot;:
			case &quot;BUS_gecko_dragon_pirate_02&quot;:
				
				this.ship.primaryRole = &quot;pirate&quot;;
				break;
			
			default: 
				break;		
		};		
		
		switch(this.$BUSgdc_shipType) 
		{
			case &quot;BUS_gecko_dragon_01&quot;:
			case &quot;BUS_gecko_dragon_02&quot;:
			case &quot;BUS_gecko_dragon_hunt_01&quot;:
			case &quot;BUS_gecko_dragon_hunt_02&quot;:
			case &quot;BUS_gecko_dragon_ssg&quot;:
			case &quot;BUS_gecko_dragon_hunt_02_team_01&quot;:
			case &quot;BUS_gecko_dragon_ssg_team_01&quot;:
						
				if(this.ship.cargoSpaceUsed &lt;= 1)
				{
					this.ship.adjustCargo(this.$BUSgdc_space_jockeyCargo(), 1);
					this.ship.adjustCargo(this.$BUSgdc_space_jockeyCargo(), 1);
				};
				break;

			case &quot;BUS_gecko_dragon_pirate_01&quot;:
			case &quot;BUS_gecko_dragon_pirate_02&quot;:
				
				this.ship.setCargoType(&quot;PLENTIFUL_GOODS&quot;);
				break;		

			default: 
				break;		
		};	
	};
};

this.shipDied = function(whom, why)
{
	if(this.ship.hasRole(&quot;escape-capsule&quot;))
	{
		return;
	}
	else
	{
		// neutral inits first
		var podType = &quot;escape-capsule&quot;;
		var criminalCrew = 0;
		var debrisCount = 0;
		var cargoType = &quot;&quot;;
		var cargoPod = &quot;cargopod&quot;;
		var cargoLoad = this.ship.cargoSpaceUsed;
		var cargoCount = 0;
				
		if(this.ship.bounty &gt; 7 || 
		   this.$BUSgdc_shipType == &quot;BUS_gecko_dragon_pirate_01&quot; || 
		   this.$BUSgdc_shipType == &quot;BUS_gecko_dragon_pirate_02&quot;)
				criminalCrew = 1;
		
		switch(this.$BUSgdc_shipType) 
		{
			case &quot;BUS_gecko_dragon_01&quot;:
			case &quot;BUS_gecko_dragon_02&quot;:
			case &quot;BUS_gecko_dragon_hunt_01&quot;:	
			
				if(criminalCrew == 1)
					podType = &quot;BUS_gecko_dragon_escape_capsule_pirate&quot;;	
				else
				{
					podType = &quot;BUS_gecko_dragon_escape_capsule&quot;;
				};

				break;

			case &quot;BUS_gecko_dragon_hunt_02&quot;:
			case &quot;BUS_gecko_dragon_hunt_02_team_01&quot;:
						
				if(criminalCrew == 1)
					podType = &quot;BUS_gecko_dragon_escape_capsule_bhg_pirate&quot;;	
				else
				{
					podType = &quot;BUS_gecko_dragon_escape_capsule_bhg&quot;;
				};

				break;

			case &quot;BUS_gecko_dragon_ssg&quot;:
			case &quot;BUS_gecko_dragon_ssg_team_01&quot;:
						
				if(criminalCrew == 1)
					podType = &quot;BUS_gecko_dragon_escape_capsule_ssg_pirate&quot;;	
				else
				{
					podType = &quot;BUS_gecko_dragon_escape_capsule_ssg&quot;;
				};

				break;

			case &quot;BUS_gecko_dragon_pirate_01&quot;:
			case &quot;BUS_gecko_dragon_pirate_02&quot;:	
				
				podType = &quot;BUS_gecko_dragon_escape_capsule_pirate&quot;;
				break;

			default: 
				break;	
		};	
		
		// emergency crafts
		system.addShips(podType, 1, this.ship.position);

		// cargopods
		if(cargoLoad &gt; 0)
		{
			for(var i = this.ship.cargoList.length - 1 ; i &gt;= 0 ; --i)
			{
				cargoType = this.ship.cargoList[i].commodity;
				cargoPod = (&quot;MRP01_container_&quot; + cargoType);
				cargoCount = this.ship.cargoList[i].quantity;
							
				system.addShips(cargoPod, cargoCount, this.ship.position);
			};
		};
		
		/*
		// outsourced to Montanas Ressource Pack 01 V 0.54

		debrisCount = this.$getRndInteger(3, 6);
		// explosive shrapnels
		system.addShips(&quot;MRP01_effects_explosive_shrapnel&quot;, debrisCount, this.ship.position);
		// various depris
		system.addShips(&quot;MRP01_ship_debris&quot;, debrisCount, this.ship.position);
		// burning fuel
		debrisCount = (this.ship.fuel.toFixed(0));	
		system.addShips(&quot;MRP01_effects_burningFuel&quot;, debrisCount, this.ship.position);
		*/
	};
};

// food, booze and guns, what else you need for your trip ? :P
this.$BUSgdc_space_jockeyCargo = function()
{
	this.$BUSgdc_space_jockey_cargo_array = [&quot;firearms&quot;, &quot;food&quot;, &quot;liquor_wines&quot;];

	if(worldScripts[&quot;witchfire-populator&quot;])  // Darkside Moonshine Distillery OXP
		this.$BUSgdc_space_jockey_cargo_array.push(&quot;witchfire_whiskey&quot;);

	var space_jockey_cargo = 
	$BUSgdc_space_jockey_cargo_array[Math.floor(Math.random() * $BUSgdc_space_jockey_cargo_array.length)];

	return (space_jockey_cargo);
};

this.$getRndInteger = function(min, max)
{
	return Math.floor(Math.random() * (max - min + 1) ) + min;
};

</pre></td>
                </tr>
            </table>
        </a>
    </body>
</html>
