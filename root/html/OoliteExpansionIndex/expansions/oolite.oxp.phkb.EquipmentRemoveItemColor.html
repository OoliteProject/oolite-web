<html>
    <head>
        <title>Expansion Equipment &#39;Sell Item&#39; Color</title>
        <link rel="stylesheet" href="../style.css">
    </head>
    <body>
        <table border="0" width="100%">
            <tr>
                <td>Back to <a href='../index.html'>Index</a></td>
                <td align="right"><small>Page generated: Oct 11, 2023, 3:16:49 PM</small></td>
            </tr>
        </table>

        <h1>Expansion Equipment &#39;Sell Item&#39; Color</h1>

        <h2>Content</h2>
        <ul>
          <li><a href="#warnings">Warnings</a></li>
          <li><a href="#manifest">Manifest</a></li>
          <li><a href="#documentation">Documentation</a></li>
          <li><a href="#equipment">0 Equipment</a></li>
          <li><a href="#ships">0 Ships</a></li>
          <li><a href="#models">0 Models</a></li>
          <li><a href="#scripts">1 Scripts</a></li>
        </ul>

          <a name="warnings">
            <h2>Warnings</h2>
            <ol>
                <li>Information URL mismatch between OXP Manifest and Expansion Manager string length at character position 0</li>
            </ol>
          </a>

        <a name="manifest">
        <h2>Manifest</h2>
            <table border="1">
                <tr>
                    <th></th>
                    <th>from Expansion Manager's OXP list</th>
                    <th>from Expansion Manifest</th>
                </tr>
                <tr>
                    <td>Description</td>
                    <td>Changes the color of all equipment items described as &#39;Sell&#39; or &#39;Remove&#39;</td>
                    <td>Changes the color of all equipment items described as &#39;Sell&#39; or &#39;Remove&#39;</td>
                </tr>
                <tr>
                    <td>Identifier</td>
                    <td>oolite.oxp.phkb.EquipmentRemoveItemColor</td>
                    <td>oolite.oxp.phkb.EquipmentRemoveItemColor</td>
                </tr>
                <tr>
                    <td>Title</td>
                    <td>Equipment &#39;Sell Item&#39; Color</td>
                    <td>Equipment &#39;Sell Item&#39; Color</td>
                </tr>
                <tr>
                    <td>Category</td>
                    <td>Miscellaneous</td>
                    <td>Miscellaneous</td>
                </tr>
                <tr>
                    <td>Author</td>
                    <td>phkb</td>
                    <td>phkb</td>
                </tr>
                <tr>
                    <td>Version</td>
                    <td>1.4</td>
                    <td>1.4</td>
                </tr>
                <tr>
                    <td>Tags</td>
                    <td></td>
                    <td></td>
                </tr>
                <tr>
                    <td>Required Oolite Version</td>
                    <td></td>
                    <td></td>
                </tr>
                <tr>
                    <td>Maximum Oolite Version</td>
                    <td></td>
                    <td></td>
                </tr>
                <tr>
                    <td>Required Expansions</td>
                    <td>
                    </td>
                    <td>
                    </td>
                </tr>
                <tr>
                    <td>Optional Expansions</td>
                    <td>
                    </td>
                    <td>
                    </td>
                </tr>
                <tr>
                    <td>Conflict Expansions</td>
                    <td>
                    </td>
                    <td>
                    </td>
                </tr>
                <tr>
                    <td>Information URL</td>
                    <td><a target="_blank" href=""></a></td>
                    <td><a target="_blank" href="">n/a</a></td>
                </tr>
                <tr>
                    <td>Download URL</td>
                    <td><a target="_blank" href="https://wiki.alioth.net/img_auth.php/9/99/EquipmentRemoveItemColor.oxz">https://wiki.alioth.net/img_auth.php/9/99/EquipmentRemoveItemColor.oxz</a></td>
                    <td><a target="_blank" href="">n/a</a></td>
                </tr>
                <tr>
                    <td>License</td>
                    <td>CC-BY-NC-SA 4.0</td>
                    <td>CC-BY-NC-SA 4.0</td>
                </tr>
                <tr>
                    <td>File Size</td>
                    <td>n/a</td>
                </tr>
                <tr>
                    <td>Upload date</td>
                    <td>1622272195</td>
                </tr>
            </table>
                </a>

        <a name="documentation">
        <h2>Documentation</h2>
        <p>Also read <a href='http://wiki.alioth.net/index.php/Equipment%20&#39;Sell%20Item&#39;%20Color'>http://wiki.alioth.net/index.php/Equipment%20&#39;Sell%20Item&#39;%20Color</a></p>
        <h3>readme.txt</h3>
        <pre>Equipment Remove Item Color
By Nick Rogers

Overview
========
A number of equipment OXP&#39;s include a &quot;Remove&quot; option, purchasable through the F3 Ship Outfitting screen. But, because they are the same color as other purchasable items it can be hard to quickly scan the list to find the item you want to purchase. This OXP simply recolors all items whose description starts with &quot;Remove&quot;, &quot;Sell&quot; or &quot;Unmount&quot; to make it clear that these purchases will remove something from your ship. The recoloring will not be done on any item that already has a &quot;display_color&quot; defined in their equipment.plist file.

License
=======
This work is licensed under the Creative Commons Attribution-Noncommercial-Share Alike 4.0 Unported License. To view a copy of this license, visit http://creativecommons.org/licenses/by-nc-sa/4.0/

Discussion
==========
This OXP is discussed at this forum link: http://aegidian.org/bb/viewtopic.php?f=4&amp;t=18950

Version History
===============
1.4
- Expanded search criteria to include the item name as well as the item description when looking for remove items.

1.3
- Added some more inclusions and exclusions.

1.2 
- Added items described with &quot;Undo &quot; to the list of remove items.

1.1 
- Improved logic for catching &quot;Remove&quot; items.

1.0
- Initial release.
</pre>
        </a>

        <a name="equipment">          
        <h2>Equipment</h2>
            This expansion declares no equipment. This may be related to warnings.
        </a>

        <a name="ships">    
        <h2>Ships</h2>
            This expansion declares no ships. This may be related to warnings.
        </a>

        <a name="models">    
        <h2>Models</h2>
            This expansion declares no models. This may be related to warnings.
        </a>

        <a name="scripts">    
        <h2>Scripts</h2>
            <table>
                <tr>
                    <th>Path</th>
                </tr>
                <tr>
                    <td valign="top">Config/script.js</td>
                    <td><pre>&quot;use strict&quot;;
this.name                   = &quot;EquipmentRemoveItemColor&quot;;
this.author                 = &quot;phkb&quot;;
this.copyright              = &quot;2017 phkb&quot;;
this.description            = &quot;Changes the color of all equipment items described as &#39;Remove&#39;&quot;;
this.licence                = &quot;CC BY-NC-SA 4.0&quot;;

this._exceptions = [&quot;EQ_TOWBAR&quot;,&quot;EQ_SHIPMINER&quot;];
this._inclusions = [];

//-------------------------------------------------------------------------------------------------------------
this.startUpComplete = function() {
	var eq = EquipmentInfo.allEquipment;
	for (var i = 0; i &lt; eq.length; i++) {
		var itm = eq[i];
		var desc = itm.description.toLowerCase();
		var name = itm.name.toLowerCase();
		if (itm.displayColor == null) {
			if (this._exceptions.indexOf(itm.equipmentKey) &gt;= 0) continue; 
			if ((desc.indexOf(&quot;remove&quot;) &gt;= 0 || name.indexOf(&quot;remove&quot;) &gt;= 0) || 
				((desc.indexOf(&quot;sell &quot;) &gt;= 0 || name.indexOf(&quot;sell &quot;) &gt;= 0) &amp;&amp; desc.indexOf(&quot;buy &quot;) === -1 &amp;&amp; name.indexOf(&quot;buy &quot;) === -1) || 
				(desc.indexOf(&quot;unmount&quot;) &gt;= 0 || name.indexOf(&quot;unmount&quot;) &gt;= 0) || 
				(desc.indexOf(&quot;undo &quot;) &gt;= 0 || name.indexOf(&quot;undo &quot;) &gt;= 0) || 
				itm.equipmentKey.indexOf(&quot;REFUND&quot;) &gt;= 0 ||
				this._inclusions.indexOf(itm.equipmentKey) &gt;= 0) {
				itm.displayColor = &quot;redColor&quot;;
			}
		}
	}
}</pre></td>
                </tr>
            </table>
        </a>
    </body>
</html>
