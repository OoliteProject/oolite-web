<html>
    <head>
        <title>Expansion Kestrel &amp; Falcon</title>
        <link rel="stylesheet" href="../style.css">
    </head>
    <body>
        <table border="0" width="100%">
            <tr>
                <td>Back to <a href='../index.html'>Index</a></td>
                <td align="right"><small>Page generated: Oct 11, 2023, 3:16:49 PM</small></td>
            </tr>
        </table>

        <h1>Expansion Kestrel &amp; Falcon</h1>

        <h2>Content</h2>
        <ul>
          
          <li><a href="#manifest">Manifest</a></li>
          <li><a href="#documentation">Documentation</a></li>
          <li><a href="#equipment">0 Equipment</a></li>
          <li><a href="#ships">24 Ships</a></li>
          <li><a href="#models">0 Models</a></li>
          <li><a href="#scripts">2 Scripts</a></li>
        </ul>


        <a name="manifest">
        <h2>Manifest</h2>
            <table border="1">
                <tr>
                    <th></th>
                    <th>from Expansion Manager's OXP list</th>
                    <th>from Expansion Manifest</th>
                </tr>
                <tr>
                    <td>Description</td>
                    <td>The Benulobiweed Testing Department is proud to announce the reintroduction of both, Falcon and Kestrel, to the ooniverse.</td>
                    <td>The Benulobiweed Testing Department is proud to announce the reintroduction of both, Falcon and Kestrel, to the ooniverse.</td>
                </tr>
                <tr>
                    <td>Identifier</td>
                    <td>oolite.oxp.zzz.Montana05.Kestrel_Falcon</td>
                    <td>oolite.oxp.zzz.Montana05.Kestrel_Falcon</td>
                </tr>
                <tr>
                    <td>Title</td>
                    <td>Kestrel &amp; Falcon</td>
                    <td>Kestrel &amp; Falcon</td>
                </tr>
                <tr>
                    <td>Category</td>
                    <td>Ships</td>
                    <td>Ships</td>
                </tr>
                <tr>
                    <td>Author</td>
                    <td>Charlie</td>
                    <td>Charlie</td>
                </tr>
                <tr>
                    <td>Version</td>
                    <td>1.71.1</td>
                    <td>1.71.1</td>
                </tr>
                <tr>
                    <td>Tags</td>
                    <td></td>
                    <td></td>
                </tr>
                <tr>
                    <td>Required Oolite Version</td>
                    <td></td>
                    <td></td>
                </tr>
                <tr>
                    <td>Maximum Oolite Version</td>
                    <td></td>
                    <td></td>
                </tr>
                <tr>
                    <td>Required Expansions</td>
                    <td>
                    </td>
                    <td>
                    </td>
                </tr>
                <tr>
                    <td>Optional Expansions</td>
                    <td>
                    </td>
                    <td>
                    </td>
                </tr>
                <tr>
                    <td>Conflict Expansions</td>
                    <td>
                    </td>
                    <td>
                    </td>
                </tr>
                <tr>
                    <td>Information URL</td>
                    <td><a target="_blank" href="http://wiki.alioth.net/index.php/Kestrel_%26_Falcon_OXP">http://wiki.alioth.net/index.php/Kestrel_%26_Falcon_OXP</a></td>
                    <td><a target="_blank" href="">n/a</a></td>
                </tr>
                <tr>
                    <td>Download URL</td>
                    <td><a target="_blank" href="https://wiki.alioth.net/img_auth.php/f/f6/Oolite.oxp.zzz.Montana05.Kestrel_Falcon.OXZ">https://wiki.alioth.net/img_auth.php/f/f6/Oolite.oxp.zzz.Montana05.Kestrel_Falcon.OXZ</a></td>
                    <td><a target="_blank" href="">n/a</a></td>
                </tr>
                <tr>
                    <td>License</td>
                    <td>CC BY-NC-SA 4.0</td>
                    <td>CC BY-NC-SA 4.0</td>
                </tr>
                <tr>
                    <td>File Size</td>
                    <td>n/a</td>
                </tr>
                <tr>
                    <td>Upload date</td>
                    <td>1613193251</td>
                </tr>
            </table>
                </a>

        <a name="documentation">
        <h2>Documentation</h2>
        <p>Also read <a href='http://wiki.alioth.net/index.php/Kestrel%20&amp;%20Falcon'>http://wiki.alioth.net/index.php/Kestrel%20&amp;%20Falcon</a></p>
        <h3>Kestrel&amp;Falcon_ReadMe.txt</h3>
        <pre>Kestrel&amp;Falcon.oxp v1.71.0

Some falcon models require kestrels as escorts. By combining the two oxps, falcons will now be able to set up their escorts without a problem.


Blurb:

&quot;All ships now come with air freshener as standard!&quot;

The Benulobiweed Testing Department is proud to announce the reintroduction of both Falcon and Kestrel to the ooniverse.
Following the galaxy-wide product recall of these two models, the structural integrity and life support systems have been thoroughly revamped and now meet the safety standards of more than 30% percent of all known systems - a first in the history of our corporation!
This massive increase in safety has been achieved without compromising the speed and manouvreability that you&#39;ve all come to expect from a Benulobiweed Inc product. Enjoy!   


Changelog:
v1.71.0	5 febr 2010

- Updated the js scripts to 1.71+ standards.

v1.70.1	5 Mar 2008

- corrected Kestrel escorts&#39; AI.

v1.70 	2 Mar 2008

- corrected typos.
- removed all dependencies, OXP now fully standalone.
- corrected HUDs.
- reworked shipdata, including view and weapon positions.
- tweaked frequency of ships.
- changed filenames to follow oolite naming conventions. (still not quite finished)
- removed 2 serious bugs.



Known problems:

 - If the player flies either a falcon or a kestrel, loading a saved game will show a series of &#39;isSubEntityReallyDead&#39; error messages on the log. 
The second time a falcon or kestrel savegame is loaded, Oolite might crash to desktop. This includes the automatic reload after &#39;Game Over - Press Space&#39;.
Can&#39;t be fixed from the OXP, but it&#39;s already fixed for future releases of Oolite, 1.70.1 and up.

 - Virtual memory: with this OXP Oolite is likely to run out of memory sooner rather than later, due to the complexity of the ships.



For any feedback or bug report, please use the expansion packs forum on Oolite&#39;s message board:

http://aegidian.org/bb/viewforum.php?f=4

or

http://aegidian.org/bb/viewtopic.php?t=4353

Cheers,

Kaks.



== Original Falcon ReadMe =========================

And, again!!
This will ( hopefully? ) be the last update ;p
Included ships now have their own AI:- Now behave ( hopefully ) as I wanted..
																		:- Chatter a bit now on the old comms-link.
																		  ( let me know if too much. )
																		  ( sub-entities still don&#39;t complain - Oolite bug?? )
The Laser-cannon Sub-entity has now been replaced with a working version - Ha, ha, ha, haaaaa.
																			( no more easy sneaking up &amp; blasting ;) )
																			( sadly NPC only - another Oolite bug?? )																			
Remaining bugs? Not many I hope:- ( Long-standing typo introduced when I added the Falcon-S meant 
																	you haven&#39;t been able to buy a Falcon for quite some time - oops. )
																	( This has for a long time been my standard ship. Uber-ship? NO! 
																	Because it&#39;s quite big &amp; the shields aren&#39;t so good, &amp; the view out 
																	of some areas is a tad restricted you really need to play to its 
																	streanghts + weaknesses. )
																	
	Have fun...
		Please tell me about any remaining bugs.
		Do they talk too much now??

Another Update!
Seems I&#39;d pushed the 3D engine a little too hard with the last update, so backed off a bit.
Fewer crashes with any luck ;0 

Big Update - lots of new stuff.
Have fun.
Let me know if any of it&#39;s not working properly.
( and ideas how to fix ;) )

Falcon.oxp

Why?
I enjoyed the other YT-1300 available for Oolite &amp; wondered if the 3D engine was up to a more accurate model.

This is my first .oxp. ( or 3D model for that matter ) There are bound to be mistakes or at least ways others would have done it differently. I would appreciate your feedback.

Credits:
Much inspiration has been drawn from how others have done the YT-1300. I started this in the hope of a quick adaption - no chance!! Too many polys... So after much faffing &amp; a very steep learning curve this is my version.
Must not forget George Lucas.

Included:
New HUD for the Falcon. ( Adapted from other .oxp&#39;s )
One player ship.
Four NPC ships.
( If you meet the Falcon-H I suggest you RUN! )

*Update*
Version 2
New Player &amp; NPC ship - Falcon-S ( see below )

I wasn&#39;t happy with the mesh for this ship - too much optomising caused some rough areas. This version has a nicer model though at the cost of about 40 more polys! It runs fine for me but if you prefer the old version this is included ( OldFalcon.dat ) which should take little editing to replace all the current .dat files.

Some mistakes also fixed eg:
 The different ships should use their own skins now...
 All ships should now come with rear twin-plasma cannons as I intended.
 
Minor config changes
The player ships have got a bit more expensive.
Available in higher-tec systems than before...

Back-Story:

	Initially based on Tezaeded in galaxy 2 a small group of Ship enthusiasts looking for something unusual started &#39;importing&#39; YT-1300&#39;s from a neighbouring Empire. These were chopped to their own specs. Word-of-mouth soon spread &amp; more ships were soon being &#39;imported&#39; &amp; chopped to order.
With being based on a Corporate State planet &amp; GalCop not being on friendly terms with said neighbouring Empire they soon got into trouble with the authorities &amp; were shut down...
	Having &#39;done-a-runner&#39; to a more accommodating planet they set up shop on Usceedian under the name of &#39;The Benulobiweeds&#39;. More YT-1300&#39;s made to order &amp; once again in trouble. This time being harder to track down &amp; with GalCop in desperate need of updated police ships they cut a deal to &#39;import&#39; Tie-Fighters + Interceptors for official use in return for some peace &amp; quiet.
	The Benulobiweeds have sold so many ships they are now Benulobiweed.inc: One of the newer producers of space-craft, specialising in &quot;Unusual rides for for unusual tastes.&quot; The majority of YT-1300 &amp; Tie ships are now built new on Usceedian - rumours abound of a new light fighter/trader based on YT-1300 &amp; Tie-Interceptor technology.

The new chairman is on record as saying:
&quot;We don&#39;t make &#39;em cheep &amp; we don&#39;t make &#39;em safe, but by God they go with a bang!&quot;
There has been some debate as to what he means by this...
.
.
.
.
- Overheard conversation in the Benulobiweed.inc boardroom -
Q.&quot;So it&#39;s made out of Falcon bits, but smaller?&quot;
A.&quot;And Tie-Interceptor parts...&quot;
Q.&quot;What&#39;s smaller &amp; faster than a Falcon?&quot;
.
- Much flicking through a dictonary later... -
.
Q+A. &quot;We&#39;ll call it the &#39;Kestrel&#39;!&quot;
.
.
Q.&quot;Did you say &#39;And Tie-Interceptor parts&#39;?&quot;
A.&quot;Umm, yeees.&quot;
Q.&quot;Do you know how much sh*t we&#39;ll be in if GalCop finds out they&#39;re paying us for parts we&#39;re putting in our own ships?&quot;
A.&quot;Couldn&#39;t make it realy fast without them.&quot;
.
.
Q.&quot;Best not tell them then...&quot;
A.&quot;More Benulobiweed boss?&quot;
.
.
.
.
- Some time later the boss is wandering through the R&amp;D shop -
Q.&quot;W.T.F. is that?
A.&quot;A customer said they wanted a Kestrel with more room for cargo.&quot;
Q.&quot;Fat-F**ker looks like it&#39;s been on the chips!&quot;
Q.&quot;How much money is the R&amp;D costing me?&quot;
A.&quot;Nothing...&quot;
Q.&quot;Nothing?&quot;
A.&quot;Got one of the boys to take a lump-hammer &amp; a welder to a Kestrel hull...&quot;
Q.&quot;Those are expensive!&quot;
A.&quot;Not if you do it to a ship already sold to a customer moaning about the lack of space.&quot;
Q.&quot;That&#39;s my boy. I see it now: &#39;Fat-f**ker by Benulobiweed.inc, hand-built by craftsmen&#39;.&quot;
A.&quot;Catchy... There&#39;s more.&quot;
Q.&quot;More?&quot;
A.&quot;There&#39;s less metal and more room for parts in one of these; sooo, cheaper to make &amp; fewer Tie-interceptor parts.&quot;
Q.&quot;You know I come over all runny when you mention that!&quot;
.
Q.&quot;Slower?&quot;
A.&quot;No.&quot;
Q.&quot;Handles ok?&quot;
A.&quot;Nearly as good as a Kestrel&quot;
Q.&quot;Cheeper to make?&quot;
A.&quot;Cheaper??&quot;
Q.&quot;What I said...&quot;
A.&quot;Yes.&quot;
Q.&quot;Anyone know?&quot;
A.&quot;No.&quot;
Q.&quot;Yes: &#39;Fat-f***ker, more space, more features, same price!&#39;.&quot;
A.&quot;Catchy... Boss?&quot;
Q.&quot;Yes?&quot;
A.&quot;Do you think it needs a better name?&quot;
Q.&quot;No.&quot;
A.&quot;I was thinking: &#39;Merlin&#39;.&quot;
Q.&quot;Merlin?&quot;
A.&quot;A birdie a bit bigger than a Kestrel.&quot;
.
Q.&quot;Ooo-yes &amp; also that chap who did magic! This could be the spell to get us out of the sh*t with GalCop - what?&quot;
A.&quot;Very good Sir...&quot;
Q.&quot;Benulobiweed?&quot;
A.&quot;Don&#39;t mind if I do...&quot;
.
.
.
.
- Later at the R&amp;D shop -
Q.&quot;I told you not to go spending money on pointless toys!&quot;
A.&quot;What toys?&quot;
Q.&quot;That bloody great hologram of a Falcon over there! - Nice paint job by the way...&quot;
A.&quot;Umm, it&#39;s&quot;
Q.&quot;Hey, it&#39;s solid! Got any plasters?&quot;
A.&quot;Here. It&#39;s a Falcon&quot;
Q.&quot;How much this time?&quot;
A.&quot;Don&#39;t you want to know how we made a see-through ship? No-one else has got one.&quot;
Q.&quot;H o w, m u c h ?&quot;
A.&quot;Didn&#39;t cost a penny.&quot;
Q.&quot;You&#39;ve not been nicking stuff from GalCop again?!!&quot;
A.&quot;No boss. Found a load of this weard paint in a couple of the yt1300&#39;s we imported. No-one has asked for it back...&quot;
Q.&quot;Free then..?&quot;
A.&quot;Money hasn&#39;t changed hands if that&#39;s what you mean.&quot;
.
.
Q.&quot;Hmmm, invisible ships?&quot;
A.&quot;Slightly transparent.&quot;
Q.&quot;We&#39;re the only manufacturer outide the millitary with stealth technology. We&#39;ll make a fortune!&quot;
A.&quot;Makes no difference on scanners.&quot;
.
Q.&quot;Not stealth then?&quot;
A.&quot;No.&quot;
Q.&quot;Looks kind-a cool. Make it a manufacturer&#39;s option on all Falcon&#39;s.&quot;
A.&quot;Is that wise? We didn&#39;t buy the paint &amp; I thought you didn&#39;t want any more attention.&quot;
Q.&quot;Glad you agree. Slap another 100,000 on the list-price for the option.&quot;
A.&quot;Benulobiweed getting expensive again?&quot;
Q.&quot;You bet.&quot;



Enjoy.

Charlie.

== Original Kestrel ReadMe ========================

And, again!!
This will ( hopefully? ) be the last update ;p
Included ships now have their own AI:- Now behave ( hopefully ) as I wanted..
																		:- Chatter a bit now on the old comms-link.
																		  ( let me know if too much. )
																			( It&#39;s AI is a version of EscortAI.plist as I use this ship 
																			quite a bit for such roles )
																			( sub-entities still don&#39;t complain - Oolite bug?? )
																			
Remaining bugs? Not many I hope:- Don&#39;t know of any :0
																	
	Have fun...
		Please tell me about any remaining bugs.
		Do they talk too much now??
		

Another Update...
All the sub-entities have made this ship a bit too hard to kill, so I&#39;ve reduced the stats a bit.

Big Update - lots of new stuff.
Have fun.
Let me know if any of it&#39;s not working properly.
( and ideas how to fix ;) )

Kestrel.oxp

Why?
I completed a YT-1300 in the shape of the Falcon.oxp &amp; thought I&#39;d have a go @ a smaller ship in the same vein...

This is my second .oxp. ( or 3D model for that matter ) There are bound to be mistakes or at least ways others would have done it differently. I would appreciate your feedback.

Credits:
This ship is rather more closely based on other&#39;s work than the last one. The model inspired from a ship I saw while surfing the &#39;net. I can&#39;t remember where or who, so if any think it looks familiar let me know.

Included:
New HUD for the Kestrel. ( Adapted from other .oxp&#39;s )
One player ship.
One NPC ship.
( My Falcon.oxp is hopefully set up to make use of this ship as an added bonus if both are installed together. )

*Update*
Version2
Thanks for the feedback...
General opinion seems to be that I overdid the stats on my smaller ships.
Changes:
 More expensive
 Available @ higher-tec systems
 Slightly reduced cargo
 Player &amp; NPC now the same
 Stats generally reduced, but top speed remains the same
( It&#39;s ment to be made from parts of a previously released .oxp &amp; so has much in common )

 I think I tidied up the mesh a bit too - can&#39;t remember.

	I hope this makes it &#39;fairer&#39; without compromising the point of this ship.
	As always comments are much appreciated.

Back-Story:

	Initially based on Tezaeded in galaxy 2 a small group of Ship enthusiasts looking for something unusual started &#39;importing&#39; YT-1300&#39;s from a neighbouring Empire. These were chopped to their own specs. Word-of-mouth soon spread &amp; more ships were soon being &#39;imported&#39; &amp; chopped to order.
With being based on a Corporate State planet &amp; GalCop not being on friendly terms with said neighbouring Empire they soon got into trouble with the authorities &amp; were shut down...
	Having &#39;done-a-runner&#39; to a more accommodating planet they set up shop on Usceedian under the name of &#39;The Benulobiweeds&#39;. More YT-1300&#39;s made to order &amp; once again in trouble. This time being harder to track down &amp; with GalCop in desperate need of updated police ships they cut a deal to &#39;import&#39; Tie-Fighters + Interceptors for official use in return for some peace &amp; quiet.
	The Benulobiweeds have sold so many ships they are now Benulobiweed.inc: One of the newer producers of space-craft, specialising in &quot;Unusual rides for for unusual tastes.&quot; The majority of YT-1300 &amp; Tie ships are now built new on Usceedian - rumours abound of a new light fighter/trader based on YT-1300 &amp; Tie-Interceptor technology.

The new chairman is on record as saying:
&quot;We don&#39;t make &#39;em cheep &amp; we don&#39;t make &#39;em safe, but by God they go with a bang!&quot;
There has been some debate as to what he means by this...
.
.
.
.
- Overheard conversation in the Benulobiweed.inc boardroom -
Q.&quot;So it&#39;s made out of Falcon bits, but smaller?&quot;
A.&quot;And Tie-Interceptor parts...&quot;
Q.&quot;What&#39;s smaller &amp; faster than a Falcon?&quot;
.
- Much flicking through a dictonary later... -
.
Q+A. &quot;We&#39;ll call it the &#39;Kestrel&#39;!&quot;
.
.
Q.&quot;Did you say &#39;And Tie-Interceptor parts&#39;?&quot;
A.&quot;Umm, yeees.&quot;
Q.&quot;Do you know how much sh*t we&#39;ll be in if GalCop finds out they&#39;re paying us for parts we&#39;re putting in our own ships?&quot;
A.&quot;Couldn&#39;t make it realy fast without them.&quot;
.
.
Q.&quot;Best not tell them then...&quot;
A.&quot;More Benulobiweed boss?&quot;
.
.
Enjoy.

Charlie.
</pre>
        </a>

        <a name="equipment">          
        <h2>Equipment</h2>
            This expansion declares no equipment. 
        </a>

        <a name="ships">    
        <h2>Ships</h2>
            <table>
                <tr>
                    <th>Name</th>
                </tr>
                <tr>
                    <td><a href="../ships/Falcon.html">Falcon</a></td>
                </tr>
                <tr>
                    <td><a href="../ships/Falcon-E.html">Falcon-E</a></td>
                </tr>
                <tr>
                    <td><a href="../ships/Falcon-H.html">Falcon-H</a></td>
                </tr>
                <tr>
                    <td><a href="../ships/Falcon-S.html">Falcon-S</a></td>
                </tr>
                <tr>
                    <td><a href="../ships/Falcon-S-player.html">Falcon-S</a></td>
                </tr>
                <tr>
                    <td><a href="../ships/Falcon-T.html">Falcon-T</a></td>
                </tr>
                <tr>
                    <td><a href="../ships/Falcon-player.html">Falcon</a></td>
                </tr>
                <tr>
                    <td><a href="../ships/Kestrel.html">Kestrel</a></td>
                </tr>
                <tr>
                    <td><a href="../ships/Kestrel-player.html">Kestrel</a></td>
                </tr>
                <tr>
                    <td><a href="../ships/bweed-falcon-airlock-l.html">bweed-falcon-airlock-l</a></td>
                </tr>
                <tr>
                    <td><a href="../ships/bweed-falcon-airlock-r.html">bweed-falcon-airlock-r</a></td>
                </tr>
                <tr>
                    <td><a href="../ships/bweed-falcon-dish.html">bweed-falcon-dish</a></td>
                </tr>
                <tr>
                    <td><a href="../ships/bweed-falcon-gun.html">bweed-falcon-gun</a></td>
                </tr>
                <tr>
                    <td><a href="../ships/bweed-falcon-player_turret.html">bweed-falcon-turret</a></td>
                </tr>
                <tr>
                    <td><a href="../ships/bweed-falcon-scoop.html">bweed-falcon-scoop</a></td>
                </tr>
                <tr>
                    <td><a href="../ships/bweed-falcon-turret.html">bweed-falcon-turret</a></td>
                </tr>
                <tr>
                    <td><a href="../ships/bweed-falcon-vents.html">bweed-falcon-vents</a></td>
                </tr>
                <tr>
                    <td><a href="../ships/bweed-kestrel-lengine.html">bweed-kestrel-lengine</a></td>
                </tr>
                <tr>
                    <td><a href="../ships/bweed-kestrel-lpylon.html">bweed-kestrel-lpylon</a></td>
                </tr>
                <tr>
                    <td><a href="../ships/bweed-kestrel-lwing.html">bweed-kestrel-lwing</a></td>
                </tr>
                <tr>
                    <td><a href="../ships/bweed-kestrel-rengine.html">bweed-kestrel-rengine</a></td>
                </tr>
                <tr>
                    <td><a href="../ships/bweed-kestrel-rpylon.html">bweed-kestrel-rpylon</a></td>
                </tr>
                <tr>
                    <td><a href="../ships/bweed-kestrel-rwing.html">bweed-kestrel-rwing</a></td>
                </tr>
                <tr>
                    <td><a href="../ships/explosive_shrapnel.html">Explosive Shrapnel</a></td>
                </tr>
            </table>
        </a>

        <a name="models">    
        <h2>Models</h2>
            This expansion declares no models. 
        </a>

        <a name="scripts">    
        <h2>Scripts</h2>
            <table>
                <tr>
                    <th>Path</th>
                </tr>
                <tr>
                    <td valign="top">Scripts/bweed-kestrelfalcon-falcon.js</td>
                    <td><pre>this.name			= &quot;bweed-kestrelfalcon-falcon&quot;;
this.author			= &quot;Kaks&quot;;
this.copyright		= &quot;Creative Commons: attribution, non-commercial, sharealike.&quot;;
this.description	= &quot;Ship&#39;s internal systems&quot;;
this.version		= &quot;1.0&quot;;

this.subpleas={
	&#39;bweed-falcon-airlock-l&#39;:&#39;[bweed-airlock-plea]&#39;,&#39;bweed-falcon-airlock-r&#39;:&#39;[bweed-airlock-plea]&#39;,
	&#39;bweed-falcon-gun&#39;:&#39;[bweed-guns-plea]&#39;,&#39;bweed-falcon-dish&#39;:&#39;[bweed-dish-plea]&#39;,
	&#39;bweed-falcon-vents&#39;:&#39;[bweed-vents-plea]&#39;,&#39;bweed-falcon-scoop&#39;:&#39;[bweed-scoop-plea]&#39;,
	&#39;bweed-falcon-turret&#39;:&#39;[bweed-guns-plea]&#39;};

	
this.shipSpawned = this.shipWillLaunchFromStation = function(){
	let e=this.ship.subEntities;
	e.items= function(){for (let i = 0; i &lt; this.length; i++) yield this[i];}
	for (let i in e.items()) {
		i.script.plea= this.subpleas[i.primaryRole];
		i.script.shipDied = function(){
			//all instances of &#39;this&#39; inside this function refer to the subentity script
			this.ship.owner.commsMessage(expandDescription(this.plea));
		};
	}
}

this.shipDied = function(){

	this.ship.commsMessage(expandDescription(&quot;[bweed-falcon-plea]&quot;));
	this.ship.spawn(&quot;explosive_shrapnel&quot;, 6);

}


</pre></td>
                </tr>
                <tr>
                    <td valign="top">Scripts/bweed-kestrelfalcon-kestrel.js</td>
                    <td><pre>this.name			= &quot;bweed-kestrelfalcon-kestrel&quot;;
this.author			= &quot;Kaks&quot;;
this.copyright		= &quot;Creative Commons: attribution, non-commercial, sharealike.&quot;;
this.description	= &quot;Ship&#39;s internal systems&quot;;
this.version		= &quot;1.0&quot;;

this.subpleas={
	&#39;bweed-kestrel-lengine&#39;:&#39;[bweed-engine-plea]&#39;,&#39;bweed-kestrel-rengine&#39;:&#39;[bweed-engine-plea]&#39;,
	&#39;bweed-kestrel-lpylon&#39;:&#39;[bweed-pylon-plea]&#39;,&#39;bweed-kestrel-rpylon&#39;:&#39;[bweed-pylon-plea]&#39;,
	&#39;bweed-kestrel-lwing&#39;:&#39;[bweed-wing-plea]&#39;,&#39;bweed-kestrel-rwing&#39;:&#39;[bweed-wing-plea]&#39;};

this.shipSpawned = this.shipWillLaunchFromStation = function(){
	var e=this.ship.subEntities;
	e.items= function(){for (var i = 0; i &lt; this.length; i++) yield this[i];}
	for (var i in e.items()) {
		i.script.plea = this.subpleas[i.primaryRole];
		i.script.shipDied = function(){
			//all instances of &#39;this&#39; inside this function refer to the subentity script
			var str=this.ship.primaryRole;
			this.ship.owner.commsMessage(expandDescription(this.plea));
			if(str.indexOf(&#39;engine&#39;)&gt;0)
				this.ship.owner.spawn(&#39;explosive_shrapnel&#39;, Math.round(Math.random()+1));
		};
	}
}

this.shipDied = function(){

	this.ship.commsMessage(expandDescription(&#39;[bweed-kestrel-plea]&#39;));
	this.ship.spawn(&#39;explosive_shrapnel&#39;, 4);

}


</pre></td>
                </tr>
            </table>
        </a>
    </body>
</html>
