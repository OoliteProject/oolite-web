<html>
    <head>
        <title>Expansion ILS Instrument Landing System</title>
        <link rel="stylesheet" href="../style.css">
    </head>
    <body>
        <table border="0" width="100%">
            <tr>
                <td>Back to <a href='../index.html'>Index</a></td>
                <td align="right"><small>Page generated: Oct 11, 2023, 3:16:48 PM</small></td>
            </tr>
        </table>

        <h1>Expansion ILS Instrument Landing System</h1>

        <h2>Content</h2>
        <ul>
          
          <li><a href="#manifest">Manifest</a></li>
          <li><a href="#documentation">Documentation</a></li>
          <li><a href="#equipment">1 Equipment</a></li>
          <li><a href="#ships">0 Ships</a></li>
          <li><a href="#models">0 Models</a></li>
          <li><a href="#scripts">1 Scripts</a></li>
        </ul>


        <a name="manifest">
        <h2>Manifest</h2>
            <table border="1">
                <tr>
                    <th></th>
                    <th>from Expansion Manager's OXP list</th>
                    <th>from Expansion Manifest</th>
                </tr>
                <tr>
                    <td>Description</td>
                    <td>ILS will guide your ship into the dock of the station you targeted. The speed controls are in your hand so you can ignite Injectors to arrive faster or stop to avoid collisions. Other ships will dock much faster using short path and injectors - effectively cure traffic jams near stations when you are waiting for landing clearance.</td>
                    <td>ILS will guide your ship into the dock of the station you targeted. The speed controls are in your hand so you can ignite Injectors to arrive faster or stop to avoid collisions. Other ships will dock much faster using short path and injectors - effectively cure traffic jams near stations when you are waiting for landing clearance.</td>
                </tr>
                <tr>
                    <td>Identifier</td>
                    <td>oolite.oxp.Norby.ILS</td>
                    <td>oolite.oxp.Norby.ILS</td>
                </tr>
                <tr>
                    <td>Title</td>
                    <td>ILS Instrument Landing System</td>
                    <td>ILS Instrument Landing System</td>
                </tr>
                <tr>
                    <td>Category</td>
                    <td>Equipment</td>
                    <td>Equipment</td>
                </tr>
                <tr>
                    <td>Author</td>
                    <td>Norby</td>
                    <td>Norby</td>
                </tr>
                <tr>
                    <td>Version</td>
                    <td>1.15</td>
                    <td>1.15</td>
                </tr>
                <tr>
                    <td>Tags</td>
                    <td></td>
                    <td></td>
                </tr>
                <tr>
                    <td>Required Oolite Version</td>
                    <td></td>
                    <td></td>
                </tr>
                <tr>
                    <td>Maximum Oolite Version</td>
                    <td></td>
                    <td></td>
                </tr>
                <tr>
                    <td>Required Expansions</td>
                    <td>
                    </td>
                    <td>
                    </td>
                </tr>
                <tr>
                    <td>Optional Expansions</td>
                    <td>
                    </td>
                    <td>
                    </td>
                </tr>
                <tr>
                    <td>Conflict Expansions</td>
                    <td>
                    </td>
                    <td>
                    </td>
                </tr>
                <tr>
                    <td>Information URL</td>
                    <td><a target="_blank" href="http://wiki.alioth.net/index.php/ILS">http://wiki.alioth.net/index.php/ILS</a></td>
                    <td><a target="_blank" href="">n/a</a></td>
                </tr>
                <tr>
                    <td>Download URL</td>
                    <td><a target="_blank" href="https://wiki.alioth.net/img_auth.php/9/95/Ils-1.15.oxz">https://wiki.alioth.net/img_auth.php/9/95/Ils-1.15.oxz</a></td>
                    <td><a target="_blank" href="">n/a</a></td>
                </tr>
                <tr>
                    <td>License</td>
                    <td>CC BY-NC-SA 4</td>
                    <td>CC BY-NC-SA 4</td>
                </tr>
                <tr>
                    <td>File Size</td>
                    <td>n/a</td>
                </tr>
                <tr>
                    <td>Upload date</td>
                    <td>1666657202</td>
                </tr>
            </table>
                </a>

        <a name="documentation">
        <h2>Documentation</h2>
        <p>Also read <a href='http://wiki.alioth.net/index.php/ILS%20Instrument%20Landing%20System'>http://wiki.alioth.net/index.php/ILS%20Instrument%20Landing%20System</a></p>
        <h3>Readme</h3>
        <pre>Instrument Landing System OXP
-----------------------------
v1.15, by Norby

If you install the ILS equipment, once you are in an appropriate position (more about this later), put your ident-lock to a station and ask for Docking Clearance; after docking clearance is granted ILS will use your steering controls and guide your ship into the dock. Meantime the speed controls are in your hand so you can ignite Injectors to arrive much faster than with the old Docking Computers.

The ILS mark the current waypoint with a white flashing lightball which will approach the dock if you go nearer to the station. You can temporary override the ILS steering but when you release your controls the ILS will turn your ship to the waypoint again.

You can stop if needed by lowering your thrust to zero, to avoid a collision, for example.

ILS steering will be suspended while your ship is stopped, so if you want to do anything other than landing you can stop and lock the station.

If you change or remove the target lock the ILS turn off automatically.

No ILS in combat, i.e., red alert except and weapons online.

ILS will rotate your ship in the last 2km if your ship is wider than the height of the dock.

For ILS to engage (i.e. start steering your ship) you must be in the &quot;outside side&quot; of the plane &quot;closing&quot; the dock&#39;s entrance... if you can see the dock&#39;s entrance when your ship is facing the dockable, you are in the correct region; if yoy can&#39;t, move to someplace you can, ident-lock the dockable and ask for docking clearance. If docking clearance if required, you will go into the docking queue and ILS will transfer your ident-lock to the NPC using ILS, if any... if your are using Telescope, it will most likely switch your ident-lock back to the dockable (if it&#39;s near the center of your crosshairs), then ILS will switch it back to the NPC... to break this back-and-forth pattern, enable your weapons. Once you have docking clearance (or if no docking clearance is required), you can start moving and ILS will steer your ship into the dock.

 Cost: 50.0 Cr.
 Techlevel: 5


No more traffic jams
--------------------

NPC ships can dock much faster with ILS, using a shorter path and injectors, narrow ones will dock without roll.
Effectively cure traffic jams near stations when you are waiting for landing clearance.

Injector equipped ships will arrive in seconds, slow down in the the last 2km only.

You must wait until the current ILS-user ship is docked before you can use ILS.

If you target the station while another ship is using ILS then the current ILS user will become your locked target, a help to find where it is. 

Once you get docking clerance, the NPC using ILS, if any, will stop, your target will become the station and ILS will begin to steer your ship, you just have to control the speed.

Alternatively you can wait until all ships arrive into the dock - you can not break an already started ILS approach.


Beware
------

* If you unlock the dockable, or change your lock to something else, ILS disengages.
* If your docking clearance expires, ILS disengages, which can be disatrous if you are close to entering the docking bay, ofr your docking bay can move (Liners!), so beware!
* If no docking clearance is required, keep asking for it as you approach the docking bay: even if not required, it looks like it expires, and that means ILS might disengage at a bad moment... beware specially while docking to Deep Space Dredgers, since once ILS disengages they will be in collision avoidance mode and ram your ship in the docking bay walls...
* Some OXPs might mess with the player&#39;s target and thus stop ILS; known culprits are Traffic Control (hopefully Traffic Control v2.1 will fix that) and Telescope if its $TelescopeGravLock configuration variable is greater than 0.


License
-------

This work is licensed under the Creative Commons Attribution-NonCommercial-ShareAlike License version 4.0.
If you are re-using any piece of this OXP, please let me know by sending an e-mail to norbylite@gmail.com.


Changelog
---------

 2022.10.24. v1.15

* Prevents docking upside-down when rotation is necessary.
* Do not use ILS to dock on Salvage Gangs (it does not work well with its deeply recessed dock).
* Extendes the &quot;ship must be in the outside side of the docking bay entrace for ILS to engage&quot; rule to NPCs.


 2022.08.08. v1.14

* Makes asking for docking clearance necessary for the player to engage ILS.
* Player gets ILS use when docking clearance is granted.
* Restored making the current ILS user the player&#39;s target while the player waits for docking clearance.
* ILS is enabled for NPCs in the last station the player docked until the player moves 100km away from it, when ILS will be enabled at the main station to reduce the probability of a traffic jam.
* Frees ILS for NPC use once the player has docked.
* ILS does not engage until the player&#39;s ship is &quot;outside&quot; the dock entrance&#39;s plane (avoids trying to dock through the dock&#39;s walls...).
* Stops Liners and Dedgers while player uses ILS to dock with them.



 2020.08.12. v1.13 (by Dybal)

* Calculate Dock world-coordinates orientation by concatenating its orientation in station model-coordinates with the Station orientation in world-coordinates.
* Get direction of Dock widest dimension (depth excluded)  based on Docks dimensions and world-coordinates orientation (general case, should work for all kinds of dock&#39;s placement on station models).
* Use Dock&#39;s heading instead of Station&#39;s heading to get the position to aim on approach.
* Change rotation sync logic: if the ship&#39;s rotation is lagging, rotates in the same direction as the station; if it&#39;s advanced, rotate against the station; this avoids rotating too much inside the dock if a longer interval between FCB calls gets the ship sufficiently out-of-sync to start correcting again (the &quot;let&#39;s rotate once more now we are inside the dock&quot; bug...).
* Limit ship&#39;s rotation in rotation sync to the max roll that ship can do in the FCB time interval.
* If the ship is approaching fast, start rotation sync farther away and rotates as much as possible in each FCB call, otherwise do it more leisurely (for the visual beauty ...might be still too fast for that and need some tuning).


 2020.07.16. v1.12 

* Off-centre dock alignment fix for player and NPC&#39;s, performance enhancements, 
* Improvements to auto-docking movements. Thanks to dybal.


 2016.05.20. v1.11 

* Rotation fix at Torus stations, thanks to pkhb.
* Smoother start of ILS steering as the ship has inertia.


 2016.03.29. v1.9  

* ILS will rotate your ship in the last 2km if wider than the height of the dock.
* Wide NPCs can rotate before dock to prevent lockdown at non-rolling stations.
* NPC will slow during ILS approach when a ship is near to prevent collision.
* Use less CPU by searching new ships in timer instead of FCB.
* Fixed a minor bug in NPC logic when player launch.


 2016.01.11. v1.8  

* Display a warning message if you must roll to fit into the dock.
* No ILS in red alert except if weapons are offline.
* NPCs will not dock until player has docking clearance.
* NPCs will not use ILS at moving docks like Behemoth.
* Landing NPC will stop when player launch from a station.
* No more auto target lock on new ILS user NPCs.


 2015.11.29. v1.7  

* Wide NPCs can use ILS, these will wait for the right position.
* Lonq queues finish faster due to the speed based selection of next NPC.
* Auto switch to the next ship when the current ILS user suffer attack.
* No more &quot;ILS set to&quot; message when player is docked.


 2015.11.28. v1.6  

* NPC ILS improved: earn higher speed and up to 95m width for Krait.
* Must wait NPC to dock before ILS can be used by the player.
* Targeted NPC will not get priority over others.


 2015.11.27. v1.5  
* Most NPC ships can dock faster without roll, up to 80m width.


 2015.03.21. v1.4  

* Fixed landing in Rock Hermits.
* Fixed a bug with Towbar.


 2014.10.01. v1.3  

* No ILS in missile targeting mode.
* ILS steering suspended until player ship is stopped.
* Fixed Telescope visual target shaking during ILS steering.
* Using reduced turn rates when there is a ship on Towbar.


 2014.09.30. v1.2  

* Refined approaching curve with less sharp turn at the end.
* Fixed the white marker.


 2014.09.29. v1.1  

* Small fixes, for example Carriers will not turn on ILS.


 2014.09.29. v1.0  

* First release.
</pre>
        </a>

        <a name="equipment">          
        <h2>Equipment</h2>
            <table>
                <tr>
                    <th>Name</th>
                    <th>Visible</th>
                    <th>Cost [deci-credits]</th>
                    <th>Tech-Level</th>
                </tr>
                <tr>
                    <td><a href="../equipment/EQ_ILS.html">ILS Instrument Landing System</a></td>
                    <td>yes</td>
                    <td align="right">500</td>
                    <td align="center">5+</td>
                </tr>
            </table>
        </a>

        <a name="ships">    
        <h2>Ships</h2>
            This expansion declares no ships. 
        </a>

        <a name="models">    
        <h2>Models</h2>
            This expansion declares no models. 
        </a>

        <a name="scripts">    
        <h2>Scripts</h2>
            <table>
                <tr>
                    <th>Path</th>
                </tr>
                <tr>
                    <td valign="top">Scripts/ils.js</td>
                    <td><pre>notYetParsed</pre></td>
                </tr>
            </table>
        </a>
    </body>
</html>
