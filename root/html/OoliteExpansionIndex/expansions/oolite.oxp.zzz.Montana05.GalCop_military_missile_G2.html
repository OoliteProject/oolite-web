<html>
    <head>
        <title>Expansion Military Missile G2</title>
        <link rel="stylesheet" href="../style.css">
    </head>
    <body>
        <table border="0" width="100%">
            <tr>
                <td>Back to <a href='../index.html'>Index</a></td>
                <td align="right"><small>Page generated: Oct 11, 2023, 3:16:49 PM</small></td>
            </tr>
        </table>

        <h1>Expansion Military Missile G2</h1>

        <h2>Content</h2>
        <ul>
          
          <li><a href="#manifest">Manifest</a></li>
          <li><a href="#documentation">Documentation</a></li>
          <li><a href="#equipment">2 Equipment</a></li>
          <li><a href="#ships">2 Ships</a></li>
          <li><a href="#models">0 Models</a></li>
          <li><a href="#scripts">3 Scripts</a></li>
        </ul>


        <a name="manifest">
        <h2>Manifest</h2>
            <table border="1">
                <tr>
                    <th></th>
                    <th>from Expansion Manager's OXP list</th>
                    <th>from Expansion Manifest</th>
                </tr>
                <tr>
                    <td>Description</td>
                    <td>An enhanced hardened missile developed exclusively for the Galactic Navy and the GalCop police forces. The Military Missile G2 is the next generation after the G1. For more details please check the wiki page.</td>
                    <td>An enhanced hardened missile developed exclusively for the Galactic Navy and the GalCop police forces. The Military Missile G2 is the next generation after the G1. For more details please check the wiki page.</td>
                </tr>
                <tr>
                    <td>Identifier</td>
                    <td>oolite.oxp.zzz.Montana05.GalCop_military_missile_G2</td>
                    <td>oolite.oxp.zzz.Montana05.GalCop_military_missile_G2</td>
                </tr>
                <tr>
                    <td>Title</td>
                    <td>Military Missile G2</td>
                    <td>Military Missile G2</td>
                </tr>
                <tr>
                    <td>Category</td>
                    <td>Weapons</td>
                    <td>Weapons</td>
                </tr>
                <tr>
                    <td>Author</td>
                    <td>Wyvern, Montana05</td>
                    <td>Wyvern, Montana05</td>
                </tr>
                <tr>
                    <td>Version</td>
                    <td>0.51</td>
                    <td>0.51</td>
                </tr>
                <tr>
                    <td>Tags</td>
                    <td></td>
                    <td></td>
                </tr>
                <tr>
                    <td>Required Oolite Version</td>
                    <td></td>
                    <td></td>
                </tr>
                <tr>
                    <td>Maximum Oolite Version</td>
                    <td></td>
                    <td></td>
                </tr>
                <tr>
                    <td>Required Expansions</td>
                    <td>
                    </td>
                    <td>
                    </td>
                </tr>
                <tr>
                    <td>Optional Expansions</td>
                    <td>
                    </td>
                    <td>
                    </td>
                </tr>
                <tr>
                    <td>Conflict Expansions</td>
                    <td>
                    </td>
                    <td>
                    </td>
                </tr>
                <tr>
                    <td>Information URL</td>
                    <td><a target="_blank" href="http://wiki.alioth.net/index.php/Military_Missile">http://wiki.alioth.net/index.php/Military_Missile</a></td>
                    <td><a target="_blank" href="">n/a</a></td>
                </tr>
                <tr>
                    <td>Download URL</td>
                    <td><a target="_blank" href="https://wiki.alioth.net/img_auth.php/4/48/Oolite.oxp.zzz.Montana05.GalCop_military_missile_G2.OXZ">https://wiki.alioth.net/img_auth.php/4/48/Oolite.oxp.zzz.Montana05.GalCop_military_missile_G2.OXZ</a></td>
                    <td><a target="_blank" href="">n/a</a></td>
                </tr>
                <tr>
                    <td>License</td>
                    <td>CC BY-NC-SA 4.0</td>
                    <td>CC BY-NC-SA 4.0</td>
                </tr>
                <tr>
                    <td>File Size</td>
                    <td>n/a</td>
                </tr>
                <tr>
                    <td>Upload date</td>
                    <td>1639300938</td>
                </tr>
            </table>
                </a>

        <a name="documentation">
        <h2>Documentation</h2>
        <p>Also read <a href='http://wiki.alioth.net/index.php/Military%20Missile%20G2'>http://wiki.alioth.net/index.php/Military%20Missile%20G2</a></p>
        <h3>read_me.txt</h3>
        <pre>
History
=======

Since the aging original Military Missile doesn&#39;t include a license I decided to make a remake and while doing so
include some modifications.

The wiki page of the original and this missile could be viewed here: http://wiki.alioth.net/index.php/Military_Missile

Overview
========

An enhanced hardened missile developed exclusively for the Galactic Navy and the GalCop police forces but a hacked
version is available as well.

Modifications
=============

Faster, more resistant to ECM, and with an extended array of targets. The original Military Missile G2 could only be 
purchased at a Navy SecCom Station and therefore require Galactic Navy to be installed. If you chose the career of a 
criminal you can find the hacked version once in a while in systems with an unstable government or at independent 
and &quot;sleazy&quot; locations. 
 
Credits
=======

The Military Missile G2 is an improved version of the work of Wyvern, all credits, therefore, belongs to him. 

Dependencies
============

none

License
=======

This work is licensed under Creative Commons Attribution Non-Commercial Share Alike 4.0 International (CC BY-NC-SA 4.0).
To view a copy of this license visit https://creativecommons.org/licenses/by-nc-sa/4.0

Version History
===============

V 0.50:
initial release

V 0.51:
fixed a logical error in the purchase chances</pre>
        </a>

        <a name="equipment">          
        <h2>Equipment</h2>
            <table>
                <tr>
                    <th>Name</th>
                    <th>Visible</th>
                    <th>Cost [deci-credits]</th>
                    <th>Tech-Level</th>
                </tr>
                <tr>
                    <td><a href="../equipment/EQ_GALCOP_MILITARY_MISSILE.html">Hawking HMX-11 Military Smart Missile</a></td>
                    <td>yes</td>
                    <td align="right">4100</td>
                    <td align="center">2+</td>
                </tr>
                <tr>
                    <td><a href="../equipment/EQ_GALCOP_MILITARY_MOD_MISSILE.html">Hacker HMX-11 Military Smart Missile</a></td>
                    <td>yes</td>
                    <td align="right">10000</td>
                    <td align="center">2+</td>
                </tr>
            </table>
        </a>

        <a name="ships">    
        <h2>Ships</h2>
            <table>
                <tr>
                    <th>Name</th>
                </tr>
                <tr>
                    <td><a href="../ships/GalCop_military_missile.html">Hawking HMX-11 Military Smart Missile</a></td>
                </tr>
                <tr>
                    <td><a href="../ships/GalCop_military_missile_mod.html">Hacker HMX-11 Military Smart Missile</a></td>
                </tr>
            </table>
        </a>

        <a name="models">    
        <h2>Models</h2>
            This expansion declares no models. 
        </a>

        <a name="scripts">    
        <h2>Scripts</h2>
            <table>
                <tr>
                    <th>Path</th>
                </tr>
                <tr>
                    <td valign="top">Scripts/GalCop_military_missile_conditions.js</td>
                    <td><pre>this.name			= &quot;GalCop_military_missile_conditions&quot;;
this.author			= &quot;Montana05&quot;;
this.description	= &quot;conditions for the purchase of Military Missiles G2&quot;;
this.version		= &quot;0.51&quot;;
this.copyright		= &quot;2021 Montana05&quot;;
this.licence   		= &quot;CC BY-NC-SA 4.0&quot;;
&quot;use strict&quot;;

this.allowAwardEquipment = function(equipment, ship, context)
{
	var diceRoll = worldScripts.GalCop_military_missile_dice;
	var dice = diceRoll.$GalCop_military_missile_dice;
			
	var shipRole = ship.primaryRole;
	
	// remainder from oolite-conditions.js:

	// OXP hook to allow stations to forbid specific equipment
	if(context == &quot;purchase&quot; &amp;&amp; player.ship.dockedStation &amp;&amp; player.ship.dockedStation.scriptInfo[&quot;oolite-barred-equipment&quot;])
	{
		if (player.ship.dockedStation.scriptInfo[&quot;oolite-barred-equipment&quot;].indexOf(equipment) != -1)
		{
			return false;
		};
	};

	// OXP hook to allow ships to forbid specific &quot;available to all&quot; equipment
	if(ship.scriptInfo &amp;&amp; ship.scriptInfo[&quot;oolite-barred-equipment&quot;] &amp;&amp; ship.scriptInfo[&quot;oolite-barred-equipment&quot;].indexOf(equipment) != -1)
	{
		return false;
	};
			
	// awarded equipment to NPC&#39;s on setup or added by JS
	if(context == &quot;npc&quot; || context == &quot;scripted&quot;)
	{
		// exclusively for Navy and police
		if(equipment === &quot;EQ_GALCOP_MILITARY_MISSILE&quot; &amp;&amp; (ship.scanClass === &quot;CLASS_MILITARY&quot; || ship.scanClass === &quot;CLASS_POLICE&quot;))
		{
			return true;
		};
		
		// for some criminals only
		// roleIsInCategory always return &quot;false&quot; so check every role
		if(equipment === &quot;EQ_GALCOP_MILITARY_MOD_MISSILE&quot; &amp;&amp;
		   (shipRole == &quot;pirate-heavy-fighter&quot; ||
		    shipRole == &quot;pirate-heavy-freighter&quot; ||
		    shipRole == &quot;pirate-interceptor&quot; ||
		    shipRole == &quot;pirate-aegis-raider&quot; ||
			shipRole == &quot;assassin-medium&quot; ||
			shipRole == &quot;assassin-heavy&quot;))
		{
			return true;
		};
	};

	if(system &amp;&amp; !system.sun.hasGoneNova &amp;&amp; !system.sun.isGoingNova)
	{
		// shipyards at stations
		if((context == &quot;newShip&quot; || context == &quot;purchase&quot;) &amp;&amp; player.ship.dockedStation)
		{
			// the original missiles are only available at 
			// Galactic Navy Sector Commands (Galactic Navy OXP) and Sentinel Stations (Anarchies OXP)
			if(equipment === &quot;EQ_GALCOP_MILITARY_MISSILE&quot; &amp;&amp; 
			  (player.ship.dockedStation.primaryRole.indexOf(&quot;navystat&quot;) != -1) || 
			   player.ship.dockedStation.primaryRole == &quot;anarchies_sentinel_station&quot;)
			{
				return true;
			};

			// modified missiles
			if(equipment === &quot;EQ_GALCOP_MILITARY_MOD_MISSILE&quot;)
			{
				// there is a chance in anarchies, feudals and multi-gov systems
				if(system.info.government &lt;= 2 &amp;&amp; dice &gt; 75)
				{
					return true;
				};

				// independent and sleazy locations offer them as well once in a while
				if(system.info.government &gt; 2 &amp;&amp; player.ship.dockedStation.allegiance != &quot;galcop&quot; &amp;&amp; dice &gt; 65)
				{
					return true;
				};
			};
		};
	};	
	// otherwise prohibited
	return false;
};



</pre></td>
                </tr>
                <tr>
                    <td valign="top">Scripts/GalCop_military_missile_dice.js</td>
                    <td><pre>this.name			= &quot;GalCop_military_missile_dice&quot;;
this.author			= &quot;Montana05&quot;;
this.description	= &quot;rolls the dice for the condition script&quot;;
this.version		= &quot;0.51&quot;;
this.copyright		= &quot;2021 Montana05&quot;;
this.licence   		= &quot;CC BY-NC-SA 4.0&quot;;
&quot;use strict&quot;;

// offers a chance for purchase on some stations (condition script)

// on startup
this.startUp = function()
{
	this.$GalCop_military_missile_dice = Math.round(Math.random() * 100);
};

// with every docking
this.shipDockedWithStation = function(station)
{
	this.$GalCop_military_missile_dice = Math.round(Math.random() * 100);
};</pre></td>
                </tr>
                <tr>
                    <td valign="top">Scripts/GalCop_military_missile_supply.js</td>
                    <td><pre>this.name			= &quot;GalCop_military_missile_supply&quot;;
this.author			= &quot;Montana05&quot;;
this.description	= &quot;replaces on some ships the core missiles&quot;;
this.version		= &quot;0.51&quot;;
this.copyright		= &quot;2021 Montana05&quot;;
this.licence   		= &quot;CC BY-NC-SA 4.0&quot;;
&quot;use strict&quot;;

// replaces on some police, assassin and pirate ships &quot;Missiles&quot; and &quot;ECM Hardened Missiles&quot; with &quot;Military Missiles G2&quot;

this.shipSpawned = function(ship) 
{
	var dice = Math.round(Math.random() * 100);
	var shipRole = ship.primaryRole;
	var shipMissiles = ship.missiles;
	
	// basic check, shouldn&#39;t be necessary but better safe than sorry
	if(ship.isSubEntity == false &amp;&amp;
	   ship.isWeapon == false &amp;&amp;
	   ship.isCargo == false &amp;&amp;
	   ship.isRock == false &amp;&amp;
	   shipMissiles.length &gt; 0 &amp;&amp;
	   shipRole != &quot;wreckage&quot; ) 
	{
		// police ships in advanced government systems with money
		if(ship.isPolice == true &amp;&amp;
		   system.info.government &gt; 4 &amp;&amp;
		   system.info.economy &lt; 2)
		{   
			for(var i = shipMissiles.length - 1 ; i &gt;= 0 ; i-- )
			{
				if(shipMissiles[i].equipmentKey == &quot;EQ_MISSILE&quot;)
				{
					ship.removeEquipment(&quot;EQ_MISSILE&quot;);
					ship.awardEquipment(&quot;EQ_GALCOP_MILITARY_MISSILE&quot;);
				};

				if(shipMissiles[i].equipmentKey == &quot;EQ_HARDENED_MISSILE&quot;)
				{
					ship.removeEquipment(&quot;EQ_HARDENED_MISSILE&quot;);
					ship.awardEquipment(&quot;EQ_GALCOP_MILITARY_MISSILE&quot;);
				};
			};
		};
	
		// random heavily armed pirates and assassins
		if((shipRole == &quot;pirate-heavy-fighter&quot; ||
		    shipRole == &quot;pirate-heavy-freighter&quot; ||
		    shipRole == &quot;pirate-interceptor&quot; ||
		    shipRole == &quot;pirate-aegis-raider&quot; ||
			shipRole == &quot;assassin-medium&quot; ||
			shipRole == &quot;assassin-heavy&quot;) &amp;&amp;
	        dice &lt; 20)
		{
			for(var i = shipMissiles.length - 1 ; i &gt;= 0 ; i-- )
			{
				if(shipMissiles[i].equipmentKey == &quot;EQ_MISSILE&quot;)
				{
					ship.removeEquipment(&quot;EQ_MISSILE&quot;);
					ship.awardEquipment(&quot;EQ_GALCOP_MILITARY_MOD_MISSILE&quot;);
				};

				if(shipMissiles[i].equipmentKey == &quot;EQ_HARDENED_MISSILE&quot;)
				{
					ship.removeEquipment(&quot;EQ_HARDENED_MISSILE&quot;);
					ship.awardEquipment(&quot;EQ_GALCOP_MILITARY_MOD_MISSILE&quot;);
				};
			};
		};
	};
};</pre></td>
                </tr>
            </table>
        </a>
    </body>
</html>
