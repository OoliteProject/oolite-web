<html>
    <head>
        <title>Expansion Convoys</title>
        <link rel="stylesheet" href="../style.css">
    </head>
    <body>
        <table border="0" width="100%">
            <tr>
                <td>Back to <a href='../index.html'>Index</a></td>
                <td align="right"><small>Page generated: Oct 11, 2023, 3:16:48 PM</small></td>
            </tr>
        </table>

        <h1>Expansion Convoys</h1>

        <h2>Content</h2>
        <ul>
          <li><a href="#warnings">Warnings</a></li>
          <li><a href="#manifest">Manifest</a></li>
          <li><a href="#documentation">Documentation</a></li>
          <li><a href="#equipment">0 Equipment</a></li>
          <li><a href="#ships">73 Ships</a></li>
          <li><a href="#models">0 Models</a></li>
          <li><a href="#scripts">1 Scripts</a></li>
        </ul>

          <a name="warnings">
            <h2>Warnings</h2>
            <ol>
                <li>Required Expansions mismatch between OXP Manifest and Expansion Manager at character position 0066 (DIGIT ZERO vs LATIN SMALL LETTER N)</li>
                <li>Optional Expansions mismatch between OXP Manifest and Expansion Manager at character position 0067 (DIGIT ZERO vs LATIN SMALL LETTER N)</li>
            </ol>
          </a>

        <a name="manifest">
        <h2>Manifest</h2>
            <table border="1">
                <tr>
                    <th></th>
                    <th>from Expansion Manager's OXP list</th>
                    <th>from Expansion Manifest</th>
                </tr>
                <tr>
                    <td>Description</td>
                    <td>Freighters can fly in large groups occasionally. Small ships also make larger formations sometimes to defend themselves, as well as pirates, hunters and police, especially in bad governments. Leaders of convoys are usually well armed ships but local authorities pay very high bounties for the most wanted fugitive leaders.</td>
                    <td>Freighters can fly in large groups occasionally. Small ships also make larger formations sometimes to defend themselves, as well as pirates, hunters and police, especially in bad governments. Leaders of convoys are usually well armed ships but local authorities pay very high bounties for the most wanted fugitive leaders.</td>
                </tr>
                <tr>
                    <td>Identifier</td>
                    <td>oolite.oxp.Norby.Convoys</td>
                    <td>oolite.oxp.Norby.Convoys</td>
                </tr>
                <tr>
                    <td>Title</td>
                    <td>Convoys</td>
                    <td>Convoys</td>
                </tr>
                <tr>
                    <td>Category</td>
                    <td>Mechanics</td>
                    <td>Mechanics</td>
                </tr>
                <tr>
                    <td>Author</td>
                    <td>Norby</td>
                    <td>Norby</td>
                </tr>
                <tr>
                    <td>Version</td>
                    <td>1.3</td>
                    <td>1.3</td>
                </tr>
                <tr>
                    <td>Tags</td>
                    <td></td>
                    <td></td>
                </tr>
                <tr>
                    <td>Required Oolite Version</td>
                    <td></td>
                    <td></td>
                </tr>
                <tr>
                    <td>Maximum Oolite Version</td>
                    <td></td>
                    <td></td>
                </tr>
                <tr>
                    <td>Required Expansions</td>
                    <td>
                            <li>oolite.oxp.cim.escort-formations:0</li>
                    </td>
                    <td>
                            <li>oolite.oxp.cim.escort-formations:</li>
                    </td>
                </tr>
                <tr>
                    <td>Optional Expansions</td>
                    <td>
                            <li>oolite.oxp.Norby.FreighterConvoys:0</li>
                    </td>
                    <td>
                            <li>oolite.oxp.Norby.FreighterConvoys:</li>
                    </td>
                </tr>
                <tr>
                    <td>Conflict Expansions</td>
                    <td>
                    </td>
                    <td>
                    </td>
                </tr>
                <tr>
                    <td>Information URL</td>
                    <td><a target="_blank" href="http://aegidian.org/bb/viewtopic.php?f=6&amp;t=18930">http://aegidian.org/bb/viewtopic.php?f=6&amp;t=18930</a></td>
                    <td><a target="_blank" href="">n/a</a></td>
                </tr>
                <tr>
                    <td>Download URL</td>
                    <td><a target="_blank" href="https://wiki.alioth.net/img_auth.php/b/b1/Convoys_1.3.oxz">https://wiki.alioth.net/img_auth.php/b/b1/Convoys_1.3.oxz</a></td>
                    <td><a target="_blank" href="">n/a</a></td>
                </tr>
                <tr>
                    <td>License</td>
                    <td>CC BY-NC-SA 4</td>
                    <td>CC BY-NC-SA 4</td>
                </tr>
                <tr>
                    <td>File Size</td>
                    <td>n/a</td>
                </tr>
                <tr>
                    <td>Upload date</td>
                    <td>1610873446</td>
                </tr>
            </table>
                </a>

        <a name="documentation">
        <h2>Documentation</h2>
        <p>Also read <a href='http://wiki.alioth.net/index.php/Convoys'>http://wiki.alioth.net/index.php/Convoys</a></p>
        </a>

        <a name="equipment">          
        <h2>Equipment</h2>
            This expansion declares no equipment. This may be related to warnings.
        </a>

        <a name="ships">    
        <h2>Ships</h2>
            <table>
                <tr>
                    <th>Name</th>
                </tr>
                <tr>
                    <td><a href="../ships/convoys-adder.html">Adder Leader</a></td>
                </tr>
                <tr>
                    <td><a href="../ships/convoys-anaconda.html">Anaconda Team Leader</a></td>
                </tr>
                <tr>
                    <td><a href="../ships/convoys-anaconda-admiral.html">Anaconda Admiral</a></td>
                </tr>
                <tr>
                    <td><a href="../ships/convoys-anaconda-pirate.html">Anaconda Leader - high bounty</a></td>
                </tr>
                <tr>
                    <td><a href="../ships/convoys-anaconda2.html">Anaconda Team Leader</a></td>
                </tr>
                <tr>
                    <td><a href="../ships/convoys-anaconda3.html">Anaconda Team Leader</a></td>
                </tr>
                <tr>
                    <td><a href="../ships/convoys-asp.html">Asp Mark II Leader</a></td>
                </tr>
                <tr>
                    <td><a href="../ships/convoys-asp-pirate.html">Asp Mark II Leader - high bounty</a></td>
                </tr>
                <tr>
                    <td><a href="../ships/convoys-boa.html">Boa Leader</a></td>
                </tr>
                <tr>
                    <td><a href="../ships/convoys-boa-mk2.html">Boa Class Cruiser Leader</a></td>
                </tr>
                <tr>
                    <td><a href="../ships/convoys-boa-mk2-pirate.html">Boa Class Cruiser Leader - high bounty</a></td>
                </tr>
                <tr>
                    <td><a href="../ships/convoys-boa-pirate.html">Boa Leader - high bounty</a></td>
                </tr>
                <tr>
                    <td><a href="../ships/convoys-cobra3.html">Cobra Mark III Leader</a></td>
                </tr>
                <tr>
                    <td><a href="../ships/convoys-cobra3-pirate.html">Cobra Mark III Leader - high bounty</a></td>
                </tr>
                <tr>
                    <td><a href="../ships/convoys-escort-adder.html">convoys-escort-adder</a></td>
                </tr>
                <tr>
                    <td><a href="../ships/convoys-escort-anaconda.html">convoys-escort-anaconda</a></td>
                </tr>
                <tr>
                    <td><a href="../ships/convoys-escort-anaconda-pirate.html">convoys-escort-anaconda-pirate</a></td>
                </tr>
                <tr>
                    <td><a href="../ships/convoys-escort-asp.html">convoys-escort-asp</a></td>
                </tr>
                <tr>
                    <td><a href="../ships/convoys-escort-boa.html">convoys-escort-boa</a></td>
                </tr>
                <tr>
                    <td><a href="../ships/convoys-escort-boa-mk2.html">convoys-escort-boa-mk2</a></td>
                </tr>
                <tr>
                    <td><a href="../ships/convoys-escort-boa-mk2-pirate.html">convoys-escort-boa-mk2-pirate</a></td>
                </tr>
                <tr>
                    <td><a href="../ships/convoys-escort-boa-pirate.html">convoys-escort-boa-pirate</a></td>
                </tr>
                <tr>
                    <td><a href="../ships/convoys-escort-cobra3-alternate.html">convoys-escort-cobra3-alternate</a></td>
                </tr>
                <tr>
                    <td><a href="../ships/convoys-escort-cobra3-pirate.html">convoys-escort-cobra3-pirate</a></td>
                </tr>
                <tr>
                    <td><a href="../ships/convoys-escort-cobra3-trader.html">convoys-escort-cobra3-trader</a></td>
                </tr>
                <tr>
                    <td><a href="../ships/convoys-escort-cobramk1.html">convoys-escort-cobramk1</a></td>
                </tr>
                <tr>
                    <td><a href="../ships/convoys-escort-cobramk1-alt.html">convoys-escort-cobramk1-alt</a></td>
                </tr>
                <tr>
                    <td><a href="../ships/convoys-escort-cobramk1-miner.html">convoys-escort-cobramk1-miner</a></td>
                </tr>
                <tr>
                    <td><a href="../ships/convoys-escort-ferdelance.html">convoys-escort-ferdelance</a></td>
                </tr>
                <tr>
                    <td><a href="../ships/convoys-escort-gecko.html">convoys-escort-gecko</a></td>
                </tr>
                <tr>
                    <td><a href="../ships/convoys-escort-krait.html">convoys-escort-krait</a></td>
                </tr>
                <tr>
                    <td><a href="../ships/convoys-escort-mamba.html">convoys-escort-mamba</a></td>
                </tr>
                <tr>
                    <td><a href="../ships/convoys-escort-mamba-escort.html">convoys-escort-mamba-escort</a></td>
                </tr>
                <tr>
                    <td><a href="../ships/convoys-escort-moray.html">convoys-escort-moray</a></td>
                </tr>
                <tr>
                    <td><a href="../ships/convoys-escort-morayMED.html">convoys-escort-morayMED</a></td>
                </tr>
                <tr>
                    <td><a href="../ships/convoys-escort-python.html">convoys-escort-python</a></td>
                </tr>
                <tr>
                    <td><a href="../ships/convoys-escort-python-blackdog.html">convoys-escort-python-blackdog</a></td>
                </tr>
                <tr>
                    <td><a href="../ships/convoys-escort-python-trader.html">convoys-escort-python-trader</a></td>
                </tr>
                <tr>
                    <td><a href="../ships/convoys-escort-shuttle.html">convoys-escort-shuttle</a></td>
                </tr>
                <tr>
                    <td><a href="../ships/convoys-escort-sidewinder.html">convoys-escort-sidewinder</a></td>
                </tr>
                <tr>
                    <td><a href="../ships/convoys-escort-sidewinder-escort.html">convoys-escort-sidewinder-escort</a></td>
                </tr>
                <tr>
                    <td><a href="../ships/convoys-escort-thargoid.html">convoys-escort-thargoid</a></td>
                </tr>
                <tr>
                    <td><a href="../ships/convoys-escort-transporter.html">convoys-escort-transporter</a></td>
                </tr>
                <tr>
                    <td><a href="../ships/convoys-escort-transporter-miner.html">convoys-escort-transporter-miner</a></td>
                </tr>
                <tr>
                    <td><a href="../ships/convoys-escort-viper.html">convoys-escort-viper</a></td>
                </tr>
                <tr>
                    <td><a href="../ships/convoys-escort-viper-interceptor.html">convoys-escort-viper-interceptor</a></td>
                </tr>
                <tr>
                    <td><a href="../ships/convoys-escort-viper-pursuit.html">convoys-escort-viper-pursuit</a></td>
                </tr>
                <tr>
                    <td><a href="../ships/convoys-escort-worm.html">convoys-escort-worm</a></td>
                </tr>
                <tr>
                    <td><a href="../ships/convoys-escort-worm-miner.html">convoys-escort-worm-miner</a></td>
                </tr>
                <tr>
                    <td><a href="../ships/convoys-ferdelance.html">Fer-de-Lance Leader</a></td>
                </tr>
                <tr>
                    <td><a href="../ships/convoys-ferdelance-pirate.html">Fer-de-Lance Leader - high bounty</a></td>
                </tr>
                <tr>
                    <td><a href="../ships/convoys-gecko-pirate.html">Gecko Leader - high bounty</a></td>
                </tr>
                <tr>
                    <td><a href="../ships/convoys-krait.html">Krait Leader</a></td>
                </tr>
                <tr>
                    <td><a href="../ships/convoys-krait-pirate.html">Krait Leader - high bounty</a></td>
                </tr>
                <tr>
                    <td><a href="../ships/convoys-mamba.html">Mamba Leader - high bounty</a></td>
                </tr>
                <tr>
                    <td><a href="../ships/convoys-moray.html">Moray Leader</a></td>
                </tr>
                <tr>
                    <td><a href="../ships/convoys-moray-morayMED.html">Moray Chief Medical Boat</a></td>
                </tr>
                <tr>
                    <td><a href="../ships/convoys-moray-pirate.html">Moray Leader - high bounty</a></td>
                </tr>
                <tr>
                    <td><a href="../ships/convoys-python.html">Python Leader</a></td>
                </tr>
                <tr>
                    <td><a href="../ships/convoys-python-blackdog.html">Python Boss - very high bounty</a></td>
                </tr>
                <tr>
                    <td><a href="../ships/convoys-python-pirate.html">Python Leader - high bounty</a></td>
                </tr>
                <tr>
                    <td><a href="../ships/convoys-python-team.html">Python Team Leader</a></td>
                </tr>
                <tr>
                    <td><a href="../ships/convoys-sheriff.html">GalCop Sheriff</a></td>
                </tr>
                <tr>
                    <td><a href="../ships/convoys-sheriff2.html">GalCop Sheriff</a></td>
                </tr>
                <tr>
                    <td><a href="../ships/convoys-sheriff3.html">GalCop Sheriff</a></td>
                </tr>
                <tr>
                    <td><a href="../ships/convoys-shuttle.html">Shuttle Leader</a></td>
                </tr>
                <tr>
                    <td><a href="../ships/convoys-thargoid.html">Thargoid Hulk - high bounty</a></td>
                </tr>
                <tr>
                    <td><a href="../ships/convoys-thargoid-queen.html">Thargoid Queen - very high bounty</a></td>
                </tr>
                <tr>
                    <td><a href="../ships/convoys-thargoid-subentity.html">Thargoid Queen Subentity</a></td>
                </tr>
                <tr>
                    <td><a href="../ships/convoys-transporter.html">Transporter Leader</a></td>
                </tr>
                <tr>
                    <td><a href="../ships/convoys-transporter-miner.html">Miner Leader</a></td>
                </tr>
                <tr>
                    <td><a href="../ships/convoys-worm.html">Worm Leader</a></td>
                </tr>
                <tr>
                    <td><a href="../ships/convoys-worm-miner.html">Worm Miner Leader</a></td>
                </tr>
            </table>
        </a>

        <a name="models">    
        <h2>Models</h2>
            This expansion declares no models. This may be related to warnings.
        </a>

        <a name="scripts">    
        <h2>Scripts</h2>
            <table>
                <tr>
                    <th>Path</th>
                </tr>
                <tr>
                    <td valign="top">Scripts/convoys.js</td>
                    <td><pre>&quot;use strict&quot;;
this.name	= &quot;convoys&quot;;
this.author	= &quot;Norby&quot;;
this.copyright	= &quot;2017 Norby&quot;;
this.description= &quot;Convoys worldscript&quot;;
this.licence	= &quot;CC BY-NC-SA 4.0&quot;;


//this function is almost a copy from Escort Formations OXP but handle the new roles added in Oolite 1.79.

this.shipSpawned = function(ship) {
	if (!ship.script) return; // odd, but seems to happen occasionally
	if (ship.script.coordinatesForEscortPosition != Script.prototype.coordinatesForEscortPosition) {
		//this.$debug(ship.displayName+&quot; has escort coordinates already&quot;);
		return; 
	} // already has some custom coordinates
	if (ship.script.$efr_pattern) { 
		//this.$debug(ship.displayName+&quot; has $efr_pattern already&quot;);
		return; 
	} // variable name conflict
	if (ship.script.$efr_timer) { 
		//this.$debug(ship.displayName+&quot; has $efr_pattern already&quot;);
		return; 
	} // variable name conflict
	var offensiveChance = 0, r = ship.primaryRole;
	if ( r == &quot;miner&quot; || r == &quot;scavenger&quot; || r == &quot;shuttle&quot; ) {
		offensiveChance = 0;
	} else if ( r == &quot;escort&quot; || r == &quot;escort-medium&quot; || r == &quot;escort-heavy&quot; ) {
		offensiveChance = 0;
	} else if ( r == &quot;trader&quot; || r == &quot;trader-courier&quot; || r == &quot;trader-smuggler&quot; ) {
		offensiveChance = 0.15;
	} else if (r == &quot;pirate&quot; || r == &quot;pirate-light-fighter&quot; || r == &quot;pirate-medium-fighter&quot;
			|| r == &quot;pirate-heavy-fighter&quot; || r == &quot;pirate-light-freighter&quot;
			|| r == &quot;pirate-medium-freighter&quot; || r == &quot;pirate-heavy-freighter&quot;
			|| r == &quot;pirate-aegis-raider&quot; || r == &quot;pirate-interceptor&quot; ) {
		offensiveChance = 0.75;
	} else if (r == &quot;police&quot; || r == &quot;interceptor&quot; || r == &quot;wingman&quot; ) {
		offensiveChance = 0.9;
	} else if (r == &quot;hunter&quot; || r == &quot;hunter-medium&quot; || r == &quot;hunter-heavy&quot; ) {
		offensiveChance = 0.9;
	} else if (r == &quot;assassin-light&quot; || r == &quot;assassin-medium&quot; || r == &quot;assassin-heavy&quot;) {
		offensiveChance = 1;
	} else if (r == &quot;thargoid&quot;) {
		offensiveChance = 1;
	} else {
		//this.$debug(ship.displayName+&quot; has no included role&quot;);
		return; // stock ships only
	}
        if (Math.random() &lt; 0.10) {
                //this.$debug(&quot;No escort change for &quot;+ship.displayName);
                return;
        } // keep default formation
	
// timer to allow escorts to be set up too
	if (Math.random() &lt; offensiveChance) {
		ship.script.$efr_timer = new Timer(ship,function() {
                    worldScripts[&quot;Escort Formations Randomiser&quot;].$setupOffensiveEscorts(ship); },0.25);
	} else {
		ship.script.$efr_timer = new Timer(ship,function() { 
                    worldScripts[&quot;Escort Formations Randomiser&quot;].$setupDefensiveEscorts(ship); },0.25);
	}
}

this.$debug = function(msg) {
	log(this.name,msg);
}
</pre></td>
                </tr>
            </table>
        </a>
    </body>
</html>
