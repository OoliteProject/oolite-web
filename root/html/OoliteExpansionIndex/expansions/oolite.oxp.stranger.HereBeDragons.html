<html>
    <head>
        <title>Expansion Here be Dragons</title>
        <link rel="stylesheet" href="../style.css">
    </head>
    <body>
        <table border="0" width="100%">
            <tr>
                <td>Back to <a href='../index.html'>Index</a></td>
                <td align="right"><small>Page generated: Oct 11, 2023, 3:16:49 PM</small></td>
            </tr>
        </table>

        <h1>Expansion Here be Dragons</h1>

        <h2>Content</h2>
        <ul>
          <li><a href="#warnings">Warnings</a></li>
          <li><a href="#manifest">Manifest</a></li>
          <li><a href="#documentation">Documentation</a></li>
          <li><a href="#equipment">0 Equipment</a></li>
          <li><a href="#ships">0 Ships</a></li>
          <li><a href="#models">0 Models</a></li>
          <li><a href="#scripts">1 Scripts</a></li>
        </ul>

          <a name="warnings">
            <h2>Warnings</h2>
            <ol>
                <li>Tags mismatch between OXP Manifest and Expansion Manager at character position 0002 (RIGHT SQUARE BRACKET vs LATIN SMALL LETTER M)(&#39;[]&#39; vs &#39;[map, chart, concealment, system]&#39;)</li>
                <li>Conflict Expansions mismatch between OXP Manifest and Expansion Manager at character position 0057 (DIGIT ZERO vs LATIN SMALL LETTER N)</li>
            </ol>
          </a>

        <a name="manifest">
        <h2>Manifest</h2>
            <table border="1">
                <tr>
                    <th></th>
                    <th>from Expansion Manager's OXP list</th>
                    <th>from Expansion Manifest</th>
                </tr>
                <tr>
                    <td>Description</td>
                    <td>This OXP is addition to Explorer&#39;s Club. It allows permanent access to F7 system info only for already visited systems and temporary access for system info in 7 LY range. This is ocean of unexplored worlds beyond you horizon now.</td>
                    <td>This OXP is addition to Explorer&#39;s Club. It allows permanent access to F7 system info only for already visited systems and temporary access for system info in 7 LY range. This is ocean of unexplored worlds beyond you horizon now.</td>
                </tr>
                <tr>
                    <td>Identifier</td>
                    <td>oolite.oxp.stranger.HereBeDragons</td>
                    <td>oolite.oxp.stranger.HereBeDragons</td>
                </tr>
                <tr>
                    <td>Title</td>
                    <td>Here be Dragons</td>
                    <td>Here be Dragons</td>
                </tr>
                <tr>
                    <td>Category</td>
                    <td>Mechanics</td>
                    <td>Mechanics</td>
                </tr>
                <tr>
                    <td>Author</td>
                    <td>stranger</td>
                    <td>stranger</td>
                </tr>
                <tr>
                    <td>Version</td>
                    <td>1.0.2</td>
                    <td>1.0.2</td>
                </tr>
                <tr>
                    <td>Tags</td>
                    <td></td>
                    <td>map, chart, concealment, system</td>
                </tr>
                <tr>
                    <td>Required Oolite Version</td>
                    <td></td>
                    <td></td>
                </tr>
                <tr>
                    <td>Maximum Oolite Version</td>
                    <td></td>
                    <td></td>
                </tr>
                <tr>
                    <td>Required Expansions</td>
                    <td>
                            <li>oolite.oxp.CaptMurphy.ExplorersClub:1.4.4</li>
                    </td>
                    <td>
                            <li>oolite.oxp.CaptMurphy.ExplorersClub:1.4.4</li>
                    </td>
                </tr>
                <tr>
                    <td>Optional Expansions</td>
                    <td>
                    </td>
                    <td>
                    </td>
                </tr>
                <tr>
                    <td>Conflict Expansions</td>
                    <td>
                            <li>oolite.oxp.SMax.ZeroMap:0</li>
                    </td>
                    <td>
                            <li>oolite.oxp.SMax.ZeroMap:</li>
                    </td>
                </tr>
                <tr>
                    <td>Information URL</td>
                    <td><a target="_blank" href="http://aegidian.org/bb/viewtopic.php?f=4&amp;t=19594">http://aegidian.org/bb/viewtopic.php?f=4&amp;t=19594</a></td>
                    <td><a target="_blank" href="">n/a</a></td>
                </tr>
                <tr>
                    <td>Download URL</td>
                    <td><a target="_blank" href="https://wiki.alioth.net/img_auth.php/a/ac/HereBeDragons.oxz">https://wiki.alioth.net/img_auth.php/a/ac/HereBeDragons.oxz</a></td>
                    <td><a target="_blank" href="">n/a</a></td>
                </tr>
                <tr>
                    <td>License</td>
                    <td>CC-BY-NC-SA 3.0</td>
                    <td>CC-BY-NC-SA 3.0</td>
                </tr>
                <tr>
                    <td>File Size</td>
                    <td>n/a</td>
                </tr>
                <tr>
                    <td>Upload date</td>
                    <td>1610873408</td>
                </tr>
            </table>
                </a>

        <a name="documentation">
        <h2>Documentation</h2>
        <p>Also read <a href='http://wiki.alioth.net/index.php/Here%20be%20Dragons'>http://wiki.alioth.net/index.php/Here%20be%20Dragons</a></p>
        <h3>ReadMe &amp; License.txt</h3>
        <pre>Here be Dragons OXP by Stranger

This OXP is released under the Creative Commons Attribution - Non-Commercial - Share Alike 3.0 license.
You are free to use and distribute this OXP on non-commercial basis. 
Rebundling of this OXP within another distribution is permitted as long as it is unchanged.
Any mods/derivatives of this OXP must be distributed under another names.
The license information (either as this file or merged into a larger one) must be included in the OXP.

--------------------------------------------------------------

This OXP is addition to Explorer&#39;s Club. It allows permanent access system to info F7 only for already visited systems and temporary access for systems in 7 LY range. This is ocean of unexplored worlds beyond you horizon now.
When you are docked in any station you have access to coordinates of unvisited systems beyond 7 LY horizon, you may plot route to these systems - that&#39;s all. No any clues for tech level, economy, government etc.
When you are in flight any unvisited systems are hidden - you have only access for your ship&#39;s personal database.
Jumping to new system adds info access for new systems in 7 LY range, but all these temporary contacts will be hidden again beyond 7 LY horizon.

You need Explorer&#39;s Club installed to use this OXP!
This OXP requires minimum Oolite 1.84.

Compatibility issues

This OXP is incompatible with ZeroMap (author SMax) due to conflicting functionality.
This OXP may cause issues with generating missions onto unexplored systems in flight.
Generating missions onto unexplored systems in docked state seems to work fine.
Reports for any mission-related problems are welcomed!

Credits

Capt. Murphy &amp; Wildeblood - fantastic Explorer&#39;s Club OXP
commander vasig - idea of this OXP and stimulus for its reincarnation

Version history:

30.01.2019 - Version 1.0.2	Converted to OXZ	
18.04.2018 - Version 1.0.1	Fixed missed dependency in manifest.plist.
17.04.2018 - Version 1.0	Code edited to satisfy OXP Standards recommendations.
				manifest.plist added.
18.08.2017 - Version 0.9	Unexplored system on map concealed on this.StartUpComplete event to give System Makeup full assess for systems info.
18.04.2017 - Version 0.8	Fixed hyperjump freeze issue caused by conflict with CargoTypeExtension-Dynamic script in New Cargoes OXP.
07.09.2016 - Version 0.7	Fixed missing concealment reset after docking.
07.09.2016 - Version 0.6	Unvisited systems beyond 7 LY horizon completely invisible in flight.
29.07.2016 - Version 0.5	Map upgrade after jump to new system / new chart refined.
22.07.2016 - Version 0.4	Code rewritten to implement concealment parameter for unvisited systems.
22.12.2013 - Version 0.3	F7 screen available immediately after entering the system.
20.12.2013 - Version 0.2	7 LY horizon info screen added. Public release.
13.12.2013 - Version 0.1	Initial release (internal testing).
</pre>
        </a>

        <a name="equipment">          
        <h2>Equipment</h2>
            This expansion declares no equipment. This may be related to warnings.
        </a>

        <a name="ships">    
        <h2>Ships</h2>
            This expansion declares no ships. This may be related to warnings.
        </a>

        <a name="models">    
        <h2>Models</h2>
            This expansion declares no models. This may be related to warnings.
        </a>

        <a name="scripts">    
        <h2>Scripts</h2>
            <table>
                <tr>
                    <th>Path</th>
                </tr>
                <tr>
                    <td valign="top">Scripts/here_be_dragons.js</td>
                    <td><pre>&quot;use strict&quot;;
this.name        = &quot;Here be Dragons&quot;; 
this.author      = &quot;Stranger.&quot;; 
this.copyright   = &quot;Stranger.&quot;;
this.licence     = &quot;CC BY-NC-SA 3.0&quot;; 
this.description = &quot;Worldscript to block info for unvisited systems.&quot;; 
this.version     = &quot;1.0&quot;;

this.startUpComplete = function()   // set map after System Makeup processed planet textures!
    {
    this.$explorerClub_data = JSON.parse(missionVariables.explorerClub_record);
    this.$setupSystemDisplay();
    this.$setupLocalDisplay();
    }

    this.shipLaunchedFromStation = this.shipExitedWitchspace = this.shipDockedWithStation = function()
    {
    if (system.isInterstellarSpace) return;
    this.$setupSystemDisplay();
    this.$setupLocalDisplay();
    }

this.playerStartedJumpCountdown = function()
    {
    var g = system.info.galaxyID;    
    var t = player.ship.targetSystem;
    for (var i = 0; i &lt; 256; i++)
        {
        System.infoForSystem(g, i).setProperty(2, &quot;concealment&quot;, 200);      // temporary show all systems for New Cargoes
        }
    System.infoForSystem(g, system.ID).setProperty(2, &quot;concealment&quot;, 0);    // restore complete data set for system of departure...
    System.infoForSystem(g, t).setProperty(2, &quot;concealment&quot;, 0);            // ... and system of destination
    }

this.playerCancelledJumpCountdown = this.playerJumpFailed = function()
    {
    if (system.isInterstellarSpace) return;
    this.$setupSystemDisplay();
    this.$setupLocalDisplay();    
    }

this.guiScreenChanged = function(to,from)
    {
    if (guiScreen === &quot;GUI_SCREEN_SYSTEM_DATA&quot;)
        {
        if (system.isInterstellarSpace) return;
        var g = system.info.galaxyID;
        var t = player.ship.targetSystem;
        if (system.ID == t) return;
        var target_range = System.infoForSystem(g, system.ID).distanceToSystem(System.infoForSystem(g, t));
        if ((this.$explorerClub_data[g].indexOf(t) === -1) &amp;&amp; (target_range &gt; 7))
            {
            mission.runScreen({title: &quot;Access failed&quot;, message: &quot;Commander,\n\nThis is unexplored section of Ooniverse!\n\nLocal database can&#39;t provide you reliable information for this system.\n\nVisit it at your own risk.&quot;, background: &quot;Explorers_Club.png&quot;});
            }
        }
    }

this.$setupSystemDisplay = function()
    {
    var g = system.info.galaxyID;
    for (var i = 0; i &lt; 256; i++)
        {
        if (this.$explorerClub_data[g].indexOf(i) != -1)
            {
            System.infoForSystem(g, i).setProperty(2, &quot;concealment&quot;, 0);
            }
        else
            {
            if (player.ship.docked != true)
                {
                System.infoForSystem(g, i).setProperty(2, &quot;concealment&quot;, 300);
                }
            else
                {
                System.infoForSystem(g, i).setProperty(2, &quot;concealment&quot;, 200);
                }            
            }
        }    
    }

this.$setupLocalDisplay = function()
    {
    var g = system.info.galaxyID;
    var l = System.infoForSystem(g, system.ID).systemsInRange();
    for (var j = 0; j &lt; l.length; j++)
        {
        var m = l[j].systemID;
        System.infoForSystem(g, m).setProperty(2, &quot;concealment&quot;, 0);
        }
    System.infoForSystem(g, system.ID).setProperty(2, &quot;concealment&quot;, 0);
    }
</pre></td>
                </tr>
            </table>
        </a>
    </body>
</html>
